2025-06-14 12:57:46 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - Starting FoodPlusOrderingApplication using Java 21.0.7 with PID 249211 (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes started by louki in /home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system)
2025-06-14 12:57:46 [main] DEBUG m.f.o.s.FoodPlusOrderingApplication - Running with Spring Boot v3.5.0, Spring v6.2.7
2025-06-14 12:57:46 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - The following 1 profile is active: "dev"
2025-06-14 12:57:47 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-14 12:57:47 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-14 12:57:47 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 108 ms. Found 10 JPA repository interfaces.
2025-06-14 12:57:48 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-14 12:57:48 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-06-14 12:57:48 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.common.repository.CategoryTarifRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 12:57:48 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.CustomerGroupRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 12:57:48 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.CustomerRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 12:57:48 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.ProductCustomerRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 12:57:48 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.DepotRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 12:57:48 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.ProductStockRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 12:57:48 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.SiteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 12:57:48 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.order.repository.OrderRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 12:57:48 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.product.repository.ProductRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 12:57:48 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.promos.repository.PromotionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 12:57:48 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 26 ms. Found 0 Redis repository interfaces.
2025-06-14 12:57:48 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8087 (http)
2025-06-14 12:57:48 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-14 12:57:48 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.41]
2025-06-14 12:57:48 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-14 12:57:48 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2225 ms
2025-06-14 12:57:49 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-06-14 12:57:49 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@31204303
2025-06-14 12:57:49 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-06-14 12:57:49 [main] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://10.113.181.84:5432/foodplus_ordering (PostgreSQL 17.5)
2025-06-14 12:57:49 [main] INFO  o.f.core.internal.command.DbValidate - Successfully validated 15 migrations (execution time 00:00.033s)
2025-06-14 12:57:49 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "public": 1.6.1
2025-06-14 12:57:49 [main] WARN  o.f.core.internal.command.DbMigrate - outOfOrder mode is active. Migration of schema "public" may not be reproducible.
2025-06-14 12:57:49 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "public" to version "1.7.1 - insert dummy data"
2025-06-14 12:57:49 [main] ERROR o.f.core.internal.command.DbMigrate - Migration of schema "public" to version "1.7.1 - insert dummy data" failed! Changes successfully rolled back.
2025-06-14 12:57:49 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Script V1.7.1__insert_dummy_data.sql failed
-------------------------------------------
SQL State  : 23503
Error Code : 0
Message    : ERROR: insert or update on table "depots" violates foreign key constraint "depots_site_id_fkey"
  Detail: Key (site_id)=(1) is not present in table "sites".
Location   : db/migration/data/V1.7.1__insert_dummy_data.sql (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/db/migration/data/V1.7.1__insert_dummy_data.sql)
Line       : 10
Statement  : Run Flyway with -X option to see the actual statement causing the problem

2025-06-14 12:57:49 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-06-14 12:57:49 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-06-14 12:57:49 [main] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-06-14 12:57:49 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-06-14 12:57:49 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Script V1.7.1__insert_dummy_data.sql failed
-------------------------------------------
SQL State  : 23503
Error Code : 0
Message    : ERROR: insert or update on table "depots" violates foreign key constraint "depots_site_id_fkey"
  Detail: Key (site_id)=(1) is not present in table "sites".
Location   : db/migration/data/V1.7.1__insert_dummy_data.sql (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/db/migration/data/V1.7.1__insert_dummy_data.sql)
Line       : 10
Statement  : Run Flyway with -X option to see the actual statement causing the problem

	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:328)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:753)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1362)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1351)
	at ma.foodplus.ordering.system.FoodPlusOrderingApplication.main(FoodPlusOrderingApplication.java:22)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Script V1.7.1__insert_dummy_data.sql failed
-------------------------------------------
SQL State  : 23503
Error Code : 0
Message    : ERROR: insert or update on table "depots" violates foreign key constraint "depots_site_id_fkey"
  Detail: Key (site_id)=(1) is not present in table "sites".
Location   : db/migration/data/V1.7.1__insert_dummy_data.sql (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/db/migration/data/V1.7.1__insert_dummy_data.sql)
Line       : 10
Statement  : Run Flyway with -X option to see the actual statement causing the problem

	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1826)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:607)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315)
	... 10 common frames omitted
Caused by: org.flywaydb.core.internal.exception.FlywayMigrateException: Script V1.7.1__insert_dummy_data.sql failed
-------------------------------------------
SQL State  : 23503
Error Code : 0
Message    : ERROR: insert or update on table "depots" violates foreign key constraint "depots_site_id_fkey"
  Detail: Key (site_id)=(1) is not present in table "sites".
Location   : db/migration/data/V1.7.1__insert_dummy_data.sql (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/db/migration/data/V1.7.1__insert_dummy_data.sql)
Line       : 10
Statement  : Run Flyway with -X option to see the actual statement causing the problem

	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:399)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$applyMigrations$1(DbMigrate.java:283)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:59)
	at org.flywaydb.core.internal.command.DbMigrate.applyMigrations(DbMigrate.java:282)
	at org.flywaydb.core.internal.command.DbMigrate.migrateGroup(DbMigrate.java:255)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$migrateAll$0(DbMigrate.java:153)
	at org.flywaydb.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:77)
	at org.flywaydb.database.postgresql.PostgreSQLAdvisoryLockTemplate.lambda$execute$0(PostgreSQLAdvisoryLockTemplate.java:60)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:59)
	at org.flywaydb.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:60)
	at org.flywaydb.database.postgresql.PostgreSQLConnection.lock(PostgreSQLConnection.java:105)
	at org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory.lock(JdbcTableSchemaHistory.java:164)
	at org.flywaydb.core.internal.command.DbMigrate.migrateAll(DbMigrate.java:153)
	at org.flywaydb.core.internal.command.DbMigrate.migrate(DbMigrate.java:104)
	at org.flywaydb.core.Flyway.lambda$migrate$1(Flyway.java:247)
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:210)
	at org.flywaydb.core.Flyway.migrate(Flyway.java:188)
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1873)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1822)
	... 17 common frames omitted
Caused by: org.flywaydb.core.internal.sqlscript.FlywaySqlScriptException: Script V1.7.1__insert_dummy_data.sql failed
-------------------------------------------
SQL State  : 23503
Error Code : 0
Message    : ERROR: insert or update on table "depots" violates foreign key constraint "depots_site_id_fkey"
  Detail: Key (site_id)=(1) is not present in table "sites".
Location   : db/migration/data/V1.7.1__insert_dummy_data.sql (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/db/migration/data/V1.7.1__insert_dummy_data.sql)
Line       : 10
Statement  : Run Flyway with -X option to see the actual statement causing the problem

	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.handleException(DefaultSqlScriptExecutor.java:256)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:217)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.execute(DefaultSqlScriptExecutor.java:137)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.executeOnce(SqlMigrationExecutor.java:75)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.lambda$execute$0(SqlMigrationExecutor.java:66)
	at org.flywaydb.core.internal.database.DefaultExecutionStrategy.execute(DefaultExecutionStrategy.java:31)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.execute(SqlMigrationExecutor.java:65)
	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:391)
	... 36 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERROR: insert or update on table "depots" violates foreign key constraint "depots_site_id_fkey"
  Detail: Key (site_id)=(1) is not present in table "sites".
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:356)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:341)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:317)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:312)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.flywaydb.core.internal.jdbc.JdbcTemplate.executeStatement(JdbcTemplate.java:215)
	at org.flywaydb.core.internal.sqlscript.ParsedSqlStatement.execute(ParsedSqlStatement.java:88)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:212)
	... 42 common frames omitted
2025-06-14 13:06:10 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - Starting FoodPlusOrderingApplication using Java 21.0.7 with PID 255252 (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes started by louki in /home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system)
2025-06-14 13:06:10 [main] DEBUG m.f.o.s.FoodPlusOrderingApplication - Running with Spring Boot v3.5.0, Spring v6.2.7
2025-06-14 13:06:10 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - The following 1 profile is active: "dev"
2025-06-14 13:06:11 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-14 13:06:11 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-14 13:06:11 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 107 ms. Found 10 JPA repository interfaces.
2025-06-14 13:06:11 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-14 13:06:11 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-06-14 13:06:11 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.common.repository.CategoryTarifRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 13:06:11 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.CustomerGroupRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 13:06:11 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.CustomerRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 13:06:11 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.ProductCustomerRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 13:06:11 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.DepotRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 13:06:11 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.ProductStockRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 13:06:11 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.SiteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 13:06:11 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.order.repository.OrderRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 13:06:11 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.product.repository.ProductRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 13:06:11 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.promos.repository.PromotionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 13:06:11 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 24 ms. Found 0 Redis repository interfaces.
2025-06-14 13:06:12 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8087 (http)
2025-06-14 13:06:12 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-14 13:06:12 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.41]
2025-06-14 13:06:12 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-14 13:06:12 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2308 ms
2025-06-14 13:06:12 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-06-14 13:06:13 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@400008bf
2025-06-14 13:06:13 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-06-14 13:06:13 [main] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://10.113.181.84:5432/foodplus_ordering (PostgreSQL 17.5)
2025-06-14 13:06:13 [main] INFO  o.f.core.internal.command.DbValidate - Successfully validated 15 migrations (execution time 00:00.043s)
2025-06-14 13:06:13 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "public": 1.6.1
2025-06-14 13:06:13 [main] WARN  o.f.core.internal.command.DbMigrate - outOfOrder mode is active. Migration of schema "public" may not be reproducible.
2025-06-14 13:06:13 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "public" to version "1.7.1 - insert dummy data"
2025-06-14 13:06:13 [main] ERROR o.f.core.internal.command.DbMigrate - Migration of schema "public" to version "1.7.1 - insert dummy data" failed! Changes successfully rolled back.
2025-06-14 13:06:13 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Script V1.7.1__insert_dummy_data.sql failed
-------------------------------------------
SQL State  : 23503
Error Code : 0
Message    : ERROR: insert or update on table "customers" violates foreign key constraint "customers_cate_tarif_id_fkey"
  Detail: Key (cate_tarif_id)=(1) is not present in table "cat_tarif".
Location   : db/migration/data/V1.7.1__insert_dummy_data.sql (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/db/migration/data/V1.7.1__insert_dummy_data.sql)
Line       : 33
Statement  : Run Flyway with -X option to see the actual statement causing the problem

2025-06-14 13:06:13 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-06-14 13:06:13 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-06-14 13:06:13 [main] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-06-14 13:06:13 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-06-14 13:06:13 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Script V1.7.1__insert_dummy_data.sql failed
-------------------------------------------
SQL State  : 23503
Error Code : 0
Message    : ERROR: insert or update on table "customers" violates foreign key constraint "customers_cate_tarif_id_fkey"
  Detail: Key (cate_tarif_id)=(1) is not present in table "cat_tarif".
Location   : db/migration/data/V1.7.1__insert_dummy_data.sql (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/db/migration/data/V1.7.1__insert_dummy_data.sql)
Line       : 33
Statement  : Run Flyway with -X option to see the actual statement causing the problem

	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:328)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:753)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1362)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1351)
	at ma.foodplus.ordering.system.FoodPlusOrderingApplication.main(FoodPlusOrderingApplication.java:22)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Script V1.7.1__insert_dummy_data.sql failed
-------------------------------------------
SQL State  : 23503
Error Code : 0
Message    : ERROR: insert or update on table "customers" violates foreign key constraint "customers_cate_tarif_id_fkey"
  Detail: Key (cate_tarif_id)=(1) is not present in table "cat_tarif".
Location   : db/migration/data/V1.7.1__insert_dummy_data.sql (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/db/migration/data/V1.7.1__insert_dummy_data.sql)
Line       : 33
Statement  : Run Flyway with -X option to see the actual statement causing the problem

	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1826)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:607)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315)
	... 10 common frames omitted
Caused by: org.flywaydb.core.internal.exception.FlywayMigrateException: Script V1.7.1__insert_dummy_data.sql failed
-------------------------------------------
SQL State  : 23503
Error Code : 0
Message    : ERROR: insert or update on table "customers" violates foreign key constraint "customers_cate_tarif_id_fkey"
  Detail: Key (cate_tarif_id)=(1) is not present in table "cat_tarif".
Location   : db/migration/data/V1.7.1__insert_dummy_data.sql (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/db/migration/data/V1.7.1__insert_dummy_data.sql)
Line       : 33
Statement  : Run Flyway with -X option to see the actual statement causing the problem

	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:399)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$applyMigrations$1(DbMigrate.java:283)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:59)
	at org.flywaydb.core.internal.command.DbMigrate.applyMigrations(DbMigrate.java:282)
	at org.flywaydb.core.internal.command.DbMigrate.migrateGroup(DbMigrate.java:255)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$migrateAll$0(DbMigrate.java:153)
	at org.flywaydb.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:77)
	at org.flywaydb.database.postgresql.PostgreSQLAdvisoryLockTemplate.lambda$execute$0(PostgreSQLAdvisoryLockTemplate.java:60)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:59)
	at org.flywaydb.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:60)
	at org.flywaydb.database.postgresql.PostgreSQLConnection.lock(PostgreSQLConnection.java:105)
	at org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory.lock(JdbcTableSchemaHistory.java:164)
	at org.flywaydb.core.internal.command.DbMigrate.migrateAll(DbMigrate.java:153)
	at org.flywaydb.core.internal.command.DbMigrate.migrate(DbMigrate.java:104)
	at org.flywaydb.core.Flyway.lambda$migrate$1(Flyway.java:247)
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:210)
	at org.flywaydb.core.Flyway.migrate(Flyway.java:188)
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1873)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1822)
	... 17 common frames omitted
Caused by: org.flywaydb.core.internal.sqlscript.FlywaySqlScriptException: Script V1.7.1__insert_dummy_data.sql failed
-------------------------------------------
SQL State  : 23503
Error Code : 0
Message    : ERROR: insert or update on table "customers" violates foreign key constraint "customers_cate_tarif_id_fkey"
  Detail: Key (cate_tarif_id)=(1) is not present in table "cat_tarif".
Location   : db/migration/data/V1.7.1__insert_dummy_data.sql (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/db/migration/data/V1.7.1__insert_dummy_data.sql)
Line       : 33
Statement  : Run Flyway with -X option to see the actual statement causing the problem

	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.handleException(DefaultSqlScriptExecutor.java:256)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:217)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.execute(DefaultSqlScriptExecutor.java:137)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.executeOnce(SqlMigrationExecutor.java:75)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.lambda$execute$0(SqlMigrationExecutor.java:66)
	at org.flywaydb.core.internal.database.DefaultExecutionStrategy.execute(DefaultExecutionStrategy.java:31)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.execute(SqlMigrationExecutor.java:65)
	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:391)
	... 36 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERROR: insert or update on table "customers" violates foreign key constraint "customers_cate_tarif_id_fkey"
  Detail: Key (cate_tarif_id)=(1) is not present in table "cat_tarif".
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:356)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:341)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:317)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:312)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.flywaydb.core.internal.jdbc.JdbcTemplate.executeStatement(JdbcTemplate.java:215)
	at org.flywaydb.core.internal.sqlscript.ParsedSqlStatement.execute(ParsedSqlStatement.java:88)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:212)
	... 42 common frames omitted
2025-06-14 13:08:20 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - Starting FoodPlusOrderingApplication using Java 21.0.7 with PID 256887 (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes started by louki in /home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system)
2025-06-14 13:08:20 [main] DEBUG m.f.o.s.FoodPlusOrderingApplication - Running with Spring Boot v3.5.0, Spring v6.2.7
2025-06-14 13:08:20 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - The following 1 profile is active: "dev"
2025-06-14 13:08:20 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-14 13:08:20 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-14 13:08:20 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 93 ms. Found 10 JPA repository interfaces.
2025-06-14 13:08:21 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-14 13:08:21 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-06-14 13:08:21 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.common.repository.CategoryTarifRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 13:08:21 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.CustomerGroupRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 13:08:21 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.CustomerRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 13:08:21 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.ProductCustomerRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 13:08:21 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.DepotRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 13:08:21 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.ProductStockRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 13:08:21 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.SiteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 13:08:21 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.order.repository.OrderRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 13:08:21 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.product.repository.ProductRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 13:08:21 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.promos.repository.PromotionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 13:08:21 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 19 ms. Found 0 Redis repository interfaces.
2025-06-14 13:08:21 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8087 (http)
2025-06-14 13:08:21 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-14 13:08:21 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.41]
2025-06-14 13:08:21 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-14 13:08:21 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1831 ms
2025-06-14 13:08:22 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-06-14 13:08:22 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.15.Final
2025-06-14 13:08:22 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-06-14 13:08:22 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-06-14 13:08:22 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@718d6b7c
2025-06-14 13:08:22 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-06-14 13:08:22 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-06-14 13:08:22 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 17.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-06-14 13:08:22 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-06-14 13:08:24 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-06-14 13:08:24 [main] DEBUG org.hibernate.SQL - 
    set client_min_messages = WARNING
2025-06-14 13:08:24 [main] DEBUG org.hibernate.SQL - 
    alter table if exists categories 
       drop constraint if exists FKsaok720gsu4u2wrgbk10b5n8d
2025-06-14 13:08:24 [main] DEBUG org.hibernate.SQL - 
    alter table if exists customer_group_members 
       drop constraint if exists FKetr33gy3yxphaasg8pnk8wyvs
2025-06-14 13:08:24 [main] DEBUG org.hibernate.SQL - 
    alter table if exists customer_group_members 
       drop constraint if exists FKj7chtq65ntu6cwx5vtc3rngdp
2025-06-14 13:08:24 [main] DEBUG org.hibernate.SQL - 
    alter table if exists depots 
       drop constraint if exists FK5qq91mnq7j5lemrap49cshimd
2025-06-14 13:08:24 [main] DEBUG org.hibernate.SQL - 
    alter table if exists order_item_applied_promotions 
       drop constraint if exists FK82i7jogqbstxwl46g1rywbwsu
2025-06-14 13:08:24 [main] DEBUG org.hibernate.SQL - 
    alter table if exists order_items 
       drop constraint if exists FKbioxgbv59vetrxe0ejfubep1w
2025-06-14 13:08:24 [main] DEBUG org.hibernate.SQL - 
    alter table if exists product_categories 
       drop constraint if exists FKd112rx0alycddsms029iifrih
2025-06-14 13:08:24 [main] DEBUG org.hibernate.SQL - 
    alter table if exists product_categories 
       drop constraint if exists FKlda9rad6s180ha3dl1ncsp8n7
2025-06-14 13:08:24 [main] DEBUG org.hibernate.SQL - 
    alter table if exists product_stocks 
       drop constraint if exists FKmcawg70vkgr4vfrsphtcoc8up
2025-06-14 13:08:24 [main] DEBUG org.hibernate.SQL - 
    alter table if exists products 
       drop constraint if exists FK53ooveoh14cvs7qns24gmlehh
2025-06-14 13:08:24 [main] DEBUG org.hibernate.SQL - 
    alter table if exists products_customer 
       drop constraint if exists FKnygquw0w0xvu9lfjpsbd6xmgv
2025-06-14 13:08:24 [main] DEBUG org.hibernate.SQL - 
    alter table if exists products_customer 
       drop constraint if exists FK4vdatfmkcw4aqwv41q569gq44
2025-06-14 13:08:24 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_conditions 
       drop constraint if exists FKjfph2mn5x5inav2a7wsxo2r2l
2025-06-14 13:08:24 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_customer_families 
       drop constraint if exists FKjy33meus9wkfyyp29kyxhaw3i
2025-06-14 13:08:24 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_customer_usage 
       drop constraint if exists FKtkdnuodmsbsskeejx4ksjgmsn
2025-06-14 13:08:24 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_dynamic_conditions 
       drop constraint if exists FKd2huyfw319bhk0frhvdh0v0ot
2025-06-14 13:08:24 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_excluded_categories 
       drop constraint if exists FKiamgbul5ugcmy9ewsemk31fng
2025-06-14 13:08:24 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_excluded_products 
       drop constraint if exists FK1s1aelilqwce11lxgop8yhud0
2025-06-14 13:08:24 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_lines 
       drop constraint if exists FKc6jg561k2bcyoja0im2kifdgb
2025-06-14 13:08:24 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_rules 
       drop constraint if exists FK6xcgfd4fvmkpqdlnln3opdmpg
2025-06-14 13:08:24 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_tiers 
       drop constraint if exists FK3iar32tvya9o51dqhtaf95ev6
2025-06-14 13:08:24 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_tiers 
       drop constraint if exists FKhw31w9eyoj371gg325124p1e9
2025-06-14 13:08:24 [main] DEBUG org.hibernate.SQL - 
    drop table if exists cat_tarif cascade
2025-06-14 13:08:24 [main] DEBUG org.hibernate.SQL - 
    drop table if exists categories cascade
2025-06-14 13:08:24 [main] DEBUG org.hibernate.SQL - 
    drop table if exists customer_group_members cascade
2025-06-14 13:08:24 [main] DEBUG org.hibernate.SQL - 
    drop table if exists customer_groups cascade
2025-06-14 13:08:24 [main] DEBUG org.hibernate.SQL - 
    drop table if exists customers cascade
2025-06-14 13:08:24 [main] DEBUG org.hibernate.SQL - 
    drop table if exists depots cascade
2025-06-14 13:08:24 [main] DEBUG org.hibernate.SQL - 
    drop table if exists order_item_applied_promotions cascade
2025-06-14 13:08:24 [main] DEBUG org.hibernate.SQL - 
    drop table if exists order_items cascade
2025-06-14 13:08:24 [main] DEBUG org.hibernate.SQL - 
    drop table if exists orders cascade
2025-06-14 13:08:24 [main] DEBUG org.hibernate.SQL - 
    drop table if exists product_categories cascade
2025-06-14 13:08:24 [main] DEBUG org.hibernate.SQL - 
    drop table if exists product_families cascade
2025-06-14 13:08:24 [main] DEBUG org.hibernate.SQL - 
    drop table if exists product_stocks cascade
2025-06-14 13:08:24 [main] DEBUG org.hibernate.SQL - 
    drop table if exists products cascade
2025-06-14 13:08:24 [main] DEBUG org.hibernate.SQL - 
    drop table if exists products_customer cascade
2025-06-14 13:08:24 [main] DEBUG org.hibernate.SQL - 
    drop table if exists promotion_conditions cascade
2025-06-14 13:08:24 [main] DEBUG org.hibernate.SQL - 
    drop table if exists promotion_customer_families cascade
2025-06-14 13:08:24 [main] DEBUG org.hibernate.SQL - 
    drop table if exists promotion_customer_usage cascade
2025-06-14 13:08:24 [main] DEBUG org.hibernate.SQL - 
    drop table if exists promotion_dynamic_conditions cascade
2025-06-14 13:08:24 [main] DEBUG org.hibernate.SQL - 
    drop table if exists promotion_excluded_categories cascade
2025-06-14 13:08:24 [main] DEBUG org.hibernate.SQL - 
    drop table if exists promotion_excluded_products cascade
2025-06-14 13:08:24 [main] DEBUG org.hibernate.SQL - 
    drop table if exists promotion_lines cascade
2025-06-14 13:08:24 [main] DEBUG org.hibernate.SQL - 
    drop table if exists promotion_rules cascade
2025-06-14 13:08:24 [main] DEBUG org.hibernate.SQL - 
    drop table if exists promotion_tiers cascade
2025-06-14 13:08:24 [main] DEBUG org.hibernate.SQL - 
    drop table if exists promotions cascade
2025-06-14 13:08:24 [main] DEBUG org.hibernate.SQL - 
    drop table if exists rewards cascade
2025-06-14 13:08:24 [main] DEBUG org.hibernate.SQL - 
    drop table if exists sites cascade
2025-06-14 13:08:24 [main] DEBUG org.hibernate.SQL - 
    create table cat_tarif (
        price_ttc numeric(24,6) not null,
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        updated_at timestamp(6) not null,
        description varchar(255) not null,
        primary key (id)
    )
2025-06-14 13:08:24 [main] DEBUG org.hibernate.SQL - 
    create table categories (
        is_active boolean not null,
        level integer not null,
        created_at timestamp(6) with time zone not null,
        id bigint generated by default as identity,
        parent_id bigint,
        updated_at timestamp(6) with time zone,
        description varchar(500),
        code varchar(255) not null unique,
        name varchar(255) not null,
        primary key (id)
    )
2025-06-14 13:08:24 [main] DEBUG org.hibernate.SQL - 
    create table customer_group_members (
        customer_id bigint not null,
        group_id bigint not null,
        primary key (customer_id, group_id)
    )
2025-06-14 13:08:24 [main] DEBUG org.hibernate.SQL - 
    create table customer_groups (
        created_at timestamp(6) with time zone not null,
        id bigint generated by default as identity,
        updated_at timestamp(6) with time zone,
        description varchar(255),
        name varchar(255) not null unique,
        primary key (id)
    )
2025-06-14 13:08:24 [main] DEBUG org.hibernate.SQL - 
    create table customers (
        annual_turnover numeric(38,2),
        average_order_value numeric(24,6),
        credit_limit numeric(24,6),
        credit_score integer,
        is_active boolean not null,
        is_vip boolean,
        loyalty_points integer,
        number_of_employees integer,
        outstanding_balance numeric(24,6),
        payment_term_days integer,
        total_orders integer,
        total_spent numeric(24,6),
        contract_end_date timestamp(6) with time zone,
        contract_start_date timestamp(6) with time zone,
        created_at timestamp(6) with time zone not null,
        customer_since timestamp(6) with time zone,
        id bigint generated by default as identity,
        last_activity_date timestamp(6) with time zone,
        last_order_date timestamp(6) with time zone,
        last_payment_date timestamp(6) with time zone,
        updated_at timestamp(6) with time zone,
        address varchar(255),
        bank_account_info TEXT,
        business_activity varchar(255),
        city varchar(255),
        company_name varchar(255),
        contract_number varchar(255),
        contract_terms TEXT,
        contract_type varchar(255),
        country varchar(255),
        created_by varchar(255),
        credit_rating varchar(255),
        ct_num varchar(255) not null unique,
        customer_type varchar(255) not null check (customer_type in ('B2B','B2C')),
        delivery_terms TEXT,
        description varchar(255) not null,
        email varchar(255),
        ice varchar(255) not null,
        legal_form varchar(255),
        notes TEXT,
        payment_history TEXT,
        payment_terms TEXT,
        postal_code varchar(255),
        preferred_delivery_days varchar(255),
        preferred_delivery_time varchar(255),
        preferred_payment_method varchar(255),
        region varchar(255),
        registration_number varchar(255),
        special_conditions TEXT,
        special_handling_instructions TEXT,
        tax_id varchar(255),
        telecopie varchar(255),
        telephone varchar(255),
        updated_by varchar(255),
        vat_number varchar(255),
        primary key (id)
    )
2025-06-14 13:08:24 [main] DEBUG org.hibernate.SQL - 
    create table depots (
        capacity_cubic_meters float(53),
        is_active boolean,
        is_refrigerated boolean,
        security_level integer,
        created_at timestamp(6) with time zone not null,
        id bigint generated by default as identity,
        site_id bigint,
        updated_at timestamp(6) with time zone,
        access_restrictions varchar(255),
        depot_code varchar(255) not null unique,
        depot_type varchar(255) check (depot_type in ('MAIN_WAREHOUSE','DISTRIBUTION_CENTER','COLD_STORAGE','DRY_STORAGE','HAZARDOUS_MATERIALS','TEMPORARY_STORAGE','CROSS_DOCKING')),
        description varchar(255) not null,
        handling_equipment varchar(255),
        special_requirements TEXT,
        temperature_range varchar(255),
        primary key (id)
    )
2025-06-14 13:08:24 [main] DEBUG org.hibernate.SQL - 
    create table order_item_applied_promotions (
        order_item_id bigint not null,
        promotion_code varchar(255)
    )
2025-06-14 13:08:24 [main] DEBUG org.hibernate.SQL - 
    create table order_items (
        bulk_quantity_threshold integer,
        consumed_quantity integer not null,
        discount_amount numeric(38,2) not null,
        quantity integer not null,
        sku_points numeric(38,2),
        special_pricing boolean,
        tax_amount numeric(38,2) not null,
        total_price numeric(38,2) not null,
        unit_price numeric(38,2) not null,
        wholesale_price numeric(38,2),
        created_at timestamp(6) with time zone not null,
        id bigint generated by default as identity,
        order_id bigint not null,
        product_family_id bigint,
        product_id bigint not null,
        updated_at timestamp(6) with time zone,
        applied_promotion_code varchar(255),
        notes varchar(255),
        product_name varchar(255) not null,
        sku varchar(255),
        primary key (id)
    )
2025-06-14 13:08:24 [main] DEBUG org.hibernate.SQL - 
    create table orders (
        bulk_discount_percentage numeric(38,2),
        is_wholesale boolean not null,
        minimum_order_value numeric(38,2),
        shipping_cost numeric(38,2) not null,
        special_pricing_agreement boolean,
        subtotal numeric(38,2) not null,
        total numeric(38,2) not null,
        total_discount numeric(38,2) not null,
        total_tax numeric(38,2) not null,
        cancelled_at timestamp(6) with time zone,
        created_at timestamp(6) with time zone not null,
        customer_id bigint not null,
        delivered_at timestamp(6) with time zone,
        id bigint generated by default as identity,
        payment_due_date timestamp(6) with time zone,
        preferred_delivery_date timestamp(6) with time zone,
        refunded_at timestamp(6) with time zone,
        updated_at timestamp(6) with time zone,
        cancellation_reason varchar(255),
        contract_number varchar(255),
        created_by varchar(255),
        delivery_instructions varchar(255),
        internal_notes varchar(255),
        notes varchar(255),
        order_number varchar(255) not null unique,
        order_type varchar(255) not null check (order_type in ('B2B','B2C')),
        payment_method varchar(255) check (payment_method in ('CASH','CREDIT_CARD','DEBIT_CARD','MOBILE_PAYMENT','BANK_TRANSFER','CHECK','WIRE_TRANSFER','CREDIT_NOTE','LETTER_OF_CREDIT')),
        payment_notes varchar(255),
        payment_reference varchar(255),
        payment_status varchar(255) check (payment_status in ('PENDING','PARTIALLY_PAID','PAID','FAILED','REFUNDED','CANCELLED','ON_HOLD','IN_DISPUTE')),
        payment_terms varchar(255),
        po_number varchar(255),
        reference_number varchar(255),
        refund_reason varchar(255),
        shipping_address varchar(255),
        shipping_city varchar(255),
        shipping_country varchar(255),
        shipping_notes varchar(255),
        shipping_postal_code varchar(255),
        status varchar(255) not null check (status in ('DRAFT','PENDING','CONFIRMED','PREPARING','READY','DELIVERING','DELIVERED','CANCELLED','REFUNDED')),
        updated_by varchar(255),
        primary key (id)
    )
2025-06-14 13:08:24 [main] DEBUG org.hibernate.SQL - 
    create table product_categories (
        category_id bigint not null,
        product_id bigint not null
    )
2025-06-14 13:08:24 [main] DEBUG org.hibernate.SQL - 
    create table product_families (
        is_active boolean not null,
        created_at timestamp(6) with time zone not null,
        id bigint generated by default as identity,
        updated_at timestamp(6) with time zone,
        code varchar(255) not null unique,
        description varchar(255),
        name varchar(255) not null,
        primary key (id)
    )
2025-06-14 13:08:24 [main] DEBUG org.hibernate.SQL - 
    create table product_stocks (
        days_of_stock integer,
        expiry_date date,
        max_stock_level numeric(24,6),
        min_stock_level numeric(24,6),
        quantity numeric(24,6) not null,
        reorder_point numeric(24,6),
        reorder_quantity numeric(24,6),
        reserved_quantity numeric(24,6) not null,
        shelf_life_days integer,
        unit_cost numeric(24,6) not null,
        created_at timestamp(6) with time zone not null,
        depot_id bigint not null,
        id bigint generated by default as identity,
        last_purchase_date timestamp(6) with time zone,
        last_sale_date timestamp(6) with time zone,
        product_id bigint not null,
        updated_at timestamp(6) with time zone,
        storage_conditions varchar(100),
        notes varchar(500),
        quality_notes varchar(1000),
        batch_number varchar(255),
        depot_name varchar(255),
        location_code varchar(255),
        product_name varchar(255),
        quality_status varchar(255) not null check (quality_status in ('INSPECTED','INSPECTION_REQUIRED','QUARANTINED','DAMAGED','RECALLED')),
        primary key (id)
    )
2025-06-14 13:08:24 [main] DEBUG org.hibernate.SQL - 
    create table products (
        b2b_contract_discount_percentage numeric(5,2),
        b2b_contract_required boolean,
        b2b_credit_terms integer,
        b2b_custom_pricing_enabled boolean,
        b2b_delivery_lead_time integer,
        b2b_minimum_order_value numeric(19,2),
        b2b_volume_discount_enabled boolean,
        b2c_display_in_catalog boolean,
        b2c_featured boolean,
        b2c_loyalty_points_multiplier numeric(5,2),
        b2c_promo_price numeric(19,2),
        b2c_rating numeric(3,2),
        b2c_retail_price numeric(19,2),
        b2c_review_count integer,
        bulk_discount_percentage numeric(5,2),
        bulk_discount_threshold integer,
        bulk_package_size integer,
        deliverable boolean not null,
        inactive boolean not null,
        is_bulk_item boolean not null,
        is_perishable boolean not null,
        is_wholesale_only boolean not null,
        maximum_order_quantity integer,
        minimum_order_quantity integer,
        package_quantity integer,
        price_including_tax numeric(10,2) not null,
        promo_sku_points numeric(10,2) not null,
        requires_approval boolean not null,
        requires_cold_storage boolean not null,
        requires_contract boolean not null,
        sale_price numeric(10,2) not null,
        tax_rate numeric(5,2),
        unit_price numeric(38,2) not null,
        vendable boolean not null,
        visible boolean not null,
        weight numeric(10,3),
        wholesale_discount_percentage numeric(5,2),
        wholesale_minimum_quantity integer,
        wholesale_price numeric(10,2),
        wholesale_tier_1_price numeric(10,2),
        wholesale_tier_1_quantity integer,
        wholesale_tier_2_price numeric(10,2),
        wholesale_tier_2_quantity integer,
        wholesale_tier_3_price numeric(10,2),
        wholesale_tier_3_quantity integer,
        b2c_promo_end_date timestamp(6) with time zone,
        b2c_promo_start_date timestamp(6) with time zone,
        created_at timestamp(6) with time zone,
        id bigint generated by default as identity,
        updated_at timestamp(6) with time zone,
        weight_unit varchar(10),
        bulk_package_unit varchar(20),
        stock_tracking varchar(20) not null check (stock_tracking in ('Aucun','SERIALIZED','CMUP','FIFO','LIFO','PAR_LOT')),
        barcode varchar(36) unique,
        dimensions varchar(50),
        package_size varchar(50),
        sale_unit varchar(50),
        seasonality varchar(50),
        supplier_code varchar(50),
        target_market varchar(50),
        country_of_origin varchar(100),
        supplier_name varchar(100),
        certification varchar(200),
        photo varchar(500),
        title varchar(500) not null,
        availability_schedule jsonb,
        b2b_payment_methods varchar(255),
        custom_attributes jsonb,
        customer_segments varchar(255),
        description TEXT not null,
        family_code varchar(255),
        reference varchar(255) not null unique,
        sku varchar(255) not null unique,
        additional_photos TEXT[],
        primary key (id)
    )
2025-06-14 13:08:24 [main] DEBUG org.hibernate.SQL - 
    create table products_customer (
        coef numeric(12,2),
        is_active boolean,
        prix_ttc numeric(16,6) not null,
        prix_ven_nouv numeric(16,6),
        qte_mont integer,
        remise numeric(16,6),
        remise_nouv numeric(16,6),
        created_at timestamp(6) with time zone,
        id bigint generated by default as identity,
        reference_customer bigint not null,
        reference_product bigint not null,
        updated_at timestamp(6) with time zone,
        category varchar(50),
        primary key (id)
    )
2025-06-14 13:08:24 [main] DEBUG org.hibernate.SQL - 
    create table promotion_conditions (
        required_loyalty_level integer,
        customer_group_id bigint,
        id bigint generated by default as identity,
        rule_id bigint,
        attribute varchar(255) not null,
        condition_type varchar(255) not null check (condition_type in ('CART_SUBTOTAL','PRODUCT_IN_CART','CUSTOMER_IN_GROUP','TIME_OF_DAY','DAY_OF_WEEK','CUSTOMER_LOYALTY_LEVEL','PAYMENT_METHOD')),
        entity_id varchar(255),
        entity_type varchar(255),
        operator varchar(255) not null check (operator in ('EQUAL','NOT_EQUAL','GREATER_THAN','GREATER_THAN_OR_EQUAL','LESS_THAN','LESS_THAN_OR_EQUAL','CONTAINS','NOT_CONTAINS','IN','NOT_IN')),
        payment_method varchar(255),
        value varchar(255) not null,
        primary key (id)
    )
2025-06-14 13:08:24 [main] DEBUG org.hibernate.SQL - 
    create table promotion_customer_families (
        end_date timestamp(6) with time zone,
        id bigint generated by default as identity,
        promotion_id bigint,
        start_date timestamp(6) with time zone,
        customer_family_code varchar(255) not null,
        primary key (id)
    )
2025-06-14 13:08:24 [main] DEBUG org.hibernate.SQL - 
    create table promotion_customer_usage (
        usage_count integer,
        customer_id bigint not null,
        promotion_id bigint not null,
        primary key (customer_id, promotion_id)
    )
2025-06-14 13:08:24 [main] DEBUG org.hibernate.SQL - 
    create table promotion_dynamic_conditions (
        is_active boolean not null,
        threshold float(53),
        id bigint generated by default as identity,
        promotion_id bigint,
        condition_type varchar(255) not null,
        condition_value varchar(255) not null,
        description varchar(255),
        entity_id varchar(255),
        entity_type varchar(255),
        operator varchar(255) not null,
        primary key (id)
    )
2025-06-14 13:08:24 [main] DEBUG org.hibernate.SQL - 
    create table promotion_excluded_categories (
        category_id bigint,
        promotion_id bigint not null
    )
2025-06-14 13:08:24 [main] DEBUG org.hibernate.SQL - 
    create table promotion_excluded_products (
        product_id bigint,
        promotion_id bigint not null
    )
2025-06-14 13:08:24 [main] DEBUG org.hibernate.SQL - 
    create table promotion_lines (
        free_product_id bigint,
        id bigint generated by default as identity,
        paid_product_id bigint,
        promotion_id bigint,
        free_family_code varchar(255),
        paid_family_code varchar(255),
        primary key (id)
    )
2025-06-14 13:08:24 [main] DEBUG org.hibernate.SQL - 
    create table promotion_rules (
        repetition integer,
        id bigint generated by default as identity,
        promotion_id bigint,
        breakpoint_type varchar(255) not null check (breakpoint_type in ('AMOUNT','QUANTITY','SKU_POINTS')),
        calculation_method varchar(255) not null check (calculation_method in ('BRACKET','CUMULATIVE')),
        condition_logic varchar(255) not null check (condition_logic in ('ALL','ANY')),
        name varchar(255) not null,
        primary key (id)
    )
2025-06-14 13:08:24 [main] DEBUG org.hibernate.SQL - 
    create table promotion_tiers (
        minimum_threshold numeric(38,2) not null,
        id bigint generated by default as identity,
        reward_id bigint not null unique,
        rule_id bigint,
        primary key (id)
    )
2025-06-14 13:08:24 [main] DEBUG org.hibernate.SQL - 
    create table promotions (
        apply_first_matching_rule_only boolean,
        current_usage_count integer,
        index_discount integer,
        is_active boolean not null,
        is_exclusive boolean not null,
        max_usage_count integer,
        max_usage_per_customer integer,
        min_purchase_amount numeric(38,2),
        priority integer not null check (priority>=0),
        skip_to_sequence integer,
        end_date timestamp(6) with time zone not null,
        id bigint generated by default as identity,
        start_date timestamp(6) with time zone not null,
        combinability_group varchar(255),
        customer_group varchar(255),
        description varchar(255),
        name varchar(255) not null,
        promo_code varchar(255) not null unique,
        primary key (id)
    )
2025-06-14 13:08:24 [main] DEBUG org.hibernate.SQL - 
    create table rewards (
        value numeric(38,2) not null,
        id bigint generated by default as identity,
        target_entity_id bigint,
        reward_type varchar(255) not null check (reward_type in ('PERCENT_DISCOUNT_ON_ITEM','FIXED_DISCOUNT_ON_CART','FREE_PRODUCT')),
        target_entity_type varchar(255),
        primary key (id)
    )
2025-06-14 13:08:24 [main] DEBUG org.hibernate.SQL - 
    create table sites (
        capacity_sqm float(53),
        is_active boolean,
        created_at timestamp(6) with time zone not null,
        id bigint generated by default as identity,
        updated_at timestamp(6) with time zone,
        address_line1 varchar(255),
        city varchar(255),
        contact_email varchar(255),
        contact_phone varchar(255),
        country varchar(255),
        description varchar(255) not null,
        postal_code varchar(255),
        site_code varchar(255) not null unique,
        primary key (id)
    )
2025-06-14 13:08:24 [main] DEBUG org.hibernate.SQL - 
    alter table if exists categories 
       add constraint FKsaok720gsu4u2wrgbk10b5n8d 
       foreign key (parent_id) 
       references categories
2025-06-14 13:08:24 [main] DEBUG org.hibernate.SQL - 
    alter table if exists customer_group_members 
       add constraint FKetr33gy3yxphaasg8pnk8wyvs 
       foreign key (group_id) 
       references customer_groups
2025-06-14 13:08:24 [main] DEBUG org.hibernate.SQL - 
    alter table if exists customer_group_members 
       add constraint FKj7chtq65ntu6cwx5vtc3rngdp 
       foreign key (customer_id) 
       references customers
2025-06-14 13:08:24 [main] DEBUG org.hibernate.SQL - 
    alter table if exists depots 
       add constraint FK5qq91mnq7j5lemrap49cshimd 
       foreign key (site_id) 
       references sites
2025-06-14 13:08:24 [main] DEBUG org.hibernate.SQL - 
    alter table if exists order_item_applied_promotions 
       add constraint FK82i7jogqbstxwl46g1rywbwsu 
       foreign key (order_item_id) 
       references order_items
2025-06-14 13:08:24 [main] DEBUG org.hibernate.SQL - 
    alter table if exists order_items 
       add constraint FKbioxgbv59vetrxe0ejfubep1w 
       foreign key (order_id) 
       references orders
2025-06-14 13:08:24 [main] DEBUG org.hibernate.SQL - 
    alter table if exists product_categories 
       add constraint FKd112rx0alycddsms029iifrih 
       foreign key (category_id) 
       references categories
2025-06-14 13:08:24 [main] DEBUG org.hibernate.SQL - 
    alter table if exists product_categories 
       add constraint FKlda9rad6s180ha3dl1ncsp8n7 
       foreign key (product_id) 
       references products
2025-06-14 13:08:24 [main] DEBUG org.hibernate.SQL - 
    alter table if exists product_stocks 
       add constraint FKmcawg70vkgr4vfrsphtcoc8up 
       foreign key (depot_id) 
       references depots
2025-06-14 13:08:24 [main] DEBUG org.hibernate.SQL - 
    alter table if exists products 
       add constraint FK53ooveoh14cvs7qns24gmlehh 
       foreign key (family_code) 
       references product_families (code)
2025-06-14 13:08:24 [main] DEBUG org.hibernate.SQL - 
    alter table if exists products_customer 
       add constraint FKnygquw0w0xvu9lfjpsbd6xmgv 
       foreign key (reference_customer) 
       references customers
2025-06-14 13:08:24 [main] DEBUG org.hibernate.SQL - 
    alter table if exists products_customer 
       add constraint FK4vdatfmkcw4aqwv41q569gq44 
       foreign key (reference_product) 
       references products
2025-06-14 13:08:24 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_conditions 
       add constraint FKjfph2mn5x5inav2a7wsxo2r2l 
       foreign key (rule_id) 
       references promotion_rules
2025-06-14 13:08:24 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_customer_families 
       add constraint FKjy33meus9wkfyyp29kyxhaw3i 
       foreign key (promotion_id) 
       references promotions
2025-06-14 13:08:24 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_customer_usage 
       add constraint FKtkdnuodmsbsskeejx4ksjgmsn 
       foreign key (promotion_id) 
       references promotions
2025-06-14 13:08:24 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_dynamic_conditions 
       add constraint FKd2huyfw319bhk0frhvdh0v0ot 
       foreign key (promotion_id) 
       references promotions
2025-06-14 13:08:24 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_excluded_categories 
       add constraint FKiamgbul5ugcmy9ewsemk31fng 
       foreign key (promotion_id) 
       references promotions
2025-06-14 13:08:24 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_excluded_products 
       add constraint FK1s1aelilqwce11lxgop8yhud0 
       foreign key (promotion_id) 
       references promotions
2025-06-14 13:08:24 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_lines 
       add constraint FKc6jg561k2bcyoja0im2kifdgb 
       foreign key (promotion_id) 
       references promotions
2025-06-14 13:08:24 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_rules 
       add constraint FK6xcgfd4fvmkpqdlnln3opdmpg 
       foreign key (promotion_id) 
       references promotions
2025-06-14 13:08:24 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_tiers 
       add constraint FK3iar32tvya9o51dqhtaf95ev6 
       foreign key (reward_id) 
       references rewards
2025-06-14 13:08:24 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_tiers 
       add constraint FKhw31w9eyoj371gg325124p1e9 
       foreign key (rule_id) 
       references promotion_rules
2025-06-14 13:08:24 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-06-14 13:08:24 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-06-14 13:08:24 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'customerController' defined in file [/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/ma/foodplus/ordering/system/customer/controller/CustomerController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'customerServiceImpl' defined in file [/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/ma/foodplus/ordering/system/customer/service/impl/CustomerServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'customerRepository' defined in ma.foodplus.ordering.system.customer.repository.CustomerRepository defined in @EnableJpaRepositories declared on JpaConfig: Could not create query for public abstract java.util.List ma.foodplus.ordering.system.customer.repository.CustomerRepository.findByProductPreferences(java.lang.Long); Reason: Validation failed for query for method public abstract java.util.List ma.foodplus.ordering.system.customer.repository.CustomerRepository.findByProductPreferences(java.lang.Long)
2025-06-14 13:08:24 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-06-14 13:08:24 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-06-14 13:08:24 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-06-14 13:08:24 [main] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-06-14 13:08:24 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-06-14 13:08:24 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'customerController' defined in file [/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/ma/foodplus/ordering/system/customer/controller/CustomerController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'customerServiceImpl' defined in file [/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/ma/foodplus/ordering/system/customer/service/impl/CustomerServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'customerRepository' defined in ma.foodplus.ordering.system.customer.repository.CustomerRepository defined in @EnableJpaRepositories declared on JpaConfig: Could not create query for public abstract java.util.List ma.foodplus.ordering.system.customer.repository.CustomerRepository.findByProductPreferences(java.lang.Long); Reason: Validation failed for query for method public abstract java.util.List ma.foodplus.ordering.system.customer.repository.CustomerRepository.findByProductPreferences(java.lang.Long)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:804)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1395)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1232)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1222)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1188)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1123)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:987)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:753)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1362)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1351)
	at ma.foodplus.ordering.system.FoodPlusOrderingApplication.main(FoodPlusOrderingApplication.java:22)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'customerServiceImpl' defined in file [/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/ma/foodplus/ordering/system/customer/service/impl/CustomerServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'customerRepository' defined in ma.foodplus.ordering.system.customer.repository.CustomerRepository defined in @EnableJpaRepositories declared on JpaConfig: Could not create query for public abstract java.util.List ma.foodplus.ordering.system.customer.repository.CustomerRepository.findByProductPreferences(java.lang.Long); Reason: Validation failed for query for method public abstract java.util.List ma.foodplus.ordering.system.customer.repository.CustomerRepository.findByProductPreferences(java.lang.Long)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:804)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1395)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1232)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1740)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1628)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	... 21 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'customerRepository' defined in ma.foodplus.ordering.system.customer.repository.CustomerRepository defined in @EnableJpaRepositories declared on JpaConfig: Could not create query for public abstract java.util.List ma.foodplus.ordering.system.customer.repository.CustomerRepository.findByProductPreferences(java.lang.Long); Reason: Validation failed for query for method public abstract java.util.List ma.foodplus.ordering.system.customer.repository.CustomerRepository.findByProductPreferences(java.lang.Long)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1826)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:607)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1682)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1628)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	... 35 common frames omitted
Caused by: org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract java.util.List ma.foodplus.ordering.system.customer.repository.CustomerRepository.findByProductPreferences(java.lang.Long); Reason: Validation failed for query for method public abstract java.util.List ma.foodplus.ordering.system.customer.repository.CustomerRepository.findByProductPreferences(java.lang.Long)
	at org.springframework.data.repository.query.QueryCreationException.create(QueryCreationException.java:101)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:120)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.mapMethodsToQuery(QueryExecutorMethodInterceptor.java:104)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lambda$new$0(QueryExecutorMethodInterceptor.java:92)
	at java.base/java.util.Optional.map(Optional.java:260)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.<init>(QueryExecutorMethodInterceptor.java:92)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:434)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$4(RepositoryFactoryBeanSupport.java:350)
	at org.springframework.data.util.Lazy.getNullable(Lazy.java:135)
	at org.springframework.data.util.Lazy.get(Lazy.java:113)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:356)
	at org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean.afterPropertiesSet(JpaRepositoryFactoryBean.java:132)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1873)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1822)
	... 45 common frames omitted
Caused by: java.lang.IllegalArgumentException: Validation failed for query for method public abstract java.util.List ma.foodplus.ordering.system.customer.repository.CustomerRepository.findByProductPreferences(java.lang.Long)
	at org.springframework.data.jpa.repository.query.SimpleJpaQuery.validateQuery(SimpleJpaQuery.java:97)
	at org.springframework.data.jpa.repository.query.SimpleJpaQuery.<init>(SimpleJpaQuery.java:67)
	at org.springframework.data.jpa.repository.query.JpaQueryFactory.fromMethodWithQueryString(JpaQueryFactory.java:49)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$DeclaredQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:174)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateIfNotFoundQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:254)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$AbstractQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:99)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:116)
	... 57 common frames omitted
Caused by: java.lang.IllegalArgumentException: org.hibernate.query.sqm.UnknownPathException: Could not resolve attribute 'orders' of 'ma.foodplus.ordering.system.customer.model.Customer' [SELECT DISTINCT c FROM Customer c JOIN c.orders o JOIN o.items i WHERE i.productId = :productId]
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:143)
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:167)
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:173)
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:886)
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:796)
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:143)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:364)
	at jdk.proxy2/jdk.proxy2.$Proxy191.createQuery(Unknown Source)
	at org.springframework.data.jpa.repository.query.SimpleJpaQuery.validateQuery(SimpleJpaQuery.java:91)
	... 63 common frames omitted
Caused by: org.hibernate.query.sqm.UnknownPathException: Could not resolve attribute 'orders' of 'ma.foodplus.ordering.system.customer.model.Customer' [SELECT DISTINCT c FROM Customer c JOIN c.orders o JOIN o.items i WHERE i.productId = :productId]
	at org.hibernate.query.hql.internal.StandardHqlTranslator.translate(StandardHqlTranslator.java:88)
	at org.hibernate.query.internal.QueryInterpretationCacheStandardImpl.createHqlInterpretation(QueryInterpretationCacheStandardImpl.java:145)
	at org.hibernate.query.internal.QueryInterpretationCacheStandardImpl.resolveHqlInterpretation(QueryInterpretationCacheStandardImpl.java:132)
	at org.hibernate.query.spi.QueryEngine.interpretHql(QueryEngine.java:54)
	at org.hibernate.internal.AbstractSharedSessionContract.interpretHql(AbstractSharedSessionContract.java:832)
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:878)
	... 70 common frames omitted
Caused by: org.hibernate.query.sqm.PathElementException: Could not resolve attribute 'orders' of 'ma.foodplus.ordering.system.customer.model.Customer'
	at org.hibernate.query.sqm.SqmPathSource.getSubPathSource(SqmPathSource.java:95)
	at org.hibernate.query.hql.internal.QualifiedJoinPathConsumer.createJoin(QualifiedJoinPathConsumer.java:193)
	at org.hibernate.query.hql.internal.QualifiedJoinPathConsumer$AttributeJoinDelegate.consumeIdentifier(QualifiedJoinPathConsumer.java:271)
	at org.hibernate.query.hql.internal.QualifiedJoinPathConsumer.consumeIdentifier(QualifiedJoinPathConsumer.java:107)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitSimplePath(SemanticQueryBuilder.java:5465)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitGeneralPathFragment(SemanticQueryBuilder.java:5298)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitGeneralPathFragment(SemanticQueryBuilder.java:277)
	at org.hibernate.grammars.hql.HqlParser$GeneralPathFragmentContext.accept(HqlParser.java:4789)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitPath(SemanticQueryBuilder.java:5289)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitPath(SemanticQueryBuilder.java:277)
	at org.hibernate.grammars.hql.HqlParser$PathContext.accept(HqlParser.java:4519)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.getJoin(SemanticQueryBuilder.java:2280)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.consumeJoin(SemanticQueryBuilder.java:2224)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitEntityWithJoins(SemanticQueryBuilder.java:2037)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitFromClause(SemanticQueryBuilder.java:2016)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitQuery(SemanticQueryBuilder.java:1248)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitQuerySpecExpression(SemanticQueryBuilder.java:1040)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitQuerySpecExpression(SemanticQueryBuilder.java:277)
	at org.hibernate.grammars.hql.HqlParser$QuerySpecExpressionContext.accept(HqlParser.java:2134)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitSimpleQueryGroup(SemanticQueryBuilder.java:1025)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitSimpleQueryGroup(SemanticQueryBuilder.java:277)
	at org.hibernate.grammars.hql.HqlParser$SimpleQueryGroupContext.accept(HqlParser.java:2005)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitSelectStatement(SemanticQueryBuilder.java:492)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitStatement(SemanticQueryBuilder.java:451)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.buildSemanticModel(SemanticQueryBuilder.java:324)
	at org.hibernate.query.hql.internal.StandardHqlTranslator.translate(StandardHqlTranslator.java:71)
	... 75 common frames omitted
2025-06-14 13:10:49 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - Starting FoodPlusOrderingApplication using Java 21.0.7 with PID 259043 (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes started by louki in /home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system)
2025-06-14 13:10:49 [main] DEBUG m.f.o.s.FoodPlusOrderingApplication - Running with Spring Boot v3.5.0, Spring v6.2.7
2025-06-14 13:10:49 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - The following 1 profile is active: "dev"
2025-06-14 13:10:50 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-14 13:10:50 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-14 13:10:50 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 93 ms. Found 10 JPA repository interfaces.
2025-06-14 13:10:50 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-14 13:10:50 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-06-14 13:10:50 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.common.repository.CategoryTarifRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 13:10:50 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.CustomerGroupRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 13:10:50 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.CustomerRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 13:10:50 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.ProductCustomerRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 13:10:50 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.DepotRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 13:10:50 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.ProductStockRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 13:10:50 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.SiteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 13:10:50 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.order.repository.OrderRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 13:10:50 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.product.repository.ProductRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 13:10:50 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.promos.repository.PromotionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 13:10:50 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 20 ms. Found 0 Redis repository interfaces.
2025-06-14 13:10:51 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8087 (http)
2025-06-14 13:10:51 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-14 13:10:51 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.41]
2025-06-14 13:10:51 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-14 13:10:51 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1561 ms
2025-06-14 13:10:51 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-06-14 13:10:51 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.15.Final
2025-06-14 13:10:51 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-06-14 13:10:51 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-06-14 13:10:51 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@718d6b7c
2025-06-14 13:10:51 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-06-14 13:10:51 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-06-14 13:10:51 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 17.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-06-14 13:10:51 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-06-14 13:10:52 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-06-14 13:10:52 [main] DEBUG org.hibernate.SQL - 
    set client_min_messages = WARNING
2025-06-14 13:10:52 [main] DEBUG org.hibernate.SQL - 
    alter table if exists categories 
       drop constraint if exists FKsaok720gsu4u2wrgbk10b5n8d
2025-06-14 13:10:52 [main] DEBUG org.hibernate.SQL - 
    alter table if exists customer_group_members 
       drop constraint if exists FKetr33gy3yxphaasg8pnk8wyvs
2025-06-14 13:10:52 [main] DEBUG org.hibernate.SQL - 
    alter table if exists customer_group_members 
       drop constraint if exists FKj7chtq65ntu6cwx5vtc3rngdp
2025-06-14 13:10:52 [main] DEBUG org.hibernate.SQL - 
    alter table if exists depots 
       drop constraint if exists FK5qq91mnq7j5lemrap49cshimd
2025-06-14 13:10:52 [main] DEBUG org.hibernate.SQL - 
    alter table if exists order_item_applied_promotions 
       drop constraint if exists FK82i7jogqbstxwl46g1rywbwsu
2025-06-14 13:10:52 [main] DEBUG org.hibernate.SQL - 
    alter table if exists order_items 
       drop constraint if exists FKbioxgbv59vetrxe0ejfubep1w
2025-06-14 13:10:52 [main] DEBUG org.hibernate.SQL - 
    alter table if exists product_categories 
       drop constraint if exists FKd112rx0alycddsms029iifrih
2025-06-14 13:10:52 [main] DEBUG org.hibernate.SQL - 
    alter table if exists product_categories 
       drop constraint if exists FKlda9rad6s180ha3dl1ncsp8n7
2025-06-14 13:10:52 [main] DEBUG org.hibernate.SQL - 
    alter table if exists product_stocks 
       drop constraint if exists FKmcawg70vkgr4vfrsphtcoc8up
2025-06-14 13:10:52 [main] DEBUG org.hibernate.SQL - 
    alter table if exists products 
       drop constraint if exists FK53ooveoh14cvs7qns24gmlehh
2025-06-14 13:10:52 [main] DEBUG org.hibernate.SQL - 
    alter table if exists products_customer 
       drop constraint if exists FKnygquw0w0xvu9lfjpsbd6xmgv
2025-06-14 13:10:52 [main] DEBUG org.hibernate.SQL - 
    alter table if exists products_customer 
       drop constraint if exists FK4vdatfmkcw4aqwv41q569gq44
2025-06-14 13:10:52 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_conditions 
       drop constraint if exists FKjfph2mn5x5inav2a7wsxo2r2l
2025-06-14 13:10:52 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_customer_families 
       drop constraint if exists FKjy33meus9wkfyyp29kyxhaw3i
2025-06-14 13:10:52 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_customer_usage 
       drop constraint if exists FKtkdnuodmsbsskeejx4ksjgmsn
2025-06-14 13:10:52 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_dynamic_conditions 
       drop constraint if exists FKd2huyfw319bhk0frhvdh0v0ot
2025-06-14 13:10:52 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_excluded_categories 
       drop constraint if exists FKiamgbul5ugcmy9ewsemk31fng
2025-06-14 13:10:52 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_excluded_products 
       drop constraint if exists FK1s1aelilqwce11lxgop8yhud0
2025-06-14 13:10:52 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_lines 
       drop constraint if exists FKc6jg561k2bcyoja0im2kifdgb
2025-06-14 13:10:52 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_rules 
       drop constraint if exists FK6xcgfd4fvmkpqdlnln3opdmpg
2025-06-14 13:10:52 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_tiers 
       drop constraint if exists FK3iar32tvya9o51dqhtaf95ev6
2025-06-14 13:10:52 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_tiers 
       drop constraint if exists FKhw31w9eyoj371gg325124p1e9
2025-06-14 13:10:52 [main] DEBUG org.hibernate.SQL - 
    drop table if exists cat_tarif cascade
2025-06-14 13:10:52 [main] DEBUG org.hibernate.SQL - 
    drop table if exists categories cascade
2025-06-14 13:10:52 [main] DEBUG org.hibernate.SQL - 
    drop table if exists customer_group_members cascade
2025-06-14 13:10:52 [main] DEBUG org.hibernate.SQL - 
    drop table if exists customer_groups cascade
2025-06-14 13:10:52 [main] DEBUG org.hibernate.SQL - 
    drop table if exists customers cascade
2025-06-14 13:10:52 [main] DEBUG org.hibernate.SQL - 
    drop table if exists depots cascade
2025-06-14 13:10:52 [main] DEBUG org.hibernate.SQL - 
    drop table if exists order_item_applied_promotions cascade
2025-06-14 13:10:52 [main] DEBUG org.hibernate.SQL - 
    drop table if exists order_items cascade
2025-06-14 13:10:52 [main] DEBUG org.hibernate.SQL - 
    drop table if exists orders cascade
2025-06-14 13:10:52 [main] DEBUG org.hibernate.SQL - 
    drop table if exists product_categories cascade
2025-06-14 13:10:52 [main] DEBUG org.hibernate.SQL - 
    drop table if exists product_families cascade
2025-06-14 13:10:52 [main] DEBUG org.hibernate.SQL - 
    drop table if exists product_stocks cascade
2025-06-14 13:10:52 [main] DEBUG org.hibernate.SQL - 
    drop table if exists products cascade
2025-06-14 13:10:52 [main] DEBUG org.hibernate.SQL - 
    drop table if exists products_customer cascade
2025-06-14 13:10:52 [main] DEBUG org.hibernate.SQL - 
    drop table if exists promotion_conditions cascade
2025-06-14 13:10:52 [main] DEBUG org.hibernate.SQL - 
    drop table if exists promotion_customer_families cascade
2025-06-14 13:10:52 [main] DEBUG org.hibernate.SQL - 
    drop table if exists promotion_customer_usage cascade
2025-06-14 13:10:52 [main] DEBUG org.hibernate.SQL - 
    drop table if exists promotion_dynamic_conditions cascade
2025-06-14 13:10:52 [main] DEBUG org.hibernate.SQL - 
    drop table if exists promotion_excluded_categories cascade
2025-06-14 13:10:52 [main] DEBUG org.hibernate.SQL - 
    drop table if exists promotion_excluded_products cascade
2025-06-14 13:10:52 [main] DEBUG org.hibernate.SQL - 
    drop table if exists promotion_lines cascade
2025-06-14 13:10:52 [main] DEBUG org.hibernate.SQL - 
    drop table if exists promotion_rules cascade
2025-06-14 13:10:52 [main] DEBUG org.hibernate.SQL - 
    drop table if exists promotion_tiers cascade
2025-06-14 13:10:52 [main] DEBUG org.hibernate.SQL - 
    drop table if exists promotions cascade
2025-06-14 13:10:52 [main] DEBUG org.hibernate.SQL - 
    drop table if exists rewards cascade
2025-06-14 13:10:52 [main] DEBUG org.hibernate.SQL - 
    drop table if exists sites cascade
2025-06-14 13:10:52 [main] DEBUG org.hibernate.SQL - 
    create table cat_tarif (
        price_ttc numeric(24,6) not null,
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        updated_at timestamp(6) not null,
        description varchar(255) not null,
        primary key (id)
    )
2025-06-14 13:10:52 [main] DEBUG org.hibernate.SQL - 
    create table categories (
        is_active boolean not null,
        level integer not null,
        created_at timestamp(6) with time zone not null,
        id bigint generated by default as identity,
        parent_id bigint,
        updated_at timestamp(6) with time zone,
        description varchar(500),
        code varchar(255) not null unique,
        name varchar(255) not null,
        primary key (id)
    )
2025-06-14 13:10:52 [main] DEBUG org.hibernate.SQL - 
    create table customer_group_members (
        customer_id bigint not null,
        group_id bigint not null,
        primary key (customer_id, group_id)
    )
2025-06-14 13:10:53 [main] DEBUG org.hibernate.SQL - 
    create table customer_groups (
        created_at timestamp(6) with time zone not null,
        id bigint generated by default as identity,
        updated_at timestamp(6) with time zone,
        description varchar(255),
        name varchar(255) not null unique,
        primary key (id)
    )
2025-06-14 13:10:53 [main] DEBUG org.hibernate.SQL - 
    create table customers (
        annual_turnover numeric(38,2),
        average_order_value numeric(24,6),
        credit_limit numeric(24,6),
        credit_score integer,
        is_active boolean not null,
        is_vip boolean,
        loyalty_points integer,
        number_of_employees integer,
        outstanding_balance numeric(24,6),
        payment_term_days integer,
        total_orders integer,
        total_spent numeric(24,6),
        contract_end_date timestamp(6) with time zone,
        contract_start_date timestamp(6) with time zone,
        created_at timestamp(6) with time zone not null,
        customer_since timestamp(6) with time zone,
        id bigint generated by default as identity,
        last_activity_date timestamp(6) with time zone,
        last_order_date timestamp(6) with time zone,
        last_payment_date timestamp(6) with time zone,
        updated_at timestamp(6) with time zone,
        address varchar(255),
        bank_account_info TEXT,
        business_activity varchar(255),
        city varchar(255),
        company_name varchar(255),
        contract_number varchar(255),
        contract_terms TEXT,
        contract_type varchar(255),
        country varchar(255),
        created_by varchar(255),
        credit_rating varchar(255),
        ct_num varchar(255) not null unique,
        customer_type varchar(255) not null check (customer_type in ('B2B','B2C')),
        delivery_terms TEXT,
        description varchar(255) not null,
        email varchar(255),
        ice varchar(255) not null,
        legal_form varchar(255),
        notes TEXT,
        payment_history TEXT,
        payment_terms TEXT,
        postal_code varchar(255),
        preferred_delivery_days varchar(255),
        preferred_delivery_time varchar(255),
        preferred_payment_method varchar(255),
        region varchar(255),
        registration_number varchar(255),
        special_conditions TEXT,
        special_handling_instructions TEXT,
        tax_id varchar(255),
        telecopie varchar(255),
        telephone varchar(255),
        updated_by varchar(255),
        vat_number varchar(255),
        primary key (id)
    )
2025-06-14 13:10:53 [main] DEBUG org.hibernate.SQL - 
    create table depots (
        capacity_cubic_meters float(53),
        is_active boolean,
        is_refrigerated boolean,
        security_level integer,
        created_at timestamp(6) with time zone not null,
        id bigint generated by default as identity,
        site_id bigint,
        updated_at timestamp(6) with time zone,
        access_restrictions varchar(255),
        depot_code varchar(255) not null unique,
        depot_type varchar(255) check (depot_type in ('MAIN_WAREHOUSE','DISTRIBUTION_CENTER','COLD_STORAGE','DRY_STORAGE','HAZARDOUS_MATERIALS','TEMPORARY_STORAGE','CROSS_DOCKING')),
        description varchar(255) not null,
        handling_equipment varchar(255),
        special_requirements TEXT,
        temperature_range varchar(255),
        primary key (id)
    )
2025-06-14 13:10:53 [main] DEBUG org.hibernate.SQL - 
    create table order_item_applied_promotions (
        order_item_id bigint not null,
        promotion_code varchar(255)
    )
2025-06-14 13:10:53 [main] DEBUG org.hibernate.SQL - 
    create table order_items (
        bulk_quantity_threshold integer,
        consumed_quantity integer not null,
        discount_amount numeric(38,2) not null,
        quantity integer not null,
        sku_points numeric(38,2),
        special_pricing boolean,
        tax_amount numeric(38,2) not null,
        total_price numeric(38,2) not null,
        unit_price numeric(38,2) not null,
        wholesale_price numeric(38,2),
        created_at timestamp(6) with time zone not null,
        id bigint generated by default as identity,
        order_id bigint not null,
        product_family_id bigint,
        product_id bigint not null,
        updated_at timestamp(6) with time zone,
        applied_promotion_code varchar(255),
        notes varchar(255),
        product_name varchar(255) not null,
        sku varchar(255),
        primary key (id)
    )
2025-06-14 13:10:53 [main] DEBUG org.hibernate.SQL - 
    create table orders (
        bulk_discount_percentage numeric(38,2),
        is_wholesale boolean not null,
        minimum_order_value numeric(38,2),
        shipping_cost numeric(38,2) not null,
        special_pricing_agreement boolean,
        subtotal numeric(38,2) not null,
        total numeric(38,2) not null,
        total_discount numeric(38,2) not null,
        total_tax numeric(38,2) not null,
        cancelled_at timestamp(6) with time zone,
        created_at timestamp(6) with time zone not null,
        customer_id bigint not null,
        delivered_at timestamp(6) with time zone,
        id bigint generated by default as identity,
        payment_due_date timestamp(6) with time zone,
        preferred_delivery_date timestamp(6) with time zone,
        refunded_at timestamp(6) with time zone,
        updated_at timestamp(6) with time zone,
        cancellation_reason varchar(255),
        contract_number varchar(255),
        created_by varchar(255),
        delivery_instructions varchar(255),
        internal_notes varchar(255),
        notes varchar(255),
        order_number varchar(255) not null unique,
        order_type varchar(255) not null check (order_type in ('B2B','B2C')),
        payment_method varchar(255) check (payment_method in ('CASH','CREDIT_CARD','DEBIT_CARD','MOBILE_PAYMENT','BANK_TRANSFER','CHECK','WIRE_TRANSFER','CREDIT_NOTE','LETTER_OF_CREDIT')),
        payment_notes varchar(255),
        payment_reference varchar(255),
        payment_status varchar(255) check (payment_status in ('PENDING','PARTIALLY_PAID','PAID','FAILED','REFUNDED','CANCELLED','ON_HOLD','IN_DISPUTE')),
        payment_terms varchar(255),
        po_number varchar(255),
        reference_number varchar(255),
        refund_reason varchar(255),
        shipping_address varchar(255),
        shipping_city varchar(255),
        shipping_country varchar(255),
        shipping_notes varchar(255),
        shipping_postal_code varchar(255),
        status varchar(255) not null check (status in ('DRAFT','PENDING','CONFIRMED','PREPARING','READY','DELIVERING','DELIVERED','CANCELLED','REFUNDED')),
        updated_by varchar(255),
        primary key (id)
    )
2025-06-14 13:10:53 [main] DEBUG org.hibernate.SQL - 
    create table product_categories (
        category_id bigint not null,
        product_id bigint not null
    )
2025-06-14 13:10:53 [main] DEBUG org.hibernate.SQL - 
    create table product_families (
        is_active boolean not null,
        created_at timestamp(6) with time zone not null,
        id bigint generated by default as identity,
        updated_at timestamp(6) with time zone,
        code varchar(255) not null unique,
        description varchar(255),
        name varchar(255) not null,
        primary key (id)
    )
2025-06-14 13:10:53 [main] DEBUG org.hibernate.SQL - 
    create table product_stocks (
        days_of_stock integer,
        expiry_date date,
        max_stock_level numeric(24,6),
        min_stock_level numeric(24,6),
        quantity numeric(24,6) not null,
        reorder_point numeric(24,6),
        reorder_quantity numeric(24,6),
        reserved_quantity numeric(24,6) not null,
        shelf_life_days integer,
        unit_cost numeric(24,6) not null,
        created_at timestamp(6) with time zone not null,
        depot_id bigint not null,
        id bigint generated by default as identity,
        last_purchase_date timestamp(6) with time zone,
        last_sale_date timestamp(6) with time zone,
        product_id bigint not null,
        updated_at timestamp(6) with time zone,
        storage_conditions varchar(100),
        notes varchar(500),
        quality_notes varchar(1000),
        batch_number varchar(255),
        depot_name varchar(255),
        location_code varchar(255),
        product_name varchar(255),
        quality_status varchar(255) not null check (quality_status in ('INSPECTED','INSPECTION_REQUIRED','QUARANTINED','DAMAGED','RECALLED')),
        primary key (id)
    )
2025-06-14 13:10:53 [main] DEBUG org.hibernate.SQL - 
    create table products (
        b2b_contract_discount_percentage numeric(5,2),
        b2b_contract_required boolean,
        b2b_credit_terms integer,
        b2b_custom_pricing_enabled boolean,
        b2b_delivery_lead_time integer,
        b2b_minimum_order_value numeric(19,2),
        b2b_volume_discount_enabled boolean,
        b2c_display_in_catalog boolean,
        b2c_featured boolean,
        b2c_loyalty_points_multiplier numeric(5,2),
        b2c_promo_price numeric(19,2),
        b2c_rating numeric(3,2),
        b2c_retail_price numeric(19,2),
        b2c_review_count integer,
        bulk_discount_percentage numeric(5,2),
        bulk_discount_threshold integer,
        bulk_package_size integer,
        deliverable boolean not null,
        inactive boolean not null,
        is_bulk_item boolean not null,
        is_perishable boolean not null,
        is_wholesale_only boolean not null,
        maximum_order_quantity integer,
        minimum_order_quantity integer,
        package_quantity integer,
        price_including_tax numeric(10,2) not null,
        promo_sku_points numeric(10,2) not null,
        requires_approval boolean not null,
        requires_cold_storage boolean not null,
        requires_contract boolean not null,
        sale_price numeric(10,2) not null,
        tax_rate numeric(5,2),
        unit_price numeric(38,2) not null,
        vendable boolean not null,
        visible boolean not null,
        weight numeric(10,3),
        wholesale_discount_percentage numeric(5,2),
        wholesale_minimum_quantity integer,
        wholesale_price numeric(10,2),
        wholesale_tier_1_price numeric(10,2),
        wholesale_tier_1_quantity integer,
        wholesale_tier_2_price numeric(10,2),
        wholesale_tier_2_quantity integer,
        wholesale_tier_3_price numeric(10,2),
        wholesale_tier_3_quantity integer,
        b2c_promo_end_date timestamp(6) with time zone,
        b2c_promo_start_date timestamp(6) with time zone,
        created_at timestamp(6) with time zone,
        id bigint generated by default as identity,
        updated_at timestamp(6) with time zone,
        weight_unit varchar(10),
        bulk_package_unit varchar(20),
        stock_tracking varchar(20) not null check (stock_tracking in ('Aucun','SERIALIZED','CMUP','FIFO','LIFO','PAR_LOT')),
        barcode varchar(36) unique,
        dimensions varchar(50),
        package_size varchar(50),
        sale_unit varchar(50),
        seasonality varchar(50),
        supplier_code varchar(50),
        target_market varchar(50),
        country_of_origin varchar(100),
        supplier_name varchar(100),
        certification varchar(200),
        photo varchar(500),
        title varchar(500) not null,
        availability_schedule jsonb,
        b2b_payment_methods varchar(255),
        custom_attributes jsonb,
        customer_segments varchar(255),
        description TEXT not null,
        family_code varchar(255),
        reference varchar(255) not null unique,
        sku varchar(255) not null unique,
        additional_photos TEXT[],
        primary key (id)
    )
2025-06-14 13:10:53 [main] DEBUG org.hibernate.SQL - 
    create table products_customer (
        coef numeric(12,2),
        is_active boolean,
        prix_ttc numeric(16,6) not null,
        prix_ven_nouv numeric(16,6),
        qte_mont integer,
        remise numeric(16,6),
        remise_nouv numeric(16,6),
        created_at timestamp(6) with time zone,
        id bigint generated by default as identity,
        reference_customer bigint not null,
        reference_product bigint not null,
        updated_at timestamp(6) with time zone,
        category varchar(50),
        primary key (id)
    )
2025-06-14 13:10:53 [main] DEBUG org.hibernate.SQL - 
    create table promotion_conditions (
        required_loyalty_level integer,
        customer_group_id bigint,
        id bigint generated by default as identity,
        rule_id bigint,
        attribute varchar(255) not null,
        condition_type varchar(255) not null check (condition_type in ('CART_SUBTOTAL','PRODUCT_IN_CART','CUSTOMER_IN_GROUP','TIME_OF_DAY','DAY_OF_WEEK','CUSTOMER_LOYALTY_LEVEL','PAYMENT_METHOD')),
        entity_id varchar(255),
        entity_type varchar(255),
        operator varchar(255) not null check (operator in ('EQUAL','NOT_EQUAL','GREATER_THAN','GREATER_THAN_OR_EQUAL','LESS_THAN','LESS_THAN_OR_EQUAL','CONTAINS','NOT_CONTAINS','IN','NOT_IN')),
        payment_method varchar(255),
        value varchar(255) not null,
        primary key (id)
    )
2025-06-14 13:10:53 [main] DEBUG org.hibernate.SQL - 
    create table promotion_customer_families (
        end_date timestamp(6) with time zone,
        id bigint generated by default as identity,
        promotion_id bigint,
        start_date timestamp(6) with time zone,
        customer_family_code varchar(255) not null,
        primary key (id)
    )
2025-06-14 13:10:53 [main] DEBUG org.hibernate.SQL - 
    create table promotion_customer_usage (
        usage_count integer,
        customer_id bigint not null,
        promotion_id bigint not null,
        primary key (customer_id, promotion_id)
    )
2025-06-14 13:10:53 [main] DEBUG org.hibernate.SQL - 
    create table promotion_dynamic_conditions (
        is_active boolean not null,
        threshold float(53),
        id bigint generated by default as identity,
        promotion_id bigint,
        condition_type varchar(255) not null,
        condition_value varchar(255) not null,
        description varchar(255),
        entity_id varchar(255),
        entity_type varchar(255),
        operator varchar(255) not null,
        primary key (id)
    )
2025-06-14 13:10:53 [main] DEBUG org.hibernate.SQL - 
    create table promotion_excluded_categories (
        category_id bigint,
        promotion_id bigint not null
    )
2025-06-14 13:10:53 [main] DEBUG org.hibernate.SQL - 
    create table promotion_excluded_products (
        product_id bigint,
        promotion_id bigint not null
    )
2025-06-14 13:10:53 [main] DEBUG org.hibernate.SQL - 
    create table promotion_lines (
        free_product_id bigint,
        id bigint generated by default as identity,
        paid_product_id bigint,
        promotion_id bigint,
        free_family_code varchar(255),
        paid_family_code varchar(255),
        primary key (id)
    )
2025-06-14 13:10:53 [main] DEBUG org.hibernate.SQL - 
    create table promotion_rules (
        repetition integer,
        id bigint generated by default as identity,
        promotion_id bigint,
        breakpoint_type varchar(255) not null check (breakpoint_type in ('AMOUNT','QUANTITY','SKU_POINTS')),
        calculation_method varchar(255) not null check (calculation_method in ('BRACKET','CUMULATIVE')),
        condition_logic varchar(255) not null check (condition_logic in ('ALL','ANY')),
        name varchar(255) not null,
        primary key (id)
    )
2025-06-14 13:10:53 [main] DEBUG org.hibernate.SQL - 
    create table promotion_tiers (
        minimum_threshold numeric(38,2) not null,
        id bigint generated by default as identity,
        reward_id bigint not null unique,
        rule_id bigint,
        primary key (id)
    )
2025-06-14 13:10:53 [main] DEBUG org.hibernate.SQL - 
    create table promotions (
        apply_first_matching_rule_only boolean,
        current_usage_count integer,
        index_discount integer,
        is_active boolean not null,
        is_exclusive boolean not null,
        max_usage_count integer,
        max_usage_per_customer integer,
        min_purchase_amount numeric(38,2),
        priority integer not null check (priority>=0),
        skip_to_sequence integer,
        end_date timestamp(6) with time zone not null,
        id bigint generated by default as identity,
        start_date timestamp(6) with time zone not null,
        combinability_group varchar(255),
        customer_group varchar(255),
        description varchar(255),
        name varchar(255) not null,
        promo_code varchar(255) not null unique,
        primary key (id)
    )
2025-06-14 13:10:53 [main] DEBUG org.hibernate.SQL - 
    create table rewards (
        value numeric(38,2) not null,
        id bigint generated by default as identity,
        target_entity_id bigint,
        reward_type varchar(255) not null check (reward_type in ('PERCENT_DISCOUNT_ON_ITEM','FIXED_DISCOUNT_ON_CART','FREE_PRODUCT')),
        target_entity_type varchar(255),
        primary key (id)
    )
2025-06-14 13:10:53 [main] DEBUG org.hibernate.SQL - 
    create table sites (
        capacity_sqm float(53),
        is_active boolean,
        created_at timestamp(6) with time zone not null,
        id bigint generated by default as identity,
        updated_at timestamp(6) with time zone,
        address_line1 varchar(255),
        city varchar(255),
        contact_email varchar(255),
        contact_phone varchar(255),
        country varchar(255),
        description varchar(255) not null,
        postal_code varchar(255),
        site_code varchar(255) not null unique,
        primary key (id)
    )
2025-06-14 13:10:53 [main] DEBUG org.hibernate.SQL - 
    alter table if exists categories 
       add constraint FKsaok720gsu4u2wrgbk10b5n8d 
       foreign key (parent_id) 
       references categories
2025-06-14 13:10:53 [main] DEBUG org.hibernate.SQL - 
    alter table if exists customer_group_members 
       add constraint FKetr33gy3yxphaasg8pnk8wyvs 
       foreign key (group_id) 
       references customer_groups
2025-06-14 13:10:53 [main] DEBUG org.hibernate.SQL - 
    alter table if exists customer_group_members 
       add constraint FKj7chtq65ntu6cwx5vtc3rngdp 
       foreign key (customer_id) 
       references customers
2025-06-14 13:10:53 [main] DEBUG org.hibernate.SQL - 
    alter table if exists depots 
       add constraint FK5qq91mnq7j5lemrap49cshimd 
       foreign key (site_id) 
       references sites
2025-06-14 13:10:53 [main] DEBUG org.hibernate.SQL - 
    alter table if exists order_item_applied_promotions 
       add constraint FK82i7jogqbstxwl46g1rywbwsu 
       foreign key (order_item_id) 
       references order_items
2025-06-14 13:10:53 [main] DEBUG org.hibernate.SQL - 
    alter table if exists order_items 
       add constraint FKbioxgbv59vetrxe0ejfubep1w 
       foreign key (order_id) 
       references orders
2025-06-14 13:10:53 [main] DEBUG org.hibernate.SQL - 
    alter table if exists product_categories 
       add constraint FKd112rx0alycddsms029iifrih 
       foreign key (category_id) 
       references categories
2025-06-14 13:10:53 [main] DEBUG org.hibernate.SQL - 
    alter table if exists product_categories 
       add constraint FKlda9rad6s180ha3dl1ncsp8n7 
       foreign key (product_id) 
       references products
2025-06-14 13:10:53 [main] DEBUG org.hibernate.SQL - 
    alter table if exists product_stocks 
       add constraint FKmcawg70vkgr4vfrsphtcoc8up 
       foreign key (depot_id) 
       references depots
2025-06-14 13:10:53 [main] DEBUG org.hibernate.SQL - 
    alter table if exists products 
       add constraint FK53ooveoh14cvs7qns24gmlehh 
       foreign key (family_code) 
       references product_families (code)
2025-06-14 13:10:53 [main] DEBUG org.hibernate.SQL - 
    alter table if exists products_customer 
       add constraint FKnygquw0w0xvu9lfjpsbd6xmgv 
       foreign key (reference_customer) 
       references customers
2025-06-14 13:10:53 [main] DEBUG org.hibernate.SQL - 
    alter table if exists products_customer 
       add constraint FK4vdatfmkcw4aqwv41q569gq44 
       foreign key (reference_product) 
       references products
2025-06-14 13:10:53 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_conditions 
       add constraint FKjfph2mn5x5inav2a7wsxo2r2l 
       foreign key (rule_id) 
       references promotion_rules
2025-06-14 13:10:53 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_customer_families 
       add constraint FKjy33meus9wkfyyp29kyxhaw3i 
       foreign key (promotion_id) 
       references promotions
2025-06-14 13:10:53 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_customer_usage 
       add constraint FKtkdnuodmsbsskeejx4ksjgmsn 
       foreign key (promotion_id) 
       references promotions
2025-06-14 13:10:53 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_dynamic_conditions 
       add constraint FKd2huyfw319bhk0frhvdh0v0ot 
       foreign key (promotion_id) 
       references promotions
2025-06-14 13:10:53 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_excluded_categories 
       add constraint FKiamgbul5ugcmy9ewsemk31fng 
       foreign key (promotion_id) 
       references promotions
2025-06-14 13:10:53 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_excluded_products 
       add constraint FK1s1aelilqwce11lxgop8yhud0 
       foreign key (promotion_id) 
       references promotions
2025-06-14 13:10:53 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_lines 
       add constraint FKc6jg561k2bcyoja0im2kifdgb 
       foreign key (promotion_id) 
       references promotions
2025-06-14 13:10:53 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_rules 
       add constraint FK6xcgfd4fvmkpqdlnln3opdmpg 
       foreign key (promotion_id) 
       references promotions
2025-06-14 13:10:53 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_tiers 
       add constraint FK3iar32tvya9o51dqhtaf95ev6 
       foreign key (reward_id) 
       references rewards
2025-06-14 13:10:53 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_tiers 
       add constraint FKhw31w9eyoj371gg325124p1e9 
       foreign key (rule_id) 
       references promotion_rules
2025-06-14 13:10:53 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-06-14 13:10:53 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-06-14 13:10:53 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'customerController' defined in file [/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/ma/foodplus/ordering/system/customer/controller/CustomerController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'customerServiceImpl' defined in file [/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/ma/foodplus/ordering/system/customer/service/impl/CustomerServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'customerRepository' defined in ma.foodplus.ordering.system.customer.repository.CustomerRepository defined in @EnableJpaRepositories declared on JpaConfig: Could not create query for public abstract java.util.List ma.foodplus.ordering.system.customer.repository.CustomerRepository.findByProductPreferences(java.lang.Long); Reason: Validation failed for query for method public abstract java.util.List ma.foodplus.ordering.system.customer.repository.CustomerRepository.findByProductPreferences(java.lang.Long)
2025-06-14 13:10:53 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-06-14 13:10:53 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-06-14 13:10:53 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-06-14 13:10:53 [main] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-06-14 13:10:53 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-06-14 13:10:53 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'customerController' defined in file [/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/ma/foodplus/ordering/system/customer/controller/CustomerController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'customerServiceImpl' defined in file [/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/ma/foodplus/ordering/system/customer/service/impl/CustomerServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'customerRepository' defined in ma.foodplus.ordering.system.customer.repository.CustomerRepository defined in @EnableJpaRepositories declared on JpaConfig: Could not create query for public abstract java.util.List ma.foodplus.ordering.system.customer.repository.CustomerRepository.findByProductPreferences(java.lang.Long); Reason: Validation failed for query for method public abstract java.util.List ma.foodplus.ordering.system.customer.repository.CustomerRepository.findByProductPreferences(java.lang.Long)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:804)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1395)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1232)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1222)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1188)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1123)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:987)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:753)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1362)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1351)
	at ma.foodplus.ordering.system.FoodPlusOrderingApplication.main(FoodPlusOrderingApplication.java:22)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'customerServiceImpl' defined in file [/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/ma/foodplus/ordering/system/customer/service/impl/CustomerServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'customerRepository' defined in ma.foodplus.ordering.system.customer.repository.CustomerRepository defined in @EnableJpaRepositories declared on JpaConfig: Could not create query for public abstract java.util.List ma.foodplus.ordering.system.customer.repository.CustomerRepository.findByProductPreferences(java.lang.Long); Reason: Validation failed for query for method public abstract java.util.List ma.foodplus.ordering.system.customer.repository.CustomerRepository.findByProductPreferences(java.lang.Long)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:804)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1395)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1232)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1740)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1628)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	... 21 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'customerRepository' defined in ma.foodplus.ordering.system.customer.repository.CustomerRepository defined in @EnableJpaRepositories declared on JpaConfig: Could not create query for public abstract java.util.List ma.foodplus.ordering.system.customer.repository.CustomerRepository.findByProductPreferences(java.lang.Long); Reason: Validation failed for query for method public abstract java.util.List ma.foodplus.ordering.system.customer.repository.CustomerRepository.findByProductPreferences(java.lang.Long)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1826)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:607)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1682)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1628)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	... 35 common frames omitted
Caused by: org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract java.util.List ma.foodplus.ordering.system.customer.repository.CustomerRepository.findByProductPreferences(java.lang.Long); Reason: Validation failed for query for method public abstract java.util.List ma.foodplus.ordering.system.customer.repository.CustomerRepository.findByProductPreferences(java.lang.Long)
	at org.springframework.data.repository.query.QueryCreationException.create(QueryCreationException.java:101)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:120)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.mapMethodsToQuery(QueryExecutorMethodInterceptor.java:104)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lambda$new$0(QueryExecutorMethodInterceptor.java:92)
	at java.base/java.util.Optional.map(Optional.java:260)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.<init>(QueryExecutorMethodInterceptor.java:92)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:434)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$4(RepositoryFactoryBeanSupport.java:350)
	at org.springframework.data.util.Lazy.getNullable(Lazy.java:135)
	at org.springframework.data.util.Lazy.get(Lazy.java:113)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:356)
	at org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean.afterPropertiesSet(JpaRepositoryFactoryBean.java:132)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1873)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1822)
	... 45 common frames omitted
Caused by: java.lang.IllegalArgumentException: Validation failed for query for method public abstract java.util.List ma.foodplus.ordering.system.customer.repository.CustomerRepository.findByProductPreferences(java.lang.Long)
	at org.springframework.data.jpa.repository.query.SimpleJpaQuery.validateQuery(SimpleJpaQuery.java:97)
	at org.springframework.data.jpa.repository.query.SimpleJpaQuery.<init>(SimpleJpaQuery.java:67)
	at org.springframework.data.jpa.repository.query.JpaQueryFactory.fromMethodWithQueryString(JpaQueryFactory.java:49)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$DeclaredQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:174)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateIfNotFoundQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:254)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$AbstractQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:99)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:116)
	... 57 common frames omitted
Caused by: java.lang.IllegalArgumentException: org.hibernate.query.sqm.UnknownPathException: Could not resolve attribute 'orders' of 'ma.foodplus.ordering.system.customer.model.Customer' [SELECT DISTINCT c FROM Customer c JOIN c.orders o JOIN o.items i WHERE i.productId = :productId]
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:143)
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:167)
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:173)
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:886)
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:796)
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:143)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:364)
	at jdk.proxy2/jdk.proxy2.$Proxy191.createQuery(Unknown Source)
	at org.springframework.data.jpa.repository.query.SimpleJpaQuery.validateQuery(SimpleJpaQuery.java:91)
	... 63 common frames omitted
Caused by: org.hibernate.query.sqm.UnknownPathException: Could not resolve attribute 'orders' of 'ma.foodplus.ordering.system.customer.model.Customer' [SELECT DISTINCT c FROM Customer c JOIN c.orders o JOIN o.items i WHERE i.productId = :productId]
	at org.hibernate.query.hql.internal.StandardHqlTranslator.translate(StandardHqlTranslator.java:88)
	at org.hibernate.query.internal.QueryInterpretationCacheStandardImpl.createHqlInterpretation(QueryInterpretationCacheStandardImpl.java:145)
	at org.hibernate.query.internal.QueryInterpretationCacheStandardImpl.resolveHqlInterpretation(QueryInterpretationCacheStandardImpl.java:132)
	at org.hibernate.query.spi.QueryEngine.interpretHql(QueryEngine.java:54)
	at org.hibernate.internal.AbstractSharedSessionContract.interpretHql(AbstractSharedSessionContract.java:832)
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:878)
	... 70 common frames omitted
Caused by: org.hibernate.query.sqm.PathElementException: Could not resolve attribute 'orders' of 'ma.foodplus.ordering.system.customer.model.Customer'
	at org.hibernate.query.sqm.SqmPathSource.getSubPathSource(SqmPathSource.java:95)
	at org.hibernate.query.hql.internal.QualifiedJoinPathConsumer.createJoin(QualifiedJoinPathConsumer.java:193)
	at org.hibernate.query.hql.internal.QualifiedJoinPathConsumer$AttributeJoinDelegate.consumeIdentifier(QualifiedJoinPathConsumer.java:271)
	at org.hibernate.query.hql.internal.QualifiedJoinPathConsumer.consumeIdentifier(QualifiedJoinPathConsumer.java:107)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitSimplePath(SemanticQueryBuilder.java:5465)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitGeneralPathFragment(SemanticQueryBuilder.java:5298)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitGeneralPathFragment(SemanticQueryBuilder.java:277)
	at org.hibernate.grammars.hql.HqlParser$GeneralPathFragmentContext.accept(HqlParser.java:4789)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitPath(SemanticQueryBuilder.java:5289)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitPath(SemanticQueryBuilder.java:277)
	at org.hibernate.grammars.hql.HqlParser$PathContext.accept(HqlParser.java:4519)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.getJoin(SemanticQueryBuilder.java:2280)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.consumeJoin(SemanticQueryBuilder.java:2224)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitEntityWithJoins(SemanticQueryBuilder.java:2037)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitFromClause(SemanticQueryBuilder.java:2016)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitQuery(SemanticQueryBuilder.java:1248)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitQuerySpecExpression(SemanticQueryBuilder.java:1040)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitQuerySpecExpression(SemanticQueryBuilder.java:277)
	at org.hibernate.grammars.hql.HqlParser$QuerySpecExpressionContext.accept(HqlParser.java:2134)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitSimpleQueryGroup(SemanticQueryBuilder.java:1025)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitSimpleQueryGroup(SemanticQueryBuilder.java:277)
	at org.hibernate.grammars.hql.HqlParser$SimpleQueryGroupContext.accept(HqlParser.java:2005)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitSelectStatement(SemanticQueryBuilder.java:492)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitStatement(SemanticQueryBuilder.java:451)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.buildSemanticModel(SemanticQueryBuilder.java:324)
	at org.hibernate.query.hql.internal.StandardHqlTranslator.translate(StandardHqlTranslator.java:71)
	... 75 common frames omitted
2025-06-14 13:11:34 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - Starting FoodPlusOrderingApplication using Java 21.0.7 with PID 259757 (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes started by louki in /home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system)
2025-06-14 13:11:34 [main] DEBUG m.f.o.s.FoodPlusOrderingApplication - Running with Spring Boot v3.5.0, Spring v6.2.7
2025-06-14 13:11:34 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - The following 1 profile is active: "dev"
2025-06-14 13:11:34 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-14 13:11:34 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-14 13:11:35 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 87 ms. Found 10 JPA repository interfaces.
2025-06-14 13:11:35 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-14 13:11:35 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-06-14 13:11:35 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.common.repository.CategoryTarifRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 13:11:35 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.CustomerGroupRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 13:11:35 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.CustomerRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 13:11:35 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.ProductCustomerRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 13:11:35 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.DepotRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 13:11:35 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.ProductStockRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 13:11:35 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.SiteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 13:11:35 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.order.repository.OrderRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 13:11:35 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.product.repository.ProductRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 13:11:35 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.promos.repository.PromotionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 13:11:35 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 21 ms. Found 0 Redis repository interfaces.
2025-06-14 13:11:35 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8087 (http)
2025-06-14 13:11:35 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-14 13:11:35 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.41]
2025-06-14 13:11:35 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-14 13:11:35 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1687 ms
2025-06-14 13:11:36 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-06-14 13:11:36 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.15.Final
2025-06-14 13:11:36 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-06-14 13:11:36 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-06-14 13:11:36 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@7c02b3cb
2025-06-14 13:11:36 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-06-14 13:11:36 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-06-14 13:11:36 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 17.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-06-14 13:11:36 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-06-14 13:11:38 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-06-14 13:11:38 [main] DEBUG org.hibernate.SQL - 
    set client_min_messages = WARNING
2025-06-14 13:11:38 [main] DEBUG org.hibernate.SQL - 
    alter table if exists categories 
       drop constraint if exists FKsaok720gsu4u2wrgbk10b5n8d
2025-06-14 13:11:38 [main] DEBUG org.hibernate.SQL - 
    alter table if exists customer_group_members 
       drop constraint if exists FKetr33gy3yxphaasg8pnk8wyvs
2025-06-14 13:11:38 [main] DEBUG org.hibernate.SQL - 
    alter table if exists customer_group_members 
       drop constraint if exists FKj7chtq65ntu6cwx5vtc3rngdp
2025-06-14 13:11:38 [main] DEBUG org.hibernate.SQL - 
    alter table if exists depots 
       drop constraint if exists FK5qq91mnq7j5lemrap49cshimd
2025-06-14 13:11:38 [main] DEBUG org.hibernate.SQL - 
    alter table if exists order_item_applied_promotions 
       drop constraint if exists FK82i7jogqbstxwl46g1rywbwsu
2025-06-14 13:11:38 [main] DEBUG org.hibernate.SQL - 
    alter table if exists order_items 
       drop constraint if exists FKbioxgbv59vetrxe0ejfubep1w
2025-06-14 13:11:38 [main] DEBUG org.hibernate.SQL - 
    alter table if exists product_categories 
       drop constraint if exists FKd112rx0alycddsms029iifrih
2025-06-14 13:11:38 [main] DEBUG org.hibernate.SQL - 
    alter table if exists product_categories 
       drop constraint if exists FKlda9rad6s180ha3dl1ncsp8n7
2025-06-14 13:11:38 [main] DEBUG org.hibernate.SQL - 
    alter table if exists product_stocks 
       drop constraint if exists FKmcawg70vkgr4vfrsphtcoc8up
2025-06-14 13:11:38 [main] DEBUG org.hibernate.SQL - 
    alter table if exists products 
       drop constraint if exists FK53ooveoh14cvs7qns24gmlehh
2025-06-14 13:11:38 [main] DEBUG org.hibernate.SQL - 
    alter table if exists products_customer 
       drop constraint if exists FKnygquw0w0xvu9lfjpsbd6xmgv
2025-06-14 13:11:38 [main] DEBUG org.hibernate.SQL - 
    alter table if exists products_customer 
       drop constraint if exists FK4vdatfmkcw4aqwv41q569gq44
2025-06-14 13:11:38 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_conditions 
       drop constraint if exists FKjfph2mn5x5inav2a7wsxo2r2l
2025-06-14 13:11:38 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_customer_families 
       drop constraint if exists FKjy33meus9wkfyyp29kyxhaw3i
2025-06-14 13:11:38 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_customer_usage 
       drop constraint if exists FKtkdnuodmsbsskeejx4ksjgmsn
2025-06-14 13:11:38 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_dynamic_conditions 
       drop constraint if exists FKd2huyfw319bhk0frhvdh0v0ot
2025-06-14 13:11:38 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_excluded_categories 
       drop constraint if exists FKiamgbul5ugcmy9ewsemk31fng
2025-06-14 13:11:38 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_excluded_products 
       drop constraint if exists FK1s1aelilqwce11lxgop8yhud0
2025-06-14 13:11:38 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_lines 
       drop constraint if exists FKc6jg561k2bcyoja0im2kifdgb
2025-06-14 13:11:38 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_rules 
       drop constraint if exists FK6xcgfd4fvmkpqdlnln3opdmpg
2025-06-14 13:11:38 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_tiers 
       drop constraint if exists FK3iar32tvya9o51dqhtaf95ev6
2025-06-14 13:11:38 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_tiers 
       drop constraint if exists FKhw31w9eyoj371gg325124p1e9
2025-06-14 13:11:38 [main] DEBUG org.hibernate.SQL - 
    drop table if exists cat_tarif cascade
2025-06-14 13:11:38 [main] DEBUG org.hibernate.SQL - 
    drop table if exists categories cascade
2025-06-14 13:11:38 [main] DEBUG org.hibernate.SQL - 
    drop table if exists customer_group_members cascade
2025-06-14 13:11:38 [main] DEBUG org.hibernate.SQL - 
    drop table if exists customer_groups cascade
2025-06-14 13:11:38 [main] DEBUG org.hibernate.SQL - 
    drop table if exists customers cascade
2025-06-14 13:11:38 [main] DEBUG org.hibernate.SQL - 
    drop table if exists depots cascade
2025-06-14 13:11:38 [main] DEBUG org.hibernate.SQL - 
    drop table if exists order_item_applied_promotions cascade
2025-06-14 13:11:38 [main] DEBUG org.hibernate.SQL - 
    drop table if exists order_items cascade
2025-06-14 13:11:38 [main] DEBUG org.hibernate.SQL - 
    drop table if exists orders cascade
2025-06-14 13:11:38 [main] DEBUG org.hibernate.SQL - 
    drop table if exists product_categories cascade
2025-06-14 13:11:38 [main] DEBUG org.hibernate.SQL - 
    drop table if exists product_families cascade
2025-06-14 13:11:38 [main] DEBUG org.hibernate.SQL - 
    drop table if exists product_stocks cascade
2025-06-14 13:11:38 [main] DEBUG org.hibernate.SQL - 
    drop table if exists products cascade
2025-06-14 13:11:38 [main] DEBUG org.hibernate.SQL - 
    drop table if exists products_customer cascade
2025-06-14 13:11:38 [main] DEBUG org.hibernate.SQL - 
    drop table if exists promotion_conditions cascade
2025-06-14 13:11:38 [main] DEBUG org.hibernate.SQL - 
    drop table if exists promotion_customer_families cascade
2025-06-14 13:11:38 [main] DEBUG org.hibernate.SQL - 
    drop table if exists promotion_customer_usage cascade
2025-06-14 13:11:38 [main] DEBUG org.hibernate.SQL - 
    drop table if exists promotion_dynamic_conditions cascade
2025-06-14 13:11:38 [main] DEBUG org.hibernate.SQL - 
    drop table if exists promotion_excluded_categories cascade
2025-06-14 13:11:38 [main] DEBUG org.hibernate.SQL - 
    drop table if exists promotion_excluded_products cascade
2025-06-14 13:11:38 [main] DEBUG org.hibernate.SQL - 
    drop table if exists promotion_lines cascade
2025-06-14 13:11:38 [main] DEBUG org.hibernate.SQL - 
    drop table if exists promotion_rules cascade
2025-06-14 13:11:38 [main] DEBUG org.hibernate.SQL - 
    drop table if exists promotion_tiers cascade
2025-06-14 13:11:38 [main] DEBUG org.hibernate.SQL - 
    drop table if exists promotions cascade
2025-06-14 13:11:38 [main] DEBUG org.hibernate.SQL - 
    drop table if exists rewards cascade
2025-06-14 13:11:38 [main] DEBUG org.hibernate.SQL - 
    drop table if exists sites cascade
2025-06-14 13:11:38 [main] DEBUG org.hibernate.SQL - 
    create table cat_tarif (
        price_ttc numeric(24,6) not null,
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        updated_at timestamp(6) not null,
        description varchar(255) not null,
        primary key (id)
    )
2025-06-14 13:11:38 [main] DEBUG org.hibernate.SQL - 
    create table categories (
        is_active boolean not null,
        level integer not null,
        created_at timestamp(6) with time zone not null,
        id bigint generated by default as identity,
        parent_id bigint,
        updated_at timestamp(6) with time zone,
        description varchar(500),
        code varchar(255) not null unique,
        name varchar(255) not null,
        primary key (id)
    )
2025-06-14 13:11:38 [main] DEBUG org.hibernate.SQL - 
    create table customer_group_members (
        customer_id bigint not null,
        group_id bigint not null,
        primary key (customer_id, group_id)
    )
2025-06-14 13:11:38 [main] DEBUG org.hibernate.SQL - 
    create table customer_groups (
        created_at timestamp(6) with time zone not null,
        id bigint generated by default as identity,
        updated_at timestamp(6) with time zone,
        description varchar(255),
        name varchar(255) not null unique,
        primary key (id)
    )
2025-06-14 13:11:38 [main] DEBUG org.hibernate.SQL - 
    create table customers (
        annual_turnover numeric(38,2),
        average_order_value numeric(24,6),
        credit_limit numeric(24,6),
        credit_score integer,
        is_active boolean not null,
        is_vip boolean,
        loyalty_points integer,
        number_of_employees integer,
        outstanding_balance numeric(24,6),
        payment_term_days integer,
        total_orders integer,
        total_spent numeric(24,6),
        contract_end_date timestamp(6) with time zone,
        contract_start_date timestamp(6) with time zone,
        created_at timestamp(6) with time zone not null,
        customer_since timestamp(6) with time zone,
        id bigint generated by default as identity,
        last_activity_date timestamp(6) with time zone,
        last_order_date timestamp(6) with time zone,
        last_payment_date timestamp(6) with time zone,
        updated_at timestamp(6) with time zone,
        address varchar(255),
        bank_account_info TEXT,
        business_activity varchar(255),
        city varchar(255),
        company_name varchar(255),
        contract_number varchar(255),
        contract_terms TEXT,
        contract_type varchar(255),
        country varchar(255),
        created_by varchar(255),
        credit_rating varchar(255),
        ct_num varchar(255) not null unique,
        customer_type varchar(255) not null check (customer_type in ('B2B','B2C')),
        delivery_terms TEXT,
        description varchar(255) not null,
        email varchar(255),
        ice varchar(255) not null,
        legal_form varchar(255),
        notes TEXT,
        payment_history TEXT,
        payment_terms TEXT,
        postal_code varchar(255),
        preferred_delivery_days varchar(255),
        preferred_delivery_time varchar(255),
        preferred_payment_method varchar(255),
        region varchar(255),
        registration_number varchar(255),
        special_conditions TEXT,
        special_handling_instructions TEXT,
        tax_id varchar(255),
        telecopie varchar(255),
        telephone varchar(255),
        updated_by varchar(255),
        vat_number varchar(255),
        primary key (id)
    )
2025-06-14 13:11:38 [main] DEBUG org.hibernate.SQL - 
    create table depots (
        capacity_cubic_meters float(53),
        is_active boolean,
        is_refrigerated boolean,
        security_level integer,
        created_at timestamp(6) with time zone not null,
        id bigint generated by default as identity,
        site_id bigint,
        updated_at timestamp(6) with time zone,
        access_restrictions varchar(255),
        depot_code varchar(255) not null unique,
        depot_type varchar(255) check (depot_type in ('MAIN_WAREHOUSE','DISTRIBUTION_CENTER','COLD_STORAGE','DRY_STORAGE','HAZARDOUS_MATERIALS','TEMPORARY_STORAGE','CROSS_DOCKING')),
        description varchar(255) not null,
        handling_equipment varchar(255),
        special_requirements TEXT,
        temperature_range varchar(255),
        primary key (id)
    )
2025-06-14 13:11:38 [main] DEBUG org.hibernate.SQL - 
    create table order_item_applied_promotions (
        order_item_id bigint not null,
        promotion_code varchar(255)
    )
2025-06-14 13:11:38 [main] DEBUG org.hibernate.SQL - 
    create table order_items (
        bulk_quantity_threshold integer,
        consumed_quantity integer not null,
        discount_amount numeric(38,2) not null,
        quantity integer not null,
        sku_points numeric(38,2),
        special_pricing boolean,
        tax_amount numeric(38,2) not null,
        total_price numeric(38,2) not null,
        unit_price numeric(38,2) not null,
        wholesale_price numeric(38,2),
        created_at timestamp(6) with time zone not null,
        id bigint generated by default as identity,
        order_id bigint not null,
        product_family_id bigint,
        product_id bigint not null,
        updated_at timestamp(6) with time zone,
        applied_promotion_code varchar(255),
        notes varchar(255),
        product_name varchar(255) not null,
        sku varchar(255),
        primary key (id)
    )
2025-06-14 13:11:38 [main] DEBUG org.hibernate.SQL - 
    create table orders (
        bulk_discount_percentage numeric(38,2),
        is_wholesale boolean not null,
        minimum_order_value numeric(38,2),
        shipping_cost numeric(38,2) not null,
        special_pricing_agreement boolean,
        subtotal numeric(38,2) not null,
        total numeric(38,2) not null,
        total_discount numeric(38,2) not null,
        total_tax numeric(38,2) not null,
        cancelled_at timestamp(6) with time zone,
        created_at timestamp(6) with time zone not null,
        customer_id bigint not null,
        delivered_at timestamp(6) with time zone,
        id bigint generated by default as identity,
        payment_due_date timestamp(6) with time zone,
        preferred_delivery_date timestamp(6) with time zone,
        refunded_at timestamp(6) with time zone,
        updated_at timestamp(6) with time zone,
        cancellation_reason varchar(255),
        contract_number varchar(255),
        created_by varchar(255),
        delivery_instructions varchar(255),
        internal_notes varchar(255),
        notes varchar(255),
        order_number varchar(255) not null unique,
        order_type varchar(255) not null check (order_type in ('B2B','B2C')),
        payment_method varchar(255) check (payment_method in ('CASH','CREDIT_CARD','DEBIT_CARD','MOBILE_PAYMENT','BANK_TRANSFER','CHECK','WIRE_TRANSFER','CREDIT_NOTE','LETTER_OF_CREDIT')),
        payment_notes varchar(255),
        payment_reference varchar(255),
        payment_status varchar(255) check (payment_status in ('PENDING','PARTIALLY_PAID','PAID','FAILED','REFUNDED','CANCELLED','ON_HOLD','IN_DISPUTE')),
        payment_terms varchar(255),
        po_number varchar(255),
        reference_number varchar(255),
        refund_reason varchar(255),
        shipping_address varchar(255),
        shipping_city varchar(255),
        shipping_country varchar(255),
        shipping_notes varchar(255),
        shipping_postal_code varchar(255),
        status varchar(255) not null check (status in ('DRAFT','PENDING','CONFIRMED','PREPARING','READY','DELIVERING','DELIVERED','CANCELLED','REFUNDED')),
        updated_by varchar(255),
        primary key (id)
    )
2025-06-14 13:11:38 [main] DEBUG org.hibernate.SQL - 
    create table product_categories (
        category_id bigint not null,
        product_id bigint not null
    )
2025-06-14 13:11:38 [main] DEBUG org.hibernate.SQL - 
    create table product_families (
        is_active boolean not null,
        created_at timestamp(6) with time zone not null,
        id bigint generated by default as identity,
        updated_at timestamp(6) with time zone,
        code varchar(255) not null unique,
        description varchar(255),
        name varchar(255) not null,
        primary key (id)
    )
2025-06-14 13:11:38 [main] DEBUG org.hibernate.SQL - 
    create table product_stocks (
        days_of_stock integer,
        expiry_date date,
        max_stock_level numeric(24,6),
        min_stock_level numeric(24,6),
        quantity numeric(24,6) not null,
        reorder_point numeric(24,6),
        reorder_quantity numeric(24,6),
        reserved_quantity numeric(24,6) not null,
        shelf_life_days integer,
        unit_cost numeric(24,6) not null,
        created_at timestamp(6) with time zone not null,
        depot_id bigint not null,
        id bigint generated by default as identity,
        last_purchase_date timestamp(6) with time zone,
        last_sale_date timestamp(6) with time zone,
        product_id bigint not null,
        updated_at timestamp(6) with time zone,
        storage_conditions varchar(100),
        notes varchar(500),
        quality_notes varchar(1000),
        batch_number varchar(255),
        depot_name varchar(255),
        location_code varchar(255),
        product_name varchar(255),
        quality_status varchar(255) not null check (quality_status in ('INSPECTED','INSPECTION_REQUIRED','QUARANTINED','DAMAGED','RECALLED')),
        primary key (id)
    )
2025-06-14 13:11:38 [main] DEBUG org.hibernate.SQL - 
    create table products (
        b2b_contract_discount_percentage numeric(5,2),
        b2b_contract_required boolean,
        b2b_credit_terms integer,
        b2b_custom_pricing_enabled boolean,
        b2b_delivery_lead_time integer,
        b2b_minimum_order_value numeric(19,2),
        b2b_volume_discount_enabled boolean,
        b2c_display_in_catalog boolean,
        b2c_featured boolean,
        b2c_loyalty_points_multiplier numeric(5,2),
        b2c_promo_price numeric(19,2),
        b2c_rating numeric(3,2),
        b2c_retail_price numeric(19,2),
        b2c_review_count integer,
        bulk_discount_percentage numeric(5,2),
        bulk_discount_threshold integer,
        bulk_package_size integer,
        deliverable boolean not null,
        inactive boolean not null,
        is_bulk_item boolean not null,
        is_perishable boolean not null,
        is_wholesale_only boolean not null,
        maximum_order_quantity integer,
        minimum_order_quantity integer,
        package_quantity integer,
        price_including_tax numeric(10,2) not null,
        promo_sku_points numeric(10,2) not null,
        requires_approval boolean not null,
        requires_cold_storage boolean not null,
        requires_contract boolean not null,
        sale_price numeric(10,2) not null,
        tax_rate numeric(5,2),
        unit_price numeric(38,2) not null,
        vendable boolean not null,
        visible boolean not null,
        weight numeric(10,3),
        wholesale_discount_percentage numeric(5,2),
        wholesale_minimum_quantity integer,
        wholesale_price numeric(10,2),
        wholesale_tier_1_price numeric(10,2),
        wholesale_tier_1_quantity integer,
        wholesale_tier_2_price numeric(10,2),
        wholesale_tier_2_quantity integer,
        wholesale_tier_3_price numeric(10,2),
        wholesale_tier_3_quantity integer,
        b2c_promo_end_date timestamp(6) with time zone,
        b2c_promo_start_date timestamp(6) with time zone,
        created_at timestamp(6) with time zone,
        id bigint generated by default as identity,
        updated_at timestamp(6) with time zone,
        weight_unit varchar(10),
        bulk_package_unit varchar(20),
        stock_tracking varchar(20) not null check (stock_tracking in ('Aucun','SERIALIZED','CMUP','FIFO','LIFO','PAR_LOT')),
        barcode varchar(36) unique,
        dimensions varchar(50),
        package_size varchar(50),
        sale_unit varchar(50),
        seasonality varchar(50),
        supplier_code varchar(50),
        target_market varchar(50),
        country_of_origin varchar(100),
        supplier_name varchar(100),
        certification varchar(200),
        photo varchar(500),
        title varchar(500) not null,
        availability_schedule jsonb,
        b2b_payment_methods varchar(255),
        custom_attributes jsonb,
        customer_segments varchar(255),
        description TEXT not null,
        family_code varchar(255),
        reference varchar(255) not null unique,
        sku varchar(255) not null unique,
        additional_photos TEXT[],
        primary key (id)
    )
2025-06-14 13:11:38 [main] DEBUG org.hibernate.SQL - 
    create table products_customer (
        coef numeric(12,2),
        is_active boolean,
        prix_ttc numeric(16,6) not null,
        prix_ven_nouv numeric(16,6),
        qte_mont integer,
        remise numeric(16,6),
        remise_nouv numeric(16,6),
        created_at timestamp(6) with time zone,
        id bigint generated by default as identity,
        reference_customer bigint not null,
        reference_product bigint not null,
        updated_at timestamp(6) with time zone,
        category varchar(50),
        primary key (id)
    )
2025-06-14 13:11:38 [main] DEBUG org.hibernate.SQL - 
    create table promotion_conditions (
        required_loyalty_level integer,
        customer_group_id bigint,
        id bigint generated by default as identity,
        rule_id bigint,
        attribute varchar(255) not null,
        condition_type varchar(255) not null check (condition_type in ('CART_SUBTOTAL','PRODUCT_IN_CART','CUSTOMER_IN_GROUP','TIME_OF_DAY','DAY_OF_WEEK','CUSTOMER_LOYALTY_LEVEL','PAYMENT_METHOD')),
        entity_id varchar(255),
        entity_type varchar(255),
        operator varchar(255) not null check (operator in ('EQUAL','NOT_EQUAL','GREATER_THAN','GREATER_THAN_OR_EQUAL','LESS_THAN','LESS_THAN_OR_EQUAL','CONTAINS','NOT_CONTAINS','IN','NOT_IN')),
        payment_method varchar(255),
        value varchar(255) not null,
        primary key (id)
    )
2025-06-14 13:11:38 [main] DEBUG org.hibernate.SQL - 
    create table promotion_customer_families (
        end_date timestamp(6) with time zone,
        id bigint generated by default as identity,
        promotion_id bigint,
        start_date timestamp(6) with time zone,
        customer_family_code varchar(255) not null,
        primary key (id)
    )
2025-06-14 13:11:38 [main] DEBUG org.hibernate.SQL - 
    create table promotion_customer_usage (
        usage_count integer,
        customer_id bigint not null,
        promotion_id bigint not null,
        primary key (customer_id, promotion_id)
    )
2025-06-14 13:11:38 [main] DEBUG org.hibernate.SQL - 
    create table promotion_dynamic_conditions (
        is_active boolean not null,
        threshold float(53),
        id bigint generated by default as identity,
        promotion_id bigint,
        condition_type varchar(255) not null,
        condition_value varchar(255) not null,
        description varchar(255),
        entity_id varchar(255),
        entity_type varchar(255),
        operator varchar(255) not null,
        primary key (id)
    )
2025-06-14 13:11:38 [main] DEBUG org.hibernate.SQL - 
    create table promotion_excluded_categories (
        category_id bigint,
        promotion_id bigint not null
    )
2025-06-14 13:11:38 [main] DEBUG org.hibernate.SQL - 
    create table promotion_excluded_products (
        product_id bigint,
        promotion_id bigint not null
    )
2025-06-14 13:11:38 [main] DEBUG org.hibernate.SQL - 
    create table promotion_lines (
        free_product_id bigint,
        id bigint generated by default as identity,
        paid_product_id bigint,
        promotion_id bigint,
        free_family_code varchar(255),
        paid_family_code varchar(255),
        primary key (id)
    )
2025-06-14 13:11:38 [main] DEBUG org.hibernate.SQL - 
    create table promotion_rules (
        repetition integer,
        id bigint generated by default as identity,
        promotion_id bigint,
        breakpoint_type varchar(255) not null check (breakpoint_type in ('AMOUNT','QUANTITY','SKU_POINTS')),
        calculation_method varchar(255) not null check (calculation_method in ('BRACKET','CUMULATIVE')),
        condition_logic varchar(255) not null check (condition_logic in ('ALL','ANY')),
        name varchar(255) not null,
        primary key (id)
    )
2025-06-14 13:11:38 [main] DEBUG org.hibernate.SQL - 
    create table promotion_tiers (
        minimum_threshold numeric(38,2) not null,
        id bigint generated by default as identity,
        reward_id bigint not null unique,
        rule_id bigint,
        primary key (id)
    )
2025-06-14 13:11:38 [main] DEBUG org.hibernate.SQL - 
    create table promotions (
        apply_first_matching_rule_only boolean,
        current_usage_count integer,
        index_discount integer,
        is_active boolean not null,
        is_exclusive boolean not null,
        max_usage_count integer,
        max_usage_per_customer integer,
        min_purchase_amount numeric(38,2),
        priority integer not null check (priority>=0),
        skip_to_sequence integer,
        end_date timestamp(6) with time zone not null,
        id bigint generated by default as identity,
        start_date timestamp(6) with time zone not null,
        combinability_group varchar(255),
        customer_group varchar(255),
        description varchar(255),
        name varchar(255) not null,
        promo_code varchar(255) not null unique,
        primary key (id)
    )
2025-06-14 13:11:38 [main] DEBUG org.hibernate.SQL - 
    create table rewards (
        value numeric(38,2) not null,
        id bigint generated by default as identity,
        target_entity_id bigint,
        reward_type varchar(255) not null check (reward_type in ('PERCENT_DISCOUNT_ON_ITEM','FIXED_DISCOUNT_ON_CART','FREE_PRODUCT')),
        target_entity_type varchar(255),
        primary key (id)
    )
2025-06-14 13:11:38 [main] DEBUG org.hibernate.SQL - 
    create table sites (
        capacity_sqm float(53),
        is_active boolean,
        created_at timestamp(6) with time zone not null,
        id bigint generated by default as identity,
        updated_at timestamp(6) with time zone,
        address_line1 varchar(255),
        city varchar(255),
        contact_email varchar(255),
        contact_phone varchar(255),
        country varchar(255),
        description varchar(255) not null,
        postal_code varchar(255),
        site_code varchar(255) not null unique,
        primary key (id)
    )
2025-06-14 13:11:38 [main] DEBUG org.hibernate.SQL - 
    alter table if exists categories 
       add constraint FKsaok720gsu4u2wrgbk10b5n8d 
       foreign key (parent_id) 
       references categories
2025-06-14 13:11:38 [main] DEBUG org.hibernate.SQL - 
    alter table if exists customer_group_members 
       add constraint FKetr33gy3yxphaasg8pnk8wyvs 
       foreign key (group_id) 
       references customer_groups
2025-06-14 13:11:38 [main] DEBUG org.hibernate.SQL - 
    alter table if exists customer_group_members 
       add constraint FKj7chtq65ntu6cwx5vtc3rngdp 
       foreign key (customer_id) 
       references customers
2025-06-14 13:11:38 [main] DEBUG org.hibernate.SQL - 
    alter table if exists depots 
       add constraint FK5qq91mnq7j5lemrap49cshimd 
       foreign key (site_id) 
       references sites
2025-06-14 13:11:38 [main] DEBUG org.hibernate.SQL - 
    alter table if exists order_item_applied_promotions 
       add constraint FK82i7jogqbstxwl46g1rywbwsu 
       foreign key (order_item_id) 
       references order_items
2025-06-14 13:11:38 [main] DEBUG org.hibernate.SQL - 
    alter table if exists order_items 
       add constraint FKbioxgbv59vetrxe0ejfubep1w 
       foreign key (order_id) 
       references orders
2025-06-14 13:11:38 [main] DEBUG org.hibernate.SQL - 
    alter table if exists product_categories 
       add constraint FKd112rx0alycddsms029iifrih 
       foreign key (category_id) 
       references categories
2025-06-14 13:11:38 [main] DEBUG org.hibernate.SQL - 
    alter table if exists product_categories 
       add constraint FKlda9rad6s180ha3dl1ncsp8n7 
       foreign key (product_id) 
       references products
2025-06-14 13:11:38 [main] DEBUG org.hibernate.SQL - 
    alter table if exists product_stocks 
       add constraint FKmcawg70vkgr4vfrsphtcoc8up 
       foreign key (depot_id) 
       references depots
2025-06-14 13:11:38 [main] DEBUG org.hibernate.SQL - 
    alter table if exists products 
       add constraint FK53ooveoh14cvs7qns24gmlehh 
       foreign key (family_code) 
       references product_families (code)
2025-06-14 13:11:38 [main] DEBUG org.hibernate.SQL - 
    alter table if exists products_customer 
       add constraint FKnygquw0w0xvu9lfjpsbd6xmgv 
       foreign key (reference_customer) 
       references customers
2025-06-14 13:11:38 [main] DEBUG org.hibernate.SQL - 
    alter table if exists products_customer 
       add constraint FK4vdatfmkcw4aqwv41q569gq44 
       foreign key (reference_product) 
       references products
2025-06-14 13:11:38 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_conditions 
       add constraint FKjfph2mn5x5inav2a7wsxo2r2l 
       foreign key (rule_id) 
       references promotion_rules
2025-06-14 13:11:38 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_customer_families 
       add constraint FKjy33meus9wkfyyp29kyxhaw3i 
       foreign key (promotion_id) 
       references promotions
2025-06-14 13:11:38 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_customer_usage 
       add constraint FKtkdnuodmsbsskeejx4ksjgmsn 
       foreign key (promotion_id) 
       references promotions
2025-06-14 13:11:38 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_dynamic_conditions 
       add constraint FKd2huyfw319bhk0frhvdh0v0ot 
       foreign key (promotion_id) 
       references promotions
2025-06-14 13:11:38 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_excluded_categories 
       add constraint FKiamgbul5ugcmy9ewsemk31fng 
       foreign key (promotion_id) 
       references promotions
2025-06-14 13:11:38 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_excluded_products 
       add constraint FK1s1aelilqwce11lxgop8yhud0 
       foreign key (promotion_id) 
       references promotions
2025-06-14 13:11:38 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_lines 
       add constraint FKc6jg561k2bcyoja0im2kifdgb 
       foreign key (promotion_id) 
       references promotions
2025-06-14 13:11:38 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_rules 
       add constraint FK6xcgfd4fvmkpqdlnln3opdmpg 
       foreign key (promotion_id) 
       references promotions
2025-06-14 13:11:38 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_tiers 
       add constraint FK3iar32tvya9o51dqhtaf95ev6 
       foreign key (reward_id) 
       references rewards
2025-06-14 13:11:38 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_tiers 
       add constraint FKhw31w9eyoj371gg325124p1e9 
       foreign key (rule_id) 
       references promotion_rules
2025-06-14 13:11:38 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-06-14 13:11:38 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-06-14 13:11:39 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'customerController' defined in file [/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/ma/foodplus/ordering/system/customer/controller/CustomerController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'customerServiceImpl' defined in file [/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/ma/foodplus/ordering/system/customer/service/impl/CustomerServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'customerRepository' defined in ma.foodplus.ordering.system.customer.repository.CustomerRepository defined in @EnableJpaRepositories declared on JpaConfig: Could not create query for public abstract java.util.List ma.foodplus.ordering.system.customer.repository.CustomerRepository.findByCategoryTarifId(java.lang.Long); Reason: Validation failed for query for method public abstract java.util.List ma.foodplus.ordering.system.customer.repository.CustomerRepository.findByCategoryTarifId(java.lang.Long)
2025-06-14 13:11:39 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-06-14 13:11:39 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-06-14 13:11:39 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-06-14 13:11:39 [main] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-06-14 13:11:39 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-06-14 13:11:39 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'customerController' defined in file [/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/ma/foodplus/ordering/system/customer/controller/CustomerController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'customerServiceImpl' defined in file [/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/ma/foodplus/ordering/system/customer/service/impl/CustomerServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'customerRepository' defined in ma.foodplus.ordering.system.customer.repository.CustomerRepository defined in @EnableJpaRepositories declared on JpaConfig: Could not create query for public abstract java.util.List ma.foodplus.ordering.system.customer.repository.CustomerRepository.findByCategoryTarifId(java.lang.Long); Reason: Validation failed for query for method public abstract java.util.List ma.foodplus.ordering.system.customer.repository.CustomerRepository.findByCategoryTarifId(java.lang.Long)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:804)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1395)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1232)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1222)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1188)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1123)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:987)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:753)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1362)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1351)
	at ma.foodplus.ordering.system.FoodPlusOrderingApplication.main(FoodPlusOrderingApplication.java:22)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'customerServiceImpl' defined in file [/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/ma/foodplus/ordering/system/customer/service/impl/CustomerServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'customerRepository' defined in ma.foodplus.ordering.system.customer.repository.CustomerRepository defined in @EnableJpaRepositories declared on JpaConfig: Could not create query for public abstract java.util.List ma.foodplus.ordering.system.customer.repository.CustomerRepository.findByCategoryTarifId(java.lang.Long); Reason: Validation failed for query for method public abstract java.util.List ma.foodplus.ordering.system.customer.repository.CustomerRepository.findByCategoryTarifId(java.lang.Long)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:804)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1395)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1232)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1740)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1628)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	... 21 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'customerRepository' defined in ma.foodplus.ordering.system.customer.repository.CustomerRepository defined in @EnableJpaRepositories declared on JpaConfig: Could not create query for public abstract java.util.List ma.foodplus.ordering.system.customer.repository.CustomerRepository.findByCategoryTarifId(java.lang.Long); Reason: Validation failed for query for method public abstract java.util.List ma.foodplus.ordering.system.customer.repository.CustomerRepository.findByCategoryTarifId(java.lang.Long)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1826)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:607)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1682)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1628)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	... 35 common frames omitted
Caused by: org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract java.util.List ma.foodplus.ordering.system.customer.repository.CustomerRepository.findByCategoryTarifId(java.lang.Long); Reason: Validation failed for query for method public abstract java.util.List ma.foodplus.ordering.system.customer.repository.CustomerRepository.findByCategoryTarifId(java.lang.Long)
	at org.springframework.data.repository.query.QueryCreationException.create(QueryCreationException.java:101)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:120)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.mapMethodsToQuery(QueryExecutorMethodInterceptor.java:104)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lambda$new$0(QueryExecutorMethodInterceptor.java:92)
	at java.base/java.util.Optional.map(Optional.java:260)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.<init>(QueryExecutorMethodInterceptor.java:92)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:434)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$4(RepositoryFactoryBeanSupport.java:350)
	at org.springframework.data.util.Lazy.getNullable(Lazy.java:135)
	at org.springframework.data.util.Lazy.get(Lazy.java:113)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:356)
	at org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean.afterPropertiesSet(JpaRepositoryFactoryBean.java:132)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1873)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1822)
	... 45 common frames omitted
Caused by: java.lang.IllegalArgumentException: Validation failed for query for method public abstract java.util.List ma.foodplus.ordering.system.customer.repository.CustomerRepository.findByCategoryTarifId(java.lang.Long)
	at org.springframework.data.jpa.repository.query.SimpleJpaQuery.validateQuery(SimpleJpaQuery.java:97)
	at org.springframework.data.jpa.repository.query.SimpleJpaQuery.<init>(SimpleJpaQuery.java:67)
	at org.springframework.data.jpa.repository.query.JpaQueryFactory.fromMethodWithQueryString(JpaQueryFactory.java:49)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$DeclaredQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:174)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateIfNotFoundQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:254)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$AbstractQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:99)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:116)
	... 57 common frames omitted
Caused by: java.lang.IllegalArgumentException: org.hibernate.query.sqm.UnknownPathException: Could not resolve attribute 'cateTarif' of 'ma.foodplus.ordering.system.customer.model.Customer' [SELECT c FROM Customer c WHERE c.cateTarif.id = :categoryTarifId]
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:143)
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:167)
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:173)
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:886)
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:796)
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:143)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:364)
	at jdk.proxy2/jdk.proxy2.$Proxy191.createQuery(Unknown Source)
	at org.springframework.data.jpa.repository.query.SimpleJpaQuery.validateQuery(SimpleJpaQuery.java:91)
	... 63 common frames omitted
Caused by: org.hibernate.query.sqm.UnknownPathException: Could not resolve attribute 'cateTarif' of 'ma.foodplus.ordering.system.customer.model.Customer' [SELECT c FROM Customer c WHERE c.cateTarif.id = :categoryTarifId]
	at org.hibernate.query.hql.internal.StandardHqlTranslator.translate(StandardHqlTranslator.java:88)
	at org.hibernate.query.internal.QueryInterpretationCacheStandardImpl.createHqlInterpretation(QueryInterpretationCacheStandardImpl.java:145)
	at org.hibernate.query.internal.QueryInterpretationCacheStandardImpl.resolveHqlInterpretation(QueryInterpretationCacheStandardImpl.java:132)
	at org.hibernate.query.spi.QueryEngine.interpretHql(QueryEngine.java:54)
	at org.hibernate.internal.AbstractSharedSessionContract.interpretHql(AbstractSharedSessionContract.java:832)
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:878)
	... 70 common frames omitted
Caused by: org.hibernate.query.sqm.PathElementException: Could not resolve attribute 'cateTarif' of 'ma.foodplus.ordering.system.customer.model.Customer'
	at org.hibernate.query.sqm.SqmPathSource.getSubPathSource(SqmPathSource.java:95)
	at org.hibernate.query.sqm.tree.domain.AbstractSqmPath.get(AbstractSqmPath.java:198)
	at org.hibernate.query.sqm.tree.domain.AbstractSqmFrom.resolvePathPart(AbstractSqmFrom.java:198)
	at org.hibernate.query.hql.internal.DomainPathPart.resolvePathPart(DomainPathPart.java:42)
	at org.hibernate.query.hql.internal.BasicDotIdentifierConsumer.consumeIdentifier(BasicDotIdentifierConsumer.java:92)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitSimplePath(SemanticQueryBuilder.java:5465)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitGeneralPathFragment(SemanticQueryBuilder.java:5298)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitGeneralPathExpression(SemanticQueryBuilder.java:1891)
	at org.hibernate.grammars.hql.HqlParser$GeneralPathExpressionContext.accept(HqlParser.java:8268)
	at org.antlr.v4.runtime.tree.AbstractParseTreeVisitor.visitChildren(AbstractParseTreeVisitor.java:46)
	at org.hibernate.grammars.hql.HqlParserBaseVisitor.visitBarePrimaryExpression(HqlParserBaseVisitor.java:812)
	at org.hibernate.grammars.hql.HqlParser$BarePrimaryExpressionContext.accept(HqlParser.java:7726)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.createComparisonPredicate(SemanticQueryBuilder.java:2548)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitComparisonPredicate(SemanticQueryBuilder.java:2509)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitComparisonPredicate(SemanticQueryBuilder.java:277)
	at org.hibernate.grammars.hql.HqlParser$ComparisonPredicateContext.accept(HqlParser.java:6611)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitWhereClause(SemanticQueryBuilder.java:2361)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitWhereClause(SemanticQueryBuilder.java:277)
	at org.hibernate.grammars.hql.HqlParser$WhereClauseContext.accept(HqlParser.java:6302)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitQuery(SemanticQueryBuilder.java:1259)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitQuerySpecExpression(SemanticQueryBuilder.java:1040)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitQuerySpecExpression(SemanticQueryBuilder.java:277)
	at org.hibernate.grammars.hql.HqlParser$QuerySpecExpressionContext.accept(HqlParser.java:2134)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitSimpleQueryGroup(SemanticQueryBuilder.java:1025)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitSimpleQueryGroup(SemanticQueryBuilder.java:277)
	at org.hibernate.grammars.hql.HqlParser$SimpleQueryGroupContext.accept(HqlParser.java:2005)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitSelectStatement(SemanticQueryBuilder.java:492)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitStatement(SemanticQueryBuilder.java:451)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.buildSemanticModel(SemanticQueryBuilder.java:324)
	at org.hibernate.query.hql.internal.StandardHqlTranslator.translate(StandardHqlTranslator.java:71)
	... 75 common frames omitted
2025-06-14 13:12:29 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - Starting FoodPlusOrderingApplication using Java 21.0.7 with PID 260529 (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes started by louki in /home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system)
2025-06-14 13:12:29 [main] DEBUG m.f.o.s.FoodPlusOrderingApplication - Running with Spring Boot v3.5.0, Spring v6.2.7
2025-06-14 13:12:29 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - The following 1 profile is active: "dev"
2025-06-14 13:12:30 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-14 13:12:30 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-14 13:12:30 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 106 ms. Found 10 JPA repository interfaces.
2025-06-14 13:12:30 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-14 13:12:30 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-06-14 13:12:31 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.common.repository.CategoryTarifRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 13:12:31 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.CustomerGroupRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 13:12:31 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.CustomerRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 13:12:31 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.ProductCustomerRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 13:12:31 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.DepotRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 13:12:31 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.ProductStockRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 13:12:31 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.SiteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 13:12:31 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.order.repository.OrderRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 13:12:31 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.product.repository.ProductRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 13:12:31 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.promos.repository.PromotionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 13:12:31 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 26 ms. Found 0 Redis repository interfaces.
2025-06-14 13:12:31 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8087 (http)
2025-06-14 13:12:31 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-14 13:12:31 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.41]
2025-06-14 13:12:32 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-14 13:12:32 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2464 ms
2025-06-14 13:12:32 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-06-14 13:12:32 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.15.Final
2025-06-14 13:12:32 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-06-14 13:12:32 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-06-14 13:12:33 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@665b441e
2025-06-14 13:12:33 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-06-14 13:12:33 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-06-14 13:12:33 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 17.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-06-14 13:12:33 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-06-14 13:12:35 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-06-14 13:12:35 [main] DEBUG org.hibernate.SQL - 
    set client_min_messages = WARNING
2025-06-14 13:12:35 [main] DEBUG org.hibernate.SQL - 
    alter table if exists categories 
       drop constraint if exists FKsaok720gsu4u2wrgbk10b5n8d
2025-06-14 13:12:35 [main] DEBUG org.hibernate.SQL - 
    alter table if exists customer_group_members 
       drop constraint if exists FKetr33gy3yxphaasg8pnk8wyvs
2025-06-14 13:12:35 [main] DEBUG org.hibernate.SQL - 
    alter table if exists customer_group_members 
       drop constraint if exists FKj7chtq65ntu6cwx5vtc3rngdp
2025-06-14 13:12:35 [main] DEBUG org.hibernate.SQL - 
    alter table if exists customers 
       drop constraint if exists FKdig1h8xu5vcu0rfcihvbh46wq
2025-06-14 13:12:35 [main] DEBUG org.hibernate.SQL - 
    alter table if exists depots 
       drop constraint if exists FK5qq91mnq7j5lemrap49cshimd
2025-06-14 13:12:35 [main] DEBUG org.hibernate.SQL - 
    alter table if exists order_item_applied_promotions 
       drop constraint if exists FK82i7jogqbstxwl46g1rywbwsu
2025-06-14 13:12:35 [main] DEBUG org.hibernate.SQL - 
    alter table if exists order_items 
       drop constraint if exists FKbioxgbv59vetrxe0ejfubep1w
2025-06-14 13:12:35 [main] DEBUG org.hibernate.SQL - 
    alter table if exists product_categories 
       drop constraint if exists FKd112rx0alycddsms029iifrih
2025-06-14 13:12:35 [main] DEBUG org.hibernate.SQL - 
    alter table if exists product_categories 
       drop constraint if exists FKlda9rad6s180ha3dl1ncsp8n7
2025-06-14 13:12:35 [main] DEBUG org.hibernate.SQL - 
    alter table if exists product_stocks 
       drop constraint if exists FKmcawg70vkgr4vfrsphtcoc8up
2025-06-14 13:12:35 [main] DEBUG org.hibernate.SQL - 
    alter table if exists products 
       drop constraint if exists FK53ooveoh14cvs7qns24gmlehh
2025-06-14 13:12:35 [main] DEBUG org.hibernate.SQL - 
    alter table if exists products_customer 
       drop constraint if exists FKnygquw0w0xvu9lfjpsbd6xmgv
2025-06-14 13:12:35 [main] DEBUG org.hibernate.SQL - 
    alter table if exists products_customer 
       drop constraint if exists FK4vdatfmkcw4aqwv41q569gq44
2025-06-14 13:12:35 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_conditions 
       drop constraint if exists FKjfph2mn5x5inav2a7wsxo2r2l
2025-06-14 13:12:35 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_customer_families 
       drop constraint if exists FKjy33meus9wkfyyp29kyxhaw3i
2025-06-14 13:12:35 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_customer_usage 
       drop constraint if exists FKtkdnuodmsbsskeejx4ksjgmsn
2025-06-14 13:12:35 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_dynamic_conditions 
       drop constraint if exists FKd2huyfw319bhk0frhvdh0v0ot
2025-06-14 13:12:35 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_excluded_categories 
       drop constraint if exists FKiamgbul5ugcmy9ewsemk31fng
2025-06-14 13:12:35 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_excluded_products 
       drop constraint if exists FK1s1aelilqwce11lxgop8yhud0
2025-06-14 13:12:35 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_lines 
       drop constraint if exists FKc6jg561k2bcyoja0im2kifdgb
2025-06-14 13:12:35 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_rules 
       drop constraint if exists FK6xcgfd4fvmkpqdlnln3opdmpg
2025-06-14 13:12:35 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_tiers 
       drop constraint if exists FK3iar32tvya9o51dqhtaf95ev6
2025-06-14 13:12:35 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_tiers 
       drop constraint if exists FKhw31w9eyoj371gg325124p1e9
2025-06-14 13:12:35 [main] DEBUG org.hibernate.SQL - 
    drop table if exists cat_tarif cascade
2025-06-14 13:12:35 [main] DEBUG org.hibernate.SQL - 
    drop table if exists categories cascade
2025-06-14 13:12:35 [main] DEBUG org.hibernate.SQL - 
    drop table if exists customer_group_members cascade
2025-06-14 13:12:35 [main] DEBUG org.hibernate.SQL - 
    drop table if exists customer_groups cascade
2025-06-14 13:12:35 [main] DEBUG org.hibernate.SQL - 
    drop table if exists customers cascade
2025-06-14 13:12:35 [main] DEBUG org.hibernate.SQL - 
    drop table if exists depots cascade
2025-06-14 13:12:35 [main] DEBUG org.hibernate.SQL - 
    drop table if exists order_item_applied_promotions cascade
2025-06-14 13:12:35 [main] DEBUG org.hibernate.SQL - 
    drop table if exists order_items cascade
2025-06-14 13:12:35 [main] DEBUG org.hibernate.SQL - 
    drop table if exists orders cascade
2025-06-14 13:12:35 [main] DEBUG org.hibernate.SQL - 
    drop table if exists product_categories cascade
2025-06-14 13:12:35 [main] DEBUG org.hibernate.SQL - 
    drop table if exists product_families cascade
2025-06-14 13:12:35 [main] DEBUG org.hibernate.SQL - 
    drop table if exists product_stocks cascade
2025-06-14 13:12:35 [main] DEBUG org.hibernate.SQL - 
    drop table if exists products cascade
2025-06-14 13:12:35 [main] DEBUG org.hibernate.SQL - 
    drop table if exists products_customer cascade
2025-06-14 13:12:35 [main] DEBUG org.hibernate.SQL - 
    drop table if exists promotion_conditions cascade
2025-06-14 13:12:35 [main] DEBUG org.hibernate.SQL - 
    drop table if exists promotion_customer_families cascade
2025-06-14 13:12:35 [main] DEBUG org.hibernate.SQL - 
    drop table if exists promotion_customer_usage cascade
2025-06-14 13:12:35 [main] DEBUG org.hibernate.SQL - 
    drop table if exists promotion_dynamic_conditions cascade
2025-06-14 13:12:35 [main] DEBUG org.hibernate.SQL - 
    drop table if exists promotion_excluded_categories cascade
2025-06-14 13:12:35 [main] DEBUG org.hibernate.SQL - 
    drop table if exists promotion_excluded_products cascade
2025-06-14 13:12:35 [main] DEBUG org.hibernate.SQL - 
    drop table if exists promotion_lines cascade
2025-06-14 13:12:35 [main] DEBUG org.hibernate.SQL - 
    drop table if exists promotion_rules cascade
2025-06-14 13:12:35 [main] DEBUG org.hibernate.SQL - 
    drop table if exists promotion_tiers cascade
2025-06-14 13:12:35 [main] DEBUG org.hibernate.SQL - 
    drop table if exists promotions cascade
2025-06-14 13:12:35 [main] DEBUG org.hibernate.SQL - 
    drop table if exists rewards cascade
2025-06-14 13:12:35 [main] DEBUG org.hibernate.SQL - 
    drop table if exists sites cascade
2025-06-14 13:12:35 [main] DEBUG org.hibernate.SQL - 
    create table cat_tarif (
        price_ttc numeric(24,6) not null,
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        updated_at timestamp(6) not null,
        description varchar(255) not null,
        primary key (id)
    )
2025-06-14 13:12:35 [main] DEBUG org.hibernate.SQL - 
    create table categories (
        is_active boolean not null,
        level integer not null,
        created_at timestamp(6) with time zone not null,
        id bigint generated by default as identity,
        parent_id bigint,
        updated_at timestamp(6) with time zone,
        description varchar(500),
        code varchar(255) not null unique,
        name varchar(255) not null,
        primary key (id)
    )
2025-06-14 13:12:35 [main] DEBUG org.hibernate.SQL - 
    create table customer_group_members (
        customer_id bigint not null,
        group_id bigint not null,
        primary key (customer_id, group_id)
    )
2025-06-14 13:12:35 [main] DEBUG org.hibernate.SQL - 
    create table customer_groups (
        created_at timestamp(6) with time zone not null,
        id bigint generated by default as identity,
        updated_at timestamp(6) with time zone,
        description varchar(255),
        name varchar(255) not null unique,
        primary key (id)
    )
2025-06-14 13:12:35 [main] DEBUG org.hibernate.SQL - 
    create table customers (
        annual_turnover numeric(38,2),
        average_order_value numeric(24,6),
        credit_limit numeric(24,6),
        credit_score integer,
        is_active boolean not null,
        is_vip boolean,
        loyalty_points integer,
        number_of_employees integer,
        outstanding_balance numeric(24,6),
        payment_term_days integer,
        total_orders integer,
        total_spent numeric(24,6),
        category_tarif_id bigint,
        contract_end_date timestamp(6) with time zone,
        contract_start_date timestamp(6) with time zone,
        created_at timestamp(6) with time zone not null,
        customer_since timestamp(6) with time zone,
        id bigint generated by default as identity,
        last_activity_date timestamp(6) with time zone,
        last_order_date timestamp(6) with time zone,
        last_payment_date timestamp(6) with time zone,
        updated_at timestamp(6) with time zone,
        address varchar(255),
        bank_account_info TEXT,
        business_activity varchar(255),
        city varchar(255),
        company_name varchar(255),
        contract_number varchar(255),
        contract_terms TEXT,
        contract_type varchar(255),
        country varchar(255),
        created_by varchar(255),
        credit_rating varchar(255),
        ct_num varchar(255) not null unique,
        customer_type varchar(255) not null check (customer_type in ('B2B','B2C')),
        delivery_terms TEXT,
        description varchar(255) not null,
        email varchar(255),
        ice varchar(255) not null,
        legal_form varchar(255),
        notes TEXT,
        payment_history TEXT,
        payment_terms TEXT,
        postal_code varchar(255),
        preferred_delivery_days varchar(255),
        preferred_delivery_time varchar(255),
        preferred_payment_method varchar(255),
        region varchar(255),
        registration_number varchar(255),
        special_conditions TEXT,
        special_handling_instructions TEXT,
        tax_id varchar(255),
        telecopie varchar(255),
        telephone varchar(255),
        updated_by varchar(255),
        vat_number varchar(255),
        primary key (id)
    )
2025-06-14 13:12:35 [main] DEBUG org.hibernate.SQL - 
    create table depots (
        capacity_cubic_meters float(53),
        is_active boolean,
        is_refrigerated boolean,
        security_level integer,
        created_at timestamp(6) with time zone not null,
        id bigint generated by default as identity,
        site_id bigint,
        updated_at timestamp(6) with time zone,
        access_restrictions varchar(255),
        depot_code varchar(255) not null unique,
        depot_type varchar(255) check (depot_type in ('MAIN_WAREHOUSE','DISTRIBUTION_CENTER','COLD_STORAGE','DRY_STORAGE','HAZARDOUS_MATERIALS','TEMPORARY_STORAGE','CROSS_DOCKING')),
        description varchar(255) not null,
        handling_equipment varchar(255),
        special_requirements TEXT,
        temperature_range varchar(255),
        primary key (id)
    )
2025-06-14 13:12:35 [main] DEBUG org.hibernate.SQL - 
    create table order_item_applied_promotions (
        order_item_id bigint not null,
        promotion_code varchar(255)
    )
2025-06-14 13:12:35 [main] DEBUG org.hibernate.SQL - 
    create table order_items (
        bulk_quantity_threshold integer,
        consumed_quantity integer not null,
        discount_amount numeric(38,2) not null,
        quantity integer not null,
        sku_points numeric(38,2),
        special_pricing boolean,
        tax_amount numeric(38,2) not null,
        total_price numeric(38,2) not null,
        unit_price numeric(38,2) not null,
        wholesale_price numeric(38,2),
        created_at timestamp(6) with time zone not null,
        id bigint generated by default as identity,
        order_id bigint not null,
        product_family_id bigint,
        product_id bigint not null,
        updated_at timestamp(6) with time zone,
        applied_promotion_code varchar(255),
        notes varchar(255),
        product_name varchar(255) not null,
        sku varchar(255),
        primary key (id)
    )
2025-06-14 13:12:35 [main] DEBUG org.hibernate.SQL - 
    create table orders (
        bulk_discount_percentage numeric(38,2),
        is_wholesale boolean not null,
        minimum_order_value numeric(38,2),
        shipping_cost numeric(38,2) not null,
        special_pricing_agreement boolean,
        subtotal numeric(38,2) not null,
        total numeric(38,2) not null,
        total_discount numeric(38,2) not null,
        total_tax numeric(38,2) not null,
        cancelled_at timestamp(6) with time zone,
        created_at timestamp(6) with time zone not null,
        customer_id bigint not null,
        delivered_at timestamp(6) with time zone,
        id bigint generated by default as identity,
        payment_due_date timestamp(6) with time zone,
        preferred_delivery_date timestamp(6) with time zone,
        refunded_at timestamp(6) with time zone,
        updated_at timestamp(6) with time zone,
        cancellation_reason varchar(255),
        contract_number varchar(255),
        created_by varchar(255),
        delivery_instructions varchar(255),
        internal_notes varchar(255),
        notes varchar(255),
        order_number varchar(255) not null unique,
        order_type varchar(255) not null check (order_type in ('B2B','B2C')),
        payment_method varchar(255) check (payment_method in ('CASH','CREDIT_CARD','DEBIT_CARD','MOBILE_PAYMENT','BANK_TRANSFER','CHECK','WIRE_TRANSFER','CREDIT_NOTE','LETTER_OF_CREDIT')),
        payment_notes varchar(255),
        payment_reference varchar(255),
        payment_status varchar(255) check (payment_status in ('PENDING','PARTIALLY_PAID','PAID','FAILED','REFUNDED','CANCELLED','ON_HOLD','IN_DISPUTE')),
        payment_terms varchar(255),
        po_number varchar(255),
        reference_number varchar(255),
        refund_reason varchar(255),
        shipping_address varchar(255),
        shipping_city varchar(255),
        shipping_country varchar(255),
        shipping_notes varchar(255),
        shipping_postal_code varchar(255),
        status varchar(255) not null check (status in ('DRAFT','PENDING','CONFIRMED','PREPARING','READY','DELIVERING','DELIVERED','CANCELLED','REFUNDED')),
        updated_by varchar(255),
        primary key (id)
    )
2025-06-14 13:12:35 [main] DEBUG org.hibernate.SQL - 
    create table product_categories (
        category_id bigint not null,
        product_id bigint not null
    )
2025-06-14 13:12:35 [main] DEBUG org.hibernate.SQL - 
    create table product_families (
        is_active boolean not null,
        created_at timestamp(6) with time zone not null,
        id bigint generated by default as identity,
        updated_at timestamp(6) with time zone,
        code varchar(255) not null unique,
        description varchar(255),
        name varchar(255) not null,
        primary key (id)
    )
2025-06-14 13:12:35 [main] DEBUG org.hibernate.SQL - 
    create table product_stocks (
        days_of_stock integer,
        expiry_date date,
        max_stock_level numeric(24,6),
        min_stock_level numeric(24,6),
        quantity numeric(24,6) not null,
        reorder_point numeric(24,6),
        reorder_quantity numeric(24,6),
        reserved_quantity numeric(24,6) not null,
        shelf_life_days integer,
        unit_cost numeric(24,6) not null,
        created_at timestamp(6) with time zone not null,
        depot_id bigint not null,
        id bigint generated by default as identity,
        last_purchase_date timestamp(6) with time zone,
        last_sale_date timestamp(6) with time zone,
        product_id bigint not null,
        updated_at timestamp(6) with time zone,
        storage_conditions varchar(100),
        notes varchar(500),
        quality_notes varchar(1000),
        batch_number varchar(255),
        depot_name varchar(255),
        location_code varchar(255),
        product_name varchar(255),
        quality_status varchar(255) not null check (quality_status in ('INSPECTED','INSPECTION_REQUIRED','QUARANTINED','DAMAGED','RECALLED')),
        primary key (id)
    )
2025-06-14 13:12:35 [main] DEBUG org.hibernate.SQL - 
    create table products (
        b2b_contract_discount_percentage numeric(5,2),
        b2b_contract_required boolean,
        b2b_credit_terms integer,
        b2b_custom_pricing_enabled boolean,
        b2b_delivery_lead_time integer,
        b2b_minimum_order_value numeric(19,2),
        b2b_volume_discount_enabled boolean,
        b2c_display_in_catalog boolean,
        b2c_featured boolean,
        b2c_loyalty_points_multiplier numeric(5,2),
        b2c_promo_price numeric(19,2),
        b2c_rating numeric(3,2),
        b2c_retail_price numeric(19,2),
        b2c_review_count integer,
        bulk_discount_percentage numeric(5,2),
        bulk_discount_threshold integer,
        bulk_package_size integer,
        deliverable boolean not null,
        inactive boolean not null,
        is_bulk_item boolean not null,
        is_perishable boolean not null,
        is_wholesale_only boolean not null,
        maximum_order_quantity integer,
        minimum_order_quantity integer,
        package_quantity integer,
        price_including_tax numeric(10,2) not null,
        promo_sku_points numeric(10,2) not null,
        requires_approval boolean not null,
        requires_cold_storage boolean not null,
        requires_contract boolean not null,
        sale_price numeric(10,2) not null,
        tax_rate numeric(5,2),
        unit_price numeric(38,2) not null,
        vendable boolean not null,
        visible boolean not null,
        weight numeric(10,3),
        wholesale_discount_percentage numeric(5,2),
        wholesale_minimum_quantity integer,
        wholesale_price numeric(10,2),
        wholesale_tier_1_price numeric(10,2),
        wholesale_tier_1_quantity integer,
        wholesale_tier_2_price numeric(10,2),
        wholesale_tier_2_quantity integer,
        wholesale_tier_3_price numeric(10,2),
        wholesale_tier_3_quantity integer,
        b2c_promo_end_date timestamp(6) with time zone,
        b2c_promo_start_date timestamp(6) with time zone,
        created_at timestamp(6) with time zone,
        id bigint generated by default as identity,
        updated_at timestamp(6) with time zone,
        weight_unit varchar(10),
        bulk_package_unit varchar(20),
        stock_tracking varchar(20) not null check (stock_tracking in ('Aucun','SERIALIZED','CMUP','FIFO','LIFO','PAR_LOT')),
        barcode varchar(36) unique,
        dimensions varchar(50),
        package_size varchar(50),
        sale_unit varchar(50),
        seasonality varchar(50),
        supplier_code varchar(50),
        target_market varchar(50),
        country_of_origin varchar(100),
        supplier_name varchar(100),
        certification varchar(200),
        photo varchar(500),
        title varchar(500) not null,
        availability_schedule jsonb,
        b2b_payment_methods varchar(255),
        custom_attributes jsonb,
        customer_segments varchar(255),
        description TEXT not null,
        family_code varchar(255),
        reference varchar(255) not null unique,
        sku varchar(255) not null unique,
        additional_photos TEXT[],
        primary key (id)
    )
2025-06-14 13:12:35 [main] DEBUG org.hibernate.SQL - 
    create table products_customer (
        coef numeric(12,2),
        is_active boolean,
        prix_ttc numeric(16,6) not null,
        prix_ven_nouv numeric(16,6),
        qte_mont integer,
        remise numeric(16,6),
        remise_nouv numeric(16,6),
        created_at timestamp(6) with time zone,
        id bigint generated by default as identity,
        reference_customer bigint not null,
        reference_product bigint not null,
        updated_at timestamp(6) with time zone,
        category varchar(50),
        primary key (id)
    )
2025-06-14 13:12:35 [main] DEBUG org.hibernate.SQL - 
    create table promotion_conditions (
        required_loyalty_level integer,
        customer_group_id bigint,
        id bigint generated by default as identity,
        rule_id bigint,
        attribute varchar(255) not null,
        condition_type varchar(255) not null check (condition_type in ('CART_SUBTOTAL','PRODUCT_IN_CART','CUSTOMER_IN_GROUP','TIME_OF_DAY','DAY_OF_WEEK','CUSTOMER_LOYALTY_LEVEL','PAYMENT_METHOD')),
        entity_id varchar(255),
        entity_type varchar(255),
        operator varchar(255) not null check (operator in ('EQUAL','NOT_EQUAL','GREATER_THAN','GREATER_THAN_OR_EQUAL','LESS_THAN','LESS_THAN_OR_EQUAL','CONTAINS','NOT_CONTAINS','IN','NOT_IN')),
        payment_method varchar(255),
        value varchar(255) not null,
        primary key (id)
    )
2025-06-14 13:12:35 [main] DEBUG org.hibernate.SQL - 
    create table promotion_customer_families (
        end_date timestamp(6) with time zone,
        id bigint generated by default as identity,
        promotion_id bigint,
        start_date timestamp(6) with time zone,
        customer_family_code varchar(255) not null,
        primary key (id)
    )
2025-06-14 13:12:35 [main] DEBUG org.hibernate.SQL - 
    create table promotion_customer_usage (
        usage_count integer,
        customer_id bigint not null,
        promotion_id bigint not null,
        primary key (customer_id, promotion_id)
    )
2025-06-14 13:12:35 [main] DEBUG org.hibernate.SQL - 
    create table promotion_dynamic_conditions (
        is_active boolean not null,
        threshold float(53),
        id bigint generated by default as identity,
        promotion_id bigint,
        condition_type varchar(255) not null,
        condition_value varchar(255) not null,
        description varchar(255),
        entity_id varchar(255),
        entity_type varchar(255),
        operator varchar(255) not null,
        primary key (id)
    )
2025-06-14 13:12:35 [main] DEBUG org.hibernate.SQL - 
    create table promotion_excluded_categories (
        category_id bigint,
        promotion_id bigint not null
    )
2025-06-14 13:12:35 [main] DEBUG org.hibernate.SQL - 
    create table promotion_excluded_products (
        product_id bigint,
        promotion_id bigint not null
    )
2025-06-14 13:12:35 [main] DEBUG org.hibernate.SQL - 
    create table promotion_lines (
        free_product_id bigint,
        id bigint generated by default as identity,
        paid_product_id bigint,
        promotion_id bigint,
        free_family_code varchar(255),
        paid_family_code varchar(255),
        primary key (id)
    )
2025-06-14 13:12:35 [main] DEBUG org.hibernate.SQL - 
    create table promotion_rules (
        repetition integer,
        id bigint generated by default as identity,
        promotion_id bigint,
        breakpoint_type varchar(255) not null check (breakpoint_type in ('AMOUNT','QUANTITY','SKU_POINTS')),
        calculation_method varchar(255) not null check (calculation_method in ('BRACKET','CUMULATIVE')),
        condition_logic varchar(255) not null check (condition_logic in ('ALL','ANY')),
        name varchar(255) not null,
        primary key (id)
    )
2025-06-14 13:12:35 [main] DEBUG org.hibernate.SQL - 
    create table promotion_tiers (
        minimum_threshold numeric(38,2) not null,
        id bigint generated by default as identity,
        reward_id bigint not null unique,
        rule_id bigint,
        primary key (id)
    )
2025-06-14 13:12:35 [main] DEBUG org.hibernate.SQL - 
    create table promotions (
        apply_first_matching_rule_only boolean,
        current_usage_count integer,
        index_discount integer,
        is_active boolean not null,
        is_exclusive boolean not null,
        max_usage_count integer,
        max_usage_per_customer integer,
        min_purchase_amount numeric(38,2),
        priority integer not null check (priority>=0),
        skip_to_sequence integer,
        end_date timestamp(6) with time zone not null,
        id bigint generated by default as identity,
        start_date timestamp(6) with time zone not null,
        combinability_group varchar(255),
        customer_group varchar(255),
        description varchar(255),
        name varchar(255) not null,
        promo_code varchar(255) not null unique,
        primary key (id)
    )
2025-06-14 13:12:35 [main] DEBUG org.hibernate.SQL - 
    create table rewards (
        value numeric(38,2) not null,
        id bigint generated by default as identity,
        target_entity_id bigint,
        reward_type varchar(255) not null check (reward_type in ('PERCENT_DISCOUNT_ON_ITEM','FIXED_DISCOUNT_ON_CART','FREE_PRODUCT')),
        target_entity_type varchar(255),
        primary key (id)
    )
2025-06-14 13:12:35 [main] DEBUG org.hibernate.SQL - 
    create table sites (
        capacity_sqm float(53),
        is_active boolean,
        created_at timestamp(6) with time zone not null,
        id bigint generated by default as identity,
        updated_at timestamp(6) with time zone,
        address_line1 varchar(255),
        city varchar(255),
        contact_email varchar(255),
        contact_phone varchar(255),
        country varchar(255),
        description varchar(255) not null,
        postal_code varchar(255),
        site_code varchar(255) not null unique,
        primary key (id)
    )
2025-06-14 13:12:35 [main] DEBUG org.hibernate.SQL - 
    alter table if exists categories 
       add constraint FKsaok720gsu4u2wrgbk10b5n8d 
       foreign key (parent_id) 
       references categories
2025-06-14 13:12:35 [main] DEBUG org.hibernate.SQL - 
    alter table if exists customer_group_members 
       add constraint FKetr33gy3yxphaasg8pnk8wyvs 
       foreign key (group_id) 
       references customer_groups
2025-06-14 13:12:35 [main] DEBUG org.hibernate.SQL - 
    alter table if exists customer_group_members 
       add constraint FKj7chtq65ntu6cwx5vtc3rngdp 
       foreign key (customer_id) 
       references customers
2025-06-14 13:12:35 [main] DEBUG org.hibernate.SQL - 
    alter table if exists customers 
       add constraint FKdig1h8xu5vcu0rfcihvbh46wq 
       foreign key (category_tarif_id) 
       references cat_tarif
2025-06-14 13:12:35 [main] DEBUG org.hibernate.SQL - 
    alter table if exists depots 
       add constraint FK5qq91mnq7j5lemrap49cshimd 
       foreign key (site_id) 
       references sites
2025-06-14 13:12:35 [main] DEBUG org.hibernate.SQL - 
    alter table if exists order_item_applied_promotions 
       add constraint FK82i7jogqbstxwl46g1rywbwsu 
       foreign key (order_item_id) 
       references order_items
2025-06-14 13:12:35 [main] DEBUG org.hibernate.SQL - 
    alter table if exists order_items 
       add constraint FKbioxgbv59vetrxe0ejfubep1w 
       foreign key (order_id) 
       references orders
2025-06-14 13:12:35 [main] DEBUG org.hibernate.SQL - 
    alter table if exists product_categories 
       add constraint FKd112rx0alycddsms029iifrih 
       foreign key (category_id) 
       references categories
2025-06-14 13:12:35 [main] DEBUG org.hibernate.SQL - 
    alter table if exists product_categories 
       add constraint FKlda9rad6s180ha3dl1ncsp8n7 
       foreign key (product_id) 
       references products
2025-06-14 13:12:35 [main] DEBUG org.hibernate.SQL - 
    alter table if exists product_stocks 
       add constraint FKmcawg70vkgr4vfrsphtcoc8up 
       foreign key (depot_id) 
       references depots
2025-06-14 13:12:35 [main] DEBUG org.hibernate.SQL - 
    alter table if exists products 
       add constraint FK53ooveoh14cvs7qns24gmlehh 
       foreign key (family_code) 
       references product_families (code)
2025-06-14 13:12:35 [main] DEBUG org.hibernate.SQL - 
    alter table if exists products_customer 
       add constraint FKnygquw0w0xvu9lfjpsbd6xmgv 
       foreign key (reference_customer) 
       references customers
2025-06-14 13:12:35 [main] DEBUG org.hibernate.SQL - 
    alter table if exists products_customer 
       add constraint FK4vdatfmkcw4aqwv41q569gq44 
       foreign key (reference_product) 
       references products
2025-06-14 13:12:35 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_conditions 
       add constraint FKjfph2mn5x5inav2a7wsxo2r2l 
       foreign key (rule_id) 
       references promotion_rules
2025-06-14 13:12:35 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_customer_families 
       add constraint FKjy33meus9wkfyyp29kyxhaw3i 
       foreign key (promotion_id) 
       references promotions
2025-06-14 13:12:35 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_customer_usage 
       add constraint FKtkdnuodmsbsskeejx4ksjgmsn 
       foreign key (promotion_id) 
       references promotions
2025-06-14 13:12:35 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_dynamic_conditions 
       add constraint FKd2huyfw319bhk0frhvdh0v0ot 
       foreign key (promotion_id) 
       references promotions
2025-06-14 13:12:35 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_excluded_categories 
       add constraint FKiamgbul5ugcmy9ewsemk31fng 
       foreign key (promotion_id) 
       references promotions
2025-06-14 13:12:35 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_excluded_products 
       add constraint FK1s1aelilqwce11lxgop8yhud0 
       foreign key (promotion_id) 
       references promotions
2025-06-14 13:12:35 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_lines 
       add constraint FKc6jg561k2bcyoja0im2kifdgb 
       foreign key (promotion_id) 
       references promotions
2025-06-14 13:12:35 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_rules 
       add constraint FK6xcgfd4fvmkpqdlnln3opdmpg 
       foreign key (promotion_id) 
       references promotions
2025-06-14 13:12:35 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_tiers 
       add constraint FK3iar32tvya9o51dqhtaf95ev6 
       foreign key (reward_id) 
       references rewards
2025-06-14 13:12:35 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_tiers 
       add constraint FKhw31w9eyoj371gg325124p1e9 
       foreign key (rule_id) 
       references promotion_rules
2025-06-14 13:12:35 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-06-14 13:12:35 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-06-14 13:12:37 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'productCustomerController' defined in file [/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/ma/foodplus/ordering/system/customer/controller/ProductCustomerController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'productCustomerServiceImpl' defined in file [/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/ma/foodplus/ordering/system/customer/service/impl/ProductCustomerServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 2: Error creating bean with name 'productCustomerValidationService' defined in file [/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/ma/foodplus/ordering/system/customer/service/ProductCustomerValidationService.class]: Unsatisfied dependency expressed through constructor parameter 1: Error creating bean with name 'productService' defined in file [/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/ma/foodplus/ordering/system/product/service/ProductService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'productRepository' defined in ma.foodplus.ordering.system.product.repository.ProductRepository defined in @EnableJpaRepositories declared on JpaConfig: Could not create query for public abstract java.util.List ma.foodplus.ordering.system.product.repository.ProductRepository.findByFamilyCode(java.lang.String); Reason: Failed to create query for method public abstract java.util.List ma.foodplus.ordering.system.product.repository.ProductRepository.findByFamilyCode(java.lang.String); No property 'familyCode' found for type 'Product'
2025-06-14 13:12:37 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-06-14 13:12:37 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-06-14 13:12:37 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-06-14 13:12:37 [main] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-06-14 13:12:37 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-06-14 13:12:37 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'productCustomerController' defined in file [/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/ma/foodplus/ordering/system/customer/controller/ProductCustomerController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'productCustomerServiceImpl' defined in file [/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/ma/foodplus/ordering/system/customer/service/impl/ProductCustomerServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 2: Error creating bean with name 'productCustomerValidationService' defined in file [/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/ma/foodplus/ordering/system/customer/service/ProductCustomerValidationService.class]: Unsatisfied dependency expressed through constructor parameter 1: Error creating bean with name 'productService' defined in file [/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/ma/foodplus/ordering/system/product/service/ProductService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'productRepository' defined in ma.foodplus.ordering.system.product.repository.ProductRepository defined in @EnableJpaRepositories declared on JpaConfig: Could not create query for public abstract java.util.List ma.foodplus.ordering.system.product.repository.ProductRepository.findByFamilyCode(java.lang.String); Reason: Failed to create query for method public abstract java.util.List ma.foodplus.ordering.system.product.repository.ProductRepository.findByFamilyCode(java.lang.String); No property 'familyCode' found for type 'Product'
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:804)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1395)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1232)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1222)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1188)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1123)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:987)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:753)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1362)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1351)
	at ma.foodplus.ordering.system.FoodPlusOrderingApplication.main(FoodPlusOrderingApplication.java:22)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'productCustomerServiceImpl' defined in file [/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/ma/foodplus/ordering/system/customer/service/impl/ProductCustomerServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 2: Error creating bean with name 'productCustomerValidationService' defined in file [/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/ma/foodplus/ordering/system/customer/service/ProductCustomerValidationService.class]: Unsatisfied dependency expressed through constructor parameter 1: Error creating bean with name 'productService' defined in file [/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/ma/foodplus/ordering/system/product/service/ProductService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'productRepository' defined in ma.foodplus.ordering.system.product.repository.ProductRepository defined in @EnableJpaRepositories declared on JpaConfig: Could not create query for public abstract java.util.List ma.foodplus.ordering.system.product.repository.ProductRepository.findByFamilyCode(java.lang.String); Reason: Failed to create query for method public abstract java.util.List ma.foodplus.ordering.system.product.repository.ProductRepository.findByFamilyCode(java.lang.String); No property 'familyCode' found for type 'Product'
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:804)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1395)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1232)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1740)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1628)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	... 21 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'productCustomerValidationService' defined in file [/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/ma/foodplus/ordering/system/customer/service/ProductCustomerValidationService.class]: Unsatisfied dependency expressed through constructor parameter 1: Error creating bean with name 'productService' defined in file [/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/ma/foodplus/ordering/system/product/service/ProductService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'productRepository' defined in ma.foodplus.ordering.system.product.repository.ProductRepository defined in @EnableJpaRepositories declared on JpaConfig: Could not create query for public abstract java.util.List ma.foodplus.ordering.system.product.repository.ProductRepository.findByFamilyCode(java.lang.String); Reason: Failed to create query for method public abstract java.util.List ma.foodplus.ordering.system.product.repository.ProductRepository.findByFamilyCode(java.lang.String); No property 'familyCode' found for type 'Product'
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:804)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1395)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1232)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1740)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1628)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	... 35 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'productService' defined in file [/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/ma/foodplus/ordering/system/product/service/ProductService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'productRepository' defined in ma.foodplus.ordering.system.product.repository.ProductRepository defined in @EnableJpaRepositories declared on JpaConfig: Could not create query for public abstract java.util.List ma.foodplus.ordering.system.product.repository.ProductRepository.findByFamilyCode(java.lang.String); Reason: Failed to create query for method public abstract java.util.List ma.foodplus.ordering.system.product.repository.ProductRepository.findByFamilyCode(java.lang.String); No property 'familyCode' found for type 'Product'
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:804)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1395)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1232)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1682)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1628)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	... 49 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'productRepository' defined in ma.foodplus.ordering.system.product.repository.ProductRepository defined in @EnableJpaRepositories declared on JpaConfig: Could not create query for public abstract java.util.List ma.foodplus.ordering.system.product.repository.ProductRepository.findByFamilyCode(java.lang.String); Reason: Failed to create query for method public abstract java.util.List ma.foodplus.ordering.system.product.repository.ProductRepository.findByFamilyCode(java.lang.String); No property 'familyCode' found for type 'Product'
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1826)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:607)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1682)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1628)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	... 62 common frames omitted
Caused by: org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract java.util.List ma.foodplus.ordering.system.product.repository.ProductRepository.findByFamilyCode(java.lang.String); Reason: Failed to create query for method public abstract java.util.List ma.foodplus.ordering.system.product.repository.ProductRepository.findByFamilyCode(java.lang.String); No property 'familyCode' found for type 'Product'
	at org.springframework.data.repository.query.QueryCreationException.create(QueryCreationException.java:101)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:120)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.mapMethodsToQuery(QueryExecutorMethodInterceptor.java:104)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lambda$new$0(QueryExecutorMethodInterceptor.java:92)
	at java.base/java.util.Optional.map(Optional.java:260)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.<init>(QueryExecutorMethodInterceptor.java:92)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:434)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$4(RepositoryFactoryBeanSupport.java:350)
	at org.springframework.data.util.Lazy.getNullable(Lazy.java:135)
	at org.springframework.data.util.Lazy.get(Lazy.java:113)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:356)
	at org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean.afterPropertiesSet(JpaRepositoryFactoryBean.java:132)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1873)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1822)
	... 72 common frames omitted
Caused by: java.lang.IllegalArgumentException: Failed to create query for method public abstract java.util.List ma.foodplus.ordering.system.product.repository.ProductRepository.findByFamilyCode(java.lang.String); No property 'familyCode' found for type 'Product'
	at org.springframework.data.jpa.repository.query.PartTreeJpaQuery.<init>(PartTreeJpaQuery.java:107)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:128)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateIfNotFoundQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:260)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$AbstractQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:99)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:116)
	... 84 common frames omitted
Caused by: org.springframework.data.mapping.PropertyReferenceException: No property 'familyCode' found for type 'Product'
	at org.springframework.data.mapping.PropertyPath.<init>(PropertyPath.java:94)
	at org.springframework.data.mapping.PropertyPath.create(PropertyPath.java:455)
	at org.springframework.data.mapping.PropertyPath.create(PropertyPath.java:431)
	at org.springframework.data.mapping.PropertyPath.lambda$from$0(PropertyPath.java:384)
	at java.base/java.util.concurrent.ConcurrentMap.computeIfAbsent(ConcurrentMap.java:330)
	at org.springframework.data.mapping.PropertyPath.from(PropertyPath.java:366)
	at org.springframework.data.mapping.PropertyPath.from(PropertyPath.java:344)
	at org.springframework.data.repository.query.parser.Part.<init>(Part.java:81)
	at org.springframework.data.repository.query.parser.PartTree$OrPart.lambda$new$0(PartTree.java:259)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:1024)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682)
	at org.springframework.data.repository.query.parser.PartTree$OrPart.<init>(PartTree.java:260)
	at org.springframework.data.repository.query.parser.PartTree$Predicate.lambda$new$0(PartTree.java:389)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:1024)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682)
	at org.springframework.data.repository.query.parser.PartTree$Predicate.<init>(PartTree.java:390)
	at org.springframework.data.repository.query.parser.PartTree.<init>(PartTree.java:103)
	at org.springframework.data.jpa.repository.query.PartTreeJpaQuery.<init>(PartTreeJpaQuery.java:101)
	... 88 common frames omitted
2025-06-14 13:13:25 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - Starting FoodPlusOrderingApplication using Java 21.0.7 with PID 261327 (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes started by louki in /home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system)
2025-06-14 13:13:25 [main] DEBUG m.f.o.s.FoodPlusOrderingApplication - Running with Spring Boot v3.5.0, Spring v6.2.7
2025-06-14 13:13:25 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - The following 1 profile is active: "dev"
2025-06-14 13:13:26 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-14 13:13:26 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-14 13:13:26 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 98 ms. Found 10 JPA repository interfaces.
2025-06-14 13:13:27 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-14 13:13:27 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-06-14 13:13:27 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.common.repository.CategoryTarifRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 13:13:27 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.CustomerGroupRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 13:13:27 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.CustomerRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 13:13:27 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.ProductCustomerRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 13:13:27 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.DepotRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 13:13:27 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.ProductStockRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 13:13:27 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.SiteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 13:13:27 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.order.repository.OrderRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 13:13:27 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.product.repository.ProductRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 13:13:27 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.promos.repository.PromotionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 13:13:27 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 39 ms. Found 0 Redis repository interfaces.
2025-06-14 13:13:28 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8087 (http)
2025-06-14 13:13:28 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-14 13:13:28 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.41]
2025-06-14 13:13:28 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-14 13:13:28 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2751 ms
2025-06-14 13:13:29 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-06-14 13:13:29 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.15.Final
2025-06-14 13:13:29 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-06-14 13:13:29 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-06-14 13:13:29 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@6694fb1b
2025-06-14 13:13:29 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-06-14 13:13:29 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-06-14 13:13:29 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 17.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-06-14 13:13:30 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-06-14 13:13:31 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-06-14 13:13:31 [main] DEBUG org.hibernate.SQL - 
    set client_min_messages = WARNING
2025-06-14 13:13:31 [main] DEBUG org.hibernate.SQL - 
    alter table if exists categories 
       drop constraint if exists FKsaok720gsu4u2wrgbk10b5n8d
2025-06-14 13:13:31 [main] DEBUG org.hibernate.SQL - 
    alter table if exists customer_group_members 
       drop constraint if exists FKetr33gy3yxphaasg8pnk8wyvs
2025-06-14 13:13:31 [main] DEBUG org.hibernate.SQL - 
    alter table if exists customer_group_members 
       drop constraint if exists FKj7chtq65ntu6cwx5vtc3rngdp
2025-06-14 13:13:31 [main] DEBUG org.hibernate.SQL - 
    alter table if exists customers 
       drop constraint if exists FKdig1h8xu5vcu0rfcihvbh46wq
2025-06-14 13:13:31 [main] DEBUG org.hibernate.SQL - 
    alter table if exists depots 
       drop constraint if exists FK5qq91mnq7j5lemrap49cshimd
2025-06-14 13:13:31 [main] DEBUG org.hibernate.SQL - 
    alter table if exists order_item_applied_promotions 
       drop constraint if exists FK82i7jogqbstxwl46g1rywbwsu
2025-06-14 13:13:31 [main] DEBUG org.hibernate.SQL - 
    alter table if exists order_items 
       drop constraint if exists FKbioxgbv59vetrxe0ejfubep1w
2025-06-14 13:13:31 [main] DEBUG org.hibernate.SQL - 
    alter table if exists product_categories 
       drop constraint if exists FKd112rx0alycddsms029iifrih
2025-06-14 13:13:31 [main] DEBUG org.hibernate.SQL - 
    alter table if exists product_categories 
       drop constraint if exists FKlda9rad6s180ha3dl1ncsp8n7
2025-06-14 13:13:31 [main] DEBUG org.hibernate.SQL - 
    alter table if exists product_stocks 
       drop constraint if exists FKmcawg70vkgr4vfrsphtcoc8up
2025-06-14 13:13:31 [main] DEBUG org.hibernate.SQL - 
    alter table if exists products 
       drop constraint if exists FK53ooveoh14cvs7qns24gmlehh
2025-06-14 13:13:31 [main] DEBUG org.hibernate.SQL - 
    alter table if exists products_customer 
       drop constraint if exists FKnygquw0w0xvu9lfjpsbd6xmgv
2025-06-14 13:13:31 [main] DEBUG org.hibernate.SQL - 
    alter table if exists products_customer 
       drop constraint if exists FK4vdatfmkcw4aqwv41q569gq44
2025-06-14 13:13:31 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_conditions 
       drop constraint if exists FKjfph2mn5x5inav2a7wsxo2r2l
2025-06-14 13:13:31 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_customer_families 
       drop constraint if exists FKjy33meus9wkfyyp29kyxhaw3i
2025-06-14 13:13:31 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_customer_usage 
       drop constraint if exists FKtkdnuodmsbsskeejx4ksjgmsn
2025-06-14 13:13:31 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_dynamic_conditions 
       drop constraint if exists FKd2huyfw319bhk0frhvdh0v0ot
2025-06-14 13:13:31 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_excluded_categories 
       drop constraint if exists FKiamgbul5ugcmy9ewsemk31fng
2025-06-14 13:13:31 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_excluded_products 
       drop constraint if exists FK1s1aelilqwce11lxgop8yhud0
2025-06-14 13:13:31 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_lines 
       drop constraint if exists FKc6jg561k2bcyoja0im2kifdgb
2025-06-14 13:13:31 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_rules 
       drop constraint if exists FK6xcgfd4fvmkpqdlnln3opdmpg
2025-06-14 13:13:31 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_tiers 
       drop constraint if exists FK3iar32tvya9o51dqhtaf95ev6
2025-06-14 13:13:31 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_tiers 
       drop constraint if exists FKhw31w9eyoj371gg325124p1e9
2025-06-14 13:13:31 [main] DEBUG org.hibernate.SQL - 
    drop table if exists cat_tarif cascade
2025-06-14 13:13:31 [main] DEBUG org.hibernate.SQL - 
    drop table if exists categories cascade
2025-06-14 13:13:31 [main] DEBUG org.hibernate.SQL - 
    drop table if exists customer_group_members cascade
2025-06-14 13:13:31 [main] DEBUG org.hibernate.SQL - 
    drop table if exists customer_groups cascade
2025-06-14 13:13:31 [main] DEBUG org.hibernate.SQL - 
    drop table if exists customers cascade
2025-06-14 13:13:31 [main] DEBUG org.hibernate.SQL - 
    drop table if exists depots cascade
2025-06-14 13:13:31 [main] DEBUG org.hibernate.SQL - 
    drop table if exists order_item_applied_promotions cascade
2025-06-14 13:13:31 [main] DEBUG org.hibernate.SQL - 
    drop table if exists order_items cascade
2025-06-14 13:13:31 [main] DEBUG org.hibernate.SQL - 
    drop table if exists orders cascade
2025-06-14 13:13:31 [main] DEBUG org.hibernate.SQL - 
    drop table if exists product_categories cascade
2025-06-14 13:13:31 [main] DEBUG org.hibernate.SQL - 
    drop table if exists product_families cascade
2025-06-14 13:13:31 [main] DEBUG org.hibernate.SQL - 
    drop table if exists product_stocks cascade
2025-06-14 13:13:32 [main] DEBUG org.hibernate.SQL - 
    drop table if exists products cascade
2025-06-14 13:13:32 [main] DEBUG org.hibernate.SQL - 
    drop table if exists products_customer cascade
2025-06-14 13:13:32 [main] DEBUG org.hibernate.SQL - 
    drop table if exists promotion_conditions cascade
2025-06-14 13:13:32 [main] DEBUG org.hibernate.SQL - 
    drop table if exists promotion_customer_families cascade
2025-06-14 13:13:32 [main] DEBUG org.hibernate.SQL - 
    drop table if exists promotion_customer_usage cascade
2025-06-14 13:13:32 [main] DEBUG org.hibernate.SQL - 
    drop table if exists promotion_dynamic_conditions cascade
2025-06-14 13:13:32 [main] DEBUG org.hibernate.SQL - 
    drop table if exists promotion_excluded_categories cascade
2025-06-14 13:13:32 [main] DEBUG org.hibernate.SQL - 
    drop table if exists promotion_excluded_products cascade
2025-06-14 13:13:32 [main] DEBUG org.hibernate.SQL - 
    drop table if exists promotion_lines cascade
2025-06-14 13:13:32 [main] DEBUG org.hibernate.SQL - 
    drop table if exists promotion_rules cascade
2025-06-14 13:13:32 [main] DEBUG org.hibernate.SQL - 
    drop table if exists promotion_tiers cascade
2025-06-14 13:13:32 [main] DEBUG org.hibernate.SQL - 
    drop table if exists promotions cascade
2025-06-14 13:13:32 [main] DEBUG org.hibernate.SQL - 
    drop table if exists rewards cascade
2025-06-14 13:13:32 [main] DEBUG org.hibernate.SQL - 
    drop table if exists sites cascade
2025-06-14 13:13:32 [main] DEBUG org.hibernate.SQL - 
    create table cat_tarif (
        price_ttc numeric(24,6) not null,
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        updated_at timestamp(6) not null,
        description varchar(255) not null,
        primary key (id)
    )
2025-06-14 13:13:32 [main] DEBUG org.hibernate.SQL - 
    create table categories (
        is_active boolean not null,
        level integer not null,
        created_at timestamp(6) with time zone not null,
        id bigint generated by default as identity,
        parent_id bigint,
        updated_at timestamp(6) with time zone,
        description varchar(500),
        code varchar(255) not null unique,
        name varchar(255) not null,
        primary key (id)
    )
2025-06-14 13:13:32 [main] DEBUG org.hibernate.SQL - 
    create table customer_group_members (
        customer_id bigint not null,
        group_id bigint not null,
        primary key (customer_id, group_id)
    )
2025-06-14 13:13:32 [main] DEBUG org.hibernate.SQL - 
    create table customer_groups (
        created_at timestamp(6) with time zone not null,
        id bigint generated by default as identity,
        updated_at timestamp(6) with time zone,
        description varchar(255),
        name varchar(255) not null unique,
        primary key (id)
    )
2025-06-14 13:13:32 [main] DEBUG org.hibernate.SQL - 
    create table customers (
        annual_turnover numeric(38,2),
        average_order_value numeric(24,6),
        credit_limit numeric(24,6),
        credit_score integer,
        is_active boolean not null,
        is_vip boolean,
        loyalty_points integer,
        number_of_employees integer,
        outstanding_balance numeric(24,6),
        payment_term_days integer,
        total_orders integer,
        total_spent numeric(24,6),
        category_tarif_id bigint,
        contract_end_date timestamp(6) with time zone,
        contract_start_date timestamp(6) with time zone,
        created_at timestamp(6) with time zone not null,
        customer_since timestamp(6) with time zone,
        id bigint generated by default as identity,
        last_activity_date timestamp(6) with time zone,
        last_order_date timestamp(6) with time zone,
        last_payment_date timestamp(6) with time zone,
        updated_at timestamp(6) with time zone,
        address varchar(255),
        bank_account_info TEXT,
        business_activity varchar(255),
        city varchar(255),
        company_name varchar(255),
        contract_number varchar(255),
        contract_terms TEXT,
        contract_type varchar(255),
        country varchar(255),
        created_by varchar(255),
        credit_rating varchar(255),
        ct_num varchar(255) not null unique,
        customer_type varchar(255) not null check (customer_type in ('B2B','B2C')),
        delivery_terms TEXT,
        description varchar(255) not null,
        email varchar(255),
        ice varchar(255) not null,
        legal_form varchar(255),
        notes TEXT,
        payment_history TEXT,
        payment_terms TEXT,
        postal_code varchar(255),
        preferred_delivery_days varchar(255),
        preferred_delivery_time varchar(255),
        preferred_payment_method varchar(255),
        region varchar(255),
        registration_number varchar(255),
        special_conditions TEXT,
        special_handling_instructions TEXT,
        tax_id varchar(255),
        telecopie varchar(255),
        telephone varchar(255),
        updated_by varchar(255),
        vat_number varchar(255),
        primary key (id)
    )
2025-06-14 13:13:32 [main] DEBUG org.hibernate.SQL - 
    create table depots (
        capacity_cubic_meters float(53),
        is_active boolean,
        is_refrigerated boolean,
        security_level integer,
        created_at timestamp(6) with time zone not null,
        id bigint generated by default as identity,
        site_id bigint,
        updated_at timestamp(6) with time zone,
        access_restrictions varchar(255),
        depot_code varchar(255) not null unique,
        depot_type varchar(255) check (depot_type in ('MAIN_WAREHOUSE','DISTRIBUTION_CENTER','COLD_STORAGE','DRY_STORAGE','HAZARDOUS_MATERIALS','TEMPORARY_STORAGE','CROSS_DOCKING')),
        description varchar(255) not null,
        handling_equipment varchar(255),
        special_requirements TEXT,
        temperature_range varchar(255),
        primary key (id)
    )
2025-06-14 13:13:32 [main] DEBUG org.hibernate.SQL - 
    create table order_item_applied_promotions (
        order_item_id bigint not null,
        promotion_code varchar(255)
    )
2025-06-14 13:13:32 [main] DEBUG org.hibernate.SQL - 
    create table order_items (
        bulk_quantity_threshold integer,
        consumed_quantity integer not null,
        discount_amount numeric(38,2) not null,
        quantity integer not null,
        sku_points numeric(38,2),
        special_pricing boolean,
        tax_amount numeric(38,2) not null,
        total_price numeric(38,2) not null,
        unit_price numeric(38,2) not null,
        wholesale_price numeric(38,2),
        created_at timestamp(6) with time zone not null,
        id bigint generated by default as identity,
        order_id bigint not null,
        product_family_id bigint,
        product_id bigint not null,
        updated_at timestamp(6) with time zone,
        applied_promotion_code varchar(255),
        notes varchar(255),
        product_name varchar(255) not null,
        sku varchar(255),
        primary key (id)
    )
2025-06-14 13:13:32 [main] DEBUG org.hibernate.SQL - 
    create table orders (
        bulk_discount_percentage numeric(38,2),
        is_wholesale boolean not null,
        minimum_order_value numeric(38,2),
        shipping_cost numeric(38,2) not null,
        special_pricing_agreement boolean,
        subtotal numeric(38,2) not null,
        total numeric(38,2) not null,
        total_discount numeric(38,2) not null,
        total_tax numeric(38,2) not null,
        cancelled_at timestamp(6) with time zone,
        created_at timestamp(6) with time zone not null,
        customer_id bigint not null,
        delivered_at timestamp(6) with time zone,
        id bigint generated by default as identity,
        payment_due_date timestamp(6) with time zone,
        preferred_delivery_date timestamp(6) with time zone,
        refunded_at timestamp(6) with time zone,
        updated_at timestamp(6) with time zone,
        cancellation_reason varchar(255),
        contract_number varchar(255),
        created_by varchar(255),
        delivery_instructions varchar(255),
        internal_notes varchar(255),
        notes varchar(255),
        order_number varchar(255) not null unique,
        order_type varchar(255) not null check (order_type in ('B2B','B2C')),
        payment_method varchar(255) check (payment_method in ('CASH','CREDIT_CARD','DEBIT_CARD','MOBILE_PAYMENT','BANK_TRANSFER','CHECK','WIRE_TRANSFER','CREDIT_NOTE','LETTER_OF_CREDIT')),
        payment_notes varchar(255),
        payment_reference varchar(255),
        payment_status varchar(255) check (payment_status in ('PENDING','PARTIALLY_PAID','PAID','FAILED','REFUNDED','CANCELLED','ON_HOLD','IN_DISPUTE')),
        payment_terms varchar(255),
        po_number varchar(255),
        reference_number varchar(255),
        refund_reason varchar(255),
        shipping_address varchar(255),
        shipping_city varchar(255),
        shipping_country varchar(255),
        shipping_notes varchar(255),
        shipping_postal_code varchar(255),
        status varchar(255) not null check (status in ('DRAFT','PENDING','CONFIRMED','PREPARING','READY','DELIVERING','DELIVERED','CANCELLED','REFUNDED')),
        updated_by varchar(255),
        primary key (id)
    )
2025-06-14 13:13:32 [main] DEBUG org.hibernate.SQL - 
    create table product_categories (
        category_id bigint not null,
        product_id bigint not null
    )
2025-06-14 13:13:32 [main] DEBUG org.hibernate.SQL - 
    create table product_families (
        is_active boolean not null,
        created_at timestamp(6) with time zone not null,
        id bigint generated by default as identity,
        updated_at timestamp(6) with time zone,
        code varchar(255) not null unique,
        description varchar(255),
        name varchar(255) not null,
        primary key (id)
    )
2025-06-14 13:13:32 [main] DEBUG org.hibernate.SQL - 
    create table product_stocks (
        days_of_stock integer,
        expiry_date date,
        max_stock_level numeric(24,6),
        min_stock_level numeric(24,6),
        quantity numeric(24,6) not null,
        reorder_point numeric(24,6),
        reorder_quantity numeric(24,6),
        reserved_quantity numeric(24,6) not null,
        shelf_life_days integer,
        unit_cost numeric(24,6) not null,
        created_at timestamp(6) with time zone not null,
        depot_id bigint not null,
        id bigint generated by default as identity,
        last_purchase_date timestamp(6) with time zone,
        last_sale_date timestamp(6) with time zone,
        product_id bigint not null,
        updated_at timestamp(6) with time zone,
        storage_conditions varchar(100),
        notes varchar(500),
        quality_notes varchar(1000),
        batch_number varchar(255),
        depot_name varchar(255),
        location_code varchar(255),
        product_name varchar(255),
        quality_status varchar(255) not null check (quality_status in ('INSPECTED','INSPECTION_REQUIRED','QUARANTINED','DAMAGED','RECALLED')),
        primary key (id)
    )
2025-06-14 13:13:32 [main] DEBUG org.hibernate.SQL - 
    create table products (
        b2b_contract_discount_percentage numeric(5,2),
        b2b_contract_required boolean,
        b2b_credit_terms integer,
        b2b_custom_pricing_enabled boolean,
        b2b_delivery_lead_time integer,
        b2b_minimum_order_value numeric(19,2),
        b2b_volume_discount_enabled boolean,
        b2c_display_in_catalog boolean,
        b2c_featured boolean,
        b2c_loyalty_points_multiplier numeric(5,2),
        b2c_promo_price numeric(19,2),
        b2c_rating numeric(3,2),
        b2c_retail_price numeric(19,2),
        b2c_review_count integer,
        bulk_discount_percentage numeric(5,2),
        bulk_discount_threshold integer,
        bulk_package_size integer,
        deliverable boolean not null,
        inactive boolean not null,
        is_bulk_item boolean not null,
        is_perishable boolean not null,
        is_wholesale_only boolean not null,
        maximum_order_quantity integer,
        minimum_order_quantity integer,
        package_quantity integer,
        price_including_tax numeric(10,2) not null,
        promo_sku_points numeric(10,2) not null,
        requires_approval boolean not null,
        requires_cold_storage boolean not null,
        requires_contract boolean not null,
        sale_price numeric(10,2) not null,
        tax_rate numeric(5,2),
        unit_price numeric(38,2) not null,
        vendable boolean not null,
        visible boolean not null,
        weight numeric(10,3),
        wholesale_discount_percentage numeric(5,2),
        wholesale_minimum_quantity integer,
        wholesale_price numeric(10,2),
        wholesale_tier_1_price numeric(10,2),
        wholesale_tier_1_quantity integer,
        wholesale_tier_2_price numeric(10,2),
        wholesale_tier_2_quantity integer,
        wholesale_tier_3_price numeric(10,2),
        wholesale_tier_3_quantity integer,
        b2c_promo_end_date timestamp(6) with time zone,
        b2c_promo_start_date timestamp(6) with time zone,
        created_at timestamp(6) with time zone,
        id bigint generated by default as identity,
        updated_at timestamp(6) with time zone,
        weight_unit varchar(10),
        bulk_package_unit varchar(20),
        stock_tracking varchar(20) not null check (stock_tracking in ('Aucun','SERIALIZED','CMUP','FIFO','LIFO','PAR_LOT')),
        barcode varchar(36) unique,
        dimensions varchar(50),
        package_size varchar(50),
        sale_unit varchar(50),
        seasonality varchar(50),
        supplier_code varchar(50),
        target_market varchar(50),
        country_of_origin varchar(100),
        supplier_name varchar(100),
        certification varchar(200),
        photo varchar(500),
        title varchar(500) not null,
        availability_schedule jsonb,
        b2b_payment_methods varchar(255),
        custom_attributes jsonb,
        customer_segments varchar(255),
        description TEXT not null,
        family_code varchar(255),
        reference varchar(255) not null unique,
        sku varchar(255) not null unique,
        additional_photos TEXT[],
        primary key (id)
    )
2025-06-14 13:13:32 [main] DEBUG org.hibernate.SQL - 
    create table products_customer (
        coef numeric(12,2),
        is_active boolean,
        prix_ttc numeric(16,6) not null,
        prix_ven_nouv numeric(16,6),
        qte_mont integer,
        remise numeric(16,6),
        remise_nouv numeric(16,6),
        created_at timestamp(6) with time zone,
        id bigint generated by default as identity,
        reference_customer bigint not null,
        reference_product bigint not null,
        updated_at timestamp(6) with time zone,
        category varchar(50),
        primary key (id)
    )
2025-06-14 13:13:32 [main] DEBUG org.hibernate.SQL - 
    create table promotion_conditions (
        required_loyalty_level integer,
        customer_group_id bigint,
        id bigint generated by default as identity,
        rule_id bigint,
        attribute varchar(255) not null,
        condition_type varchar(255) not null check (condition_type in ('CART_SUBTOTAL','PRODUCT_IN_CART','CUSTOMER_IN_GROUP','TIME_OF_DAY','DAY_OF_WEEK','CUSTOMER_LOYALTY_LEVEL','PAYMENT_METHOD')),
        entity_id varchar(255),
        entity_type varchar(255),
        operator varchar(255) not null check (operator in ('EQUAL','NOT_EQUAL','GREATER_THAN','GREATER_THAN_OR_EQUAL','LESS_THAN','LESS_THAN_OR_EQUAL','CONTAINS','NOT_CONTAINS','IN','NOT_IN')),
        payment_method varchar(255),
        value varchar(255) not null,
        primary key (id)
    )
2025-06-14 13:13:32 [main] DEBUG org.hibernate.SQL - 
    create table promotion_customer_families (
        end_date timestamp(6) with time zone,
        id bigint generated by default as identity,
        promotion_id bigint,
        start_date timestamp(6) with time zone,
        customer_family_code varchar(255) not null,
        primary key (id)
    )
2025-06-14 13:13:32 [main] DEBUG org.hibernate.SQL - 
    create table promotion_customer_usage (
        usage_count integer,
        customer_id bigint not null,
        promotion_id bigint not null,
        primary key (customer_id, promotion_id)
    )
2025-06-14 13:13:32 [main] DEBUG org.hibernate.SQL - 
    create table promotion_dynamic_conditions (
        is_active boolean not null,
        threshold float(53),
        id bigint generated by default as identity,
        promotion_id bigint,
        condition_type varchar(255) not null,
        condition_value varchar(255) not null,
        description varchar(255),
        entity_id varchar(255),
        entity_type varchar(255),
        operator varchar(255) not null,
        primary key (id)
    )
2025-06-14 13:13:32 [main] DEBUG org.hibernate.SQL - 
    create table promotion_excluded_categories (
        category_id bigint,
        promotion_id bigint not null
    )
2025-06-14 13:13:32 [main] DEBUG org.hibernate.SQL - 
    create table promotion_excluded_products (
        product_id bigint,
        promotion_id bigint not null
    )
2025-06-14 13:13:32 [main] DEBUG org.hibernate.SQL - 
    create table promotion_lines (
        free_product_id bigint,
        id bigint generated by default as identity,
        paid_product_id bigint,
        promotion_id bigint,
        free_family_code varchar(255),
        paid_family_code varchar(255),
        primary key (id)
    )
2025-06-14 13:13:32 [main] DEBUG org.hibernate.SQL - 
    create table promotion_rules (
        repetition integer,
        id bigint generated by default as identity,
        promotion_id bigint,
        breakpoint_type varchar(255) not null check (breakpoint_type in ('AMOUNT','QUANTITY','SKU_POINTS')),
        calculation_method varchar(255) not null check (calculation_method in ('BRACKET','CUMULATIVE')),
        condition_logic varchar(255) not null check (condition_logic in ('ALL','ANY')),
        name varchar(255) not null,
        primary key (id)
    )
2025-06-14 13:13:32 [main] DEBUG org.hibernate.SQL - 
    create table promotion_tiers (
        minimum_threshold numeric(38,2) not null,
        id bigint generated by default as identity,
        reward_id bigint not null unique,
        rule_id bigint,
        primary key (id)
    )
2025-06-14 13:13:32 [main] DEBUG org.hibernate.SQL - 
    create table promotions (
        apply_first_matching_rule_only boolean,
        current_usage_count integer,
        index_discount integer,
        is_active boolean not null,
        is_exclusive boolean not null,
        max_usage_count integer,
        max_usage_per_customer integer,
        min_purchase_amount numeric(38,2),
        priority integer not null check (priority>=0),
        skip_to_sequence integer,
        end_date timestamp(6) with time zone not null,
        id bigint generated by default as identity,
        start_date timestamp(6) with time zone not null,
        combinability_group varchar(255),
        customer_group varchar(255),
        description varchar(255),
        name varchar(255) not null,
        promo_code varchar(255) not null unique,
        primary key (id)
    )
2025-06-14 13:13:32 [main] DEBUG org.hibernate.SQL - 
    create table rewards (
        value numeric(38,2) not null,
        id bigint generated by default as identity,
        target_entity_id bigint,
        reward_type varchar(255) not null check (reward_type in ('PERCENT_DISCOUNT_ON_ITEM','FIXED_DISCOUNT_ON_CART','FREE_PRODUCT')),
        target_entity_type varchar(255),
        primary key (id)
    )
2025-06-14 13:13:32 [main] DEBUG org.hibernate.SQL - 
    create table sites (
        capacity_sqm float(53),
        is_active boolean,
        created_at timestamp(6) with time zone not null,
        id bigint generated by default as identity,
        updated_at timestamp(6) with time zone,
        address_line1 varchar(255),
        city varchar(255),
        contact_email varchar(255),
        contact_phone varchar(255),
        country varchar(255),
        description varchar(255) not null,
        postal_code varchar(255),
        site_code varchar(255) not null unique,
        primary key (id)
    )
2025-06-14 13:13:32 [main] DEBUG org.hibernate.SQL - 
    alter table if exists categories 
       add constraint FKsaok720gsu4u2wrgbk10b5n8d 
       foreign key (parent_id) 
       references categories
2025-06-14 13:13:32 [main] DEBUG org.hibernate.SQL - 
    alter table if exists customer_group_members 
       add constraint FKetr33gy3yxphaasg8pnk8wyvs 
       foreign key (group_id) 
       references customer_groups
2025-06-14 13:13:32 [main] DEBUG org.hibernate.SQL - 
    alter table if exists customer_group_members 
       add constraint FKj7chtq65ntu6cwx5vtc3rngdp 
       foreign key (customer_id) 
       references customers
2025-06-14 13:13:32 [main] DEBUG org.hibernate.SQL - 
    alter table if exists customers 
       add constraint FKdig1h8xu5vcu0rfcihvbh46wq 
       foreign key (category_tarif_id) 
       references cat_tarif
2025-06-14 13:13:32 [main] DEBUG org.hibernate.SQL - 
    alter table if exists depots 
       add constraint FK5qq91mnq7j5lemrap49cshimd 
       foreign key (site_id) 
       references sites
2025-06-14 13:13:32 [main] DEBUG org.hibernate.SQL - 
    alter table if exists order_item_applied_promotions 
       add constraint FK82i7jogqbstxwl46g1rywbwsu 
       foreign key (order_item_id) 
       references order_items
2025-06-14 13:13:32 [main] DEBUG org.hibernate.SQL - 
    alter table if exists order_items 
       add constraint FKbioxgbv59vetrxe0ejfubep1w 
       foreign key (order_id) 
       references orders
2025-06-14 13:13:32 [main] DEBUG org.hibernate.SQL - 
    alter table if exists product_categories 
       add constraint FKd112rx0alycddsms029iifrih 
       foreign key (category_id) 
       references categories
2025-06-14 13:13:32 [main] DEBUG org.hibernate.SQL - 
    alter table if exists product_categories 
       add constraint FKlda9rad6s180ha3dl1ncsp8n7 
       foreign key (product_id) 
       references products
2025-06-14 13:13:32 [main] DEBUG org.hibernate.SQL - 
    alter table if exists product_stocks 
       add constraint FKmcawg70vkgr4vfrsphtcoc8up 
       foreign key (depot_id) 
       references depots
2025-06-14 13:13:32 [main] DEBUG org.hibernate.SQL - 
    alter table if exists products 
       add constraint FK53ooveoh14cvs7qns24gmlehh 
       foreign key (family_code) 
       references product_families (code)
2025-06-14 13:13:32 [main] DEBUG org.hibernate.SQL - 
    alter table if exists products_customer 
       add constraint FKnygquw0w0xvu9lfjpsbd6xmgv 
       foreign key (reference_customer) 
       references customers
2025-06-14 13:13:32 [main] DEBUG org.hibernate.SQL - 
    alter table if exists products_customer 
       add constraint FK4vdatfmkcw4aqwv41q569gq44 
       foreign key (reference_product) 
       references products
2025-06-14 13:13:32 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_conditions 
       add constraint FKjfph2mn5x5inav2a7wsxo2r2l 
       foreign key (rule_id) 
       references promotion_rules
2025-06-14 13:13:32 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_customer_families 
       add constraint FKjy33meus9wkfyyp29kyxhaw3i 
       foreign key (promotion_id) 
       references promotions
2025-06-14 13:13:32 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_customer_usage 
       add constraint FKtkdnuodmsbsskeejx4ksjgmsn 
       foreign key (promotion_id) 
       references promotions
2025-06-14 13:13:32 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_dynamic_conditions 
       add constraint FKd2huyfw319bhk0frhvdh0v0ot 
       foreign key (promotion_id) 
       references promotions
2025-06-14 13:13:32 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_excluded_categories 
       add constraint FKiamgbul5ugcmy9ewsemk31fng 
       foreign key (promotion_id) 
       references promotions
2025-06-14 13:13:32 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_excluded_products 
       add constraint FK1s1aelilqwce11lxgop8yhud0 
       foreign key (promotion_id) 
       references promotions
2025-06-14 13:13:32 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_lines 
       add constraint FKc6jg561k2bcyoja0im2kifdgb 
       foreign key (promotion_id) 
       references promotions
2025-06-14 13:13:32 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_rules 
       add constraint FK6xcgfd4fvmkpqdlnln3opdmpg 
       foreign key (promotion_id) 
       references promotions
2025-06-14 13:13:32 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_tiers 
       add constraint FK3iar32tvya9o51dqhtaf95ev6 
       foreign key (reward_id) 
       references rewards
2025-06-14 13:13:32 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_tiers 
       add constraint FKhw31w9eyoj371gg325124p1e9 
       foreign key (rule_id) 
       references promotion_rules
2025-06-14 13:13:32 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-06-14 13:13:32 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-06-14 13:13:34 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'productStockController' defined in file [/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/ma/foodplus/ordering/system/inventory/controller/ProductStockController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'productStockServiceImpl' defined in file [/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/ma/foodplus/ordering/system/inventory/service/impl/ProductStockServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'productStockRepository' defined in ma.foodplus.ordering.system.inventory.repository.ProductStockRepository defined in @EnableJpaRepositories declared on JpaConfig: Could not create query for public abstract java.util.List ma.foodplus.ordering.system.inventory.repository.ProductStockRepository.findLowStockItems(); Reason: Validation failed for query for method public abstract java.util.List ma.foodplus.ordering.system.inventory.repository.ProductStockRepository.findLowStockItems()
2025-06-14 13:13:34 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-06-14 13:13:34 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-06-14 13:13:34 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-06-14 13:13:34 [main] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-06-14 13:13:34 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-06-14 13:13:34 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'productStockController' defined in file [/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/ma/foodplus/ordering/system/inventory/controller/ProductStockController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'productStockServiceImpl' defined in file [/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/ma/foodplus/ordering/system/inventory/service/impl/ProductStockServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'productStockRepository' defined in ma.foodplus.ordering.system.inventory.repository.ProductStockRepository defined in @EnableJpaRepositories declared on JpaConfig: Could not create query for public abstract java.util.List ma.foodplus.ordering.system.inventory.repository.ProductStockRepository.findLowStockItems(); Reason: Validation failed for query for method public abstract java.util.List ma.foodplus.ordering.system.inventory.repository.ProductStockRepository.findLowStockItems()
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:804)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1395)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1232)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1222)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1188)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1123)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:987)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:753)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1362)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1351)
	at ma.foodplus.ordering.system.FoodPlusOrderingApplication.main(FoodPlusOrderingApplication.java:22)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'productStockServiceImpl' defined in file [/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/ma/foodplus/ordering/system/inventory/service/impl/ProductStockServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'productStockRepository' defined in ma.foodplus.ordering.system.inventory.repository.ProductStockRepository defined in @EnableJpaRepositories declared on JpaConfig: Could not create query for public abstract java.util.List ma.foodplus.ordering.system.inventory.repository.ProductStockRepository.findLowStockItems(); Reason: Validation failed for query for method public abstract java.util.List ma.foodplus.ordering.system.inventory.repository.ProductStockRepository.findLowStockItems()
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:804)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1395)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1232)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1740)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1628)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	... 21 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'productStockRepository' defined in ma.foodplus.ordering.system.inventory.repository.ProductStockRepository defined in @EnableJpaRepositories declared on JpaConfig: Could not create query for public abstract java.util.List ma.foodplus.ordering.system.inventory.repository.ProductStockRepository.findLowStockItems(); Reason: Validation failed for query for method public abstract java.util.List ma.foodplus.ordering.system.inventory.repository.ProductStockRepository.findLowStockItems()
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1826)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:607)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1682)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1628)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	... 35 common frames omitted
Caused by: org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract java.util.List ma.foodplus.ordering.system.inventory.repository.ProductStockRepository.findLowStockItems(); Reason: Validation failed for query for method public abstract java.util.List ma.foodplus.ordering.system.inventory.repository.ProductStockRepository.findLowStockItems()
	at org.springframework.data.repository.query.QueryCreationException.create(QueryCreationException.java:101)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:120)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.mapMethodsToQuery(QueryExecutorMethodInterceptor.java:104)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lambda$new$0(QueryExecutorMethodInterceptor.java:92)
	at java.base/java.util.Optional.map(Optional.java:260)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.<init>(QueryExecutorMethodInterceptor.java:92)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:434)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$4(RepositoryFactoryBeanSupport.java:350)
	at org.springframework.data.util.Lazy.getNullable(Lazy.java:135)
	at org.springframework.data.util.Lazy.get(Lazy.java:113)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:356)
	at org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean.afterPropertiesSet(JpaRepositoryFactoryBean.java:132)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1873)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1822)
	... 45 common frames omitted
Caused by: java.lang.IllegalArgumentException: Validation failed for query for method public abstract java.util.List ma.foodplus.ordering.system.inventory.repository.ProductStockRepository.findLowStockItems()
	at org.springframework.data.jpa.repository.query.SimpleJpaQuery.validateQuery(SimpleJpaQuery.java:97)
	at org.springframework.data.jpa.repository.query.SimpleJpaQuery.<init>(SimpleJpaQuery.java:67)
	at org.springframework.data.jpa.repository.query.JpaQueryFactory.fromMethodWithQueryString(JpaQueryFactory.java:49)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$DeclaredQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:174)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateIfNotFoundQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:254)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$AbstractQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:99)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:116)
	... 57 common frames omitted
Caused by: java.lang.IllegalArgumentException: org.hibernate.query.sqm.UnknownPathException: Could not resolve attribute 'minimumQuantity' of 'ma.foodplus.ordering.system.inventory.model.ProductStock' [SELECT ps FROM ProductStock ps WHERE ps.quantity <= ps.minimumQuantity]
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:143)
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:167)
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:173)
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:886)
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:796)
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:143)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:364)
	at jdk.proxy2/jdk.proxy2.$Proxy191.createQuery(Unknown Source)
	at org.springframework.data.jpa.repository.query.SimpleJpaQuery.validateQuery(SimpleJpaQuery.java:91)
	... 63 common frames omitted
Caused by: org.hibernate.query.sqm.UnknownPathException: Could not resolve attribute 'minimumQuantity' of 'ma.foodplus.ordering.system.inventory.model.ProductStock' [SELECT ps FROM ProductStock ps WHERE ps.quantity <= ps.minimumQuantity]
	at org.hibernate.query.hql.internal.StandardHqlTranslator.translate(StandardHqlTranslator.java:88)
	at org.hibernate.query.internal.QueryInterpretationCacheStandardImpl.createHqlInterpretation(QueryInterpretationCacheStandardImpl.java:145)
	at org.hibernate.query.internal.QueryInterpretationCacheStandardImpl.resolveHqlInterpretation(QueryInterpretationCacheStandardImpl.java:132)
	at org.hibernate.query.spi.QueryEngine.interpretHql(QueryEngine.java:54)
	at org.hibernate.internal.AbstractSharedSessionContract.interpretHql(AbstractSharedSessionContract.java:832)
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:878)
	... 70 common frames omitted
Caused by: org.hibernate.query.sqm.PathElementException: Could not resolve attribute 'minimumQuantity' of 'ma.foodplus.ordering.system.inventory.model.ProductStock'
	at org.hibernate.query.sqm.SqmPathSource.getSubPathSource(SqmPathSource.java:95)
	at org.hibernate.query.sqm.tree.domain.AbstractSqmPath.get(AbstractSqmPath.java:198)
	at org.hibernate.query.sqm.tree.domain.AbstractSqmFrom.resolvePathPart(AbstractSqmFrom.java:198)
	at org.hibernate.query.hql.internal.DomainPathPart.resolvePathPart(DomainPathPart.java:42)
	at org.hibernate.query.hql.internal.BasicDotIdentifierConsumer.consumeIdentifier(BasicDotIdentifierConsumer.java:92)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitSimplePath(SemanticQueryBuilder.java:5465)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitGeneralPathFragment(SemanticQueryBuilder.java:5298)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitGeneralPathExpression(SemanticQueryBuilder.java:1891)
	at org.hibernate.grammars.hql.HqlParser$GeneralPathExpressionContext.accept(HqlParser.java:8268)
	at org.antlr.v4.runtime.tree.AbstractParseTreeVisitor.visitChildren(AbstractParseTreeVisitor.java:46)
	at org.hibernate.grammars.hql.HqlParserBaseVisitor.visitBarePrimaryExpression(HqlParserBaseVisitor.java:812)
	at org.hibernate.grammars.hql.HqlParser$BarePrimaryExpressionContext.accept(HqlParser.java:7726)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.createComparisonPredicate(SemanticQueryBuilder.java:2549)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitComparisonPredicate(SemanticQueryBuilder.java:2509)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitComparisonPredicate(SemanticQueryBuilder.java:277)
	at org.hibernate.grammars.hql.HqlParser$ComparisonPredicateContext.accept(HqlParser.java:6611)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitWhereClause(SemanticQueryBuilder.java:2361)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitWhereClause(SemanticQueryBuilder.java:277)
	at org.hibernate.grammars.hql.HqlParser$WhereClauseContext.accept(HqlParser.java:6302)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitQuery(SemanticQueryBuilder.java:1259)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitQuerySpecExpression(SemanticQueryBuilder.java:1040)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitQuerySpecExpression(SemanticQueryBuilder.java:277)
	at org.hibernate.grammars.hql.HqlParser$QuerySpecExpressionContext.accept(HqlParser.java:2134)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitSimpleQueryGroup(SemanticQueryBuilder.java:1025)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitSimpleQueryGroup(SemanticQueryBuilder.java:277)
	at org.hibernate.grammars.hql.HqlParser$SimpleQueryGroupContext.accept(HqlParser.java:2005)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitSelectStatement(SemanticQueryBuilder.java:492)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitStatement(SemanticQueryBuilder.java:451)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.buildSemanticModel(SemanticQueryBuilder.java:324)
	at org.hibernate.query.hql.internal.StandardHqlTranslator.translate(StandardHqlTranslator.java:71)
	... 75 common frames omitted
2025-06-14 13:15:37 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - Starting FoodPlusOrderingApplication using Java 21.0.7 with PID 263268 (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes started by louki in /home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system)
2025-06-14 13:15:37 [main] DEBUG m.f.o.s.FoodPlusOrderingApplication - Running with Spring Boot v3.5.0, Spring v6.2.7
2025-06-14 13:15:37 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - The following 1 profile is active: "dev"
2025-06-14 13:15:38 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-14 13:15:38 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-14 13:15:38 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 92 ms. Found 10 JPA repository interfaces.
2025-06-14 13:15:39 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-14 13:15:39 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-06-14 13:15:39 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.common.repository.CategoryTarifRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 13:15:39 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.CustomerGroupRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 13:15:39 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.CustomerRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 13:15:39 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.ProductCustomerRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 13:15:39 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.DepotRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 13:15:39 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.ProductStockRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 13:15:39 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.SiteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 13:15:39 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.order.repository.OrderRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 13:15:39 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.product.repository.ProductRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 13:15:39 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.promos.repository.PromotionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 13:15:39 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 20 ms. Found 0 Redis repository interfaces.
2025-06-14 13:15:39 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8087 (http)
2025-06-14 13:15:39 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-14 13:15:39 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.41]
2025-06-14 13:15:40 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-14 13:15:40 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2231 ms
2025-06-14 13:15:40 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-06-14 13:15:40 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.15.Final
2025-06-14 13:15:40 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-06-14 13:15:40 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-06-14 13:15:40 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@7c02b3cb
2025-06-14 13:15:40 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-06-14 13:15:40 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-06-14 13:15:40 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 17.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-06-14 13:15:40 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-06-14 13:15:42 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-06-14 13:15:42 [main] DEBUG org.hibernate.SQL - 
    set client_min_messages = WARNING
2025-06-14 13:15:42 [main] DEBUG org.hibernate.SQL - 
    alter table if exists categories 
       drop constraint if exists FKsaok720gsu4u2wrgbk10b5n8d
2025-06-14 13:15:42 [main] DEBUG org.hibernate.SQL - 
    alter table if exists customer_group_members 
       drop constraint if exists FKetr33gy3yxphaasg8pnk8wyvs
2025-06-14 13:15:42 [main] DEBUG org.hibernate.SQL - 
    alter table if exists customer_group_members 
       drop constraint if exists FKj7chtq65ntu6cwx5vtc3rngdp
2025-06-14 13:15:42 [main] DEBUG org.hibernate.SQL - 
    alter table if exists customers 
       drop constraint if exists FKdig1h8xu5vcu0rfcihvbh46wq
2025-06-14 13:15:42 [main] DEBUG org.hibernate.SQL - 
    alter table if exists depots 
       drop constraint if exists FK5qq91mnq7j5lemrap49cshimd
2025-06-14 13:15:42 [main] DEBUG org.hibernate.SQL - 
    alter table if exists order_item_applied_promotions 
       drop constraint if exists FK82i7jogqbstxwl46g1rywbwsu
2025-06-14 13:15:42 [main] DEBUG org.hibernate.SQL - 
    alter table if exists order_items 
       drop constraint if exists FKbioxgbv59vetrxe0ejfubep1w
2025-06-14 13:15:42 [main] DEBUG org.hibernate.SQL - 
    alter table if exists product_categories 
       drop constraint if exists FKd112rx0alycddsms029iifrih
2025-06-14 13:15:42 [main] DEBUG org.hibernate.SQL - 
    alter table if exists product_categories 
       drop constraint if exists FKlda9rad6s180ha3dl1ncsp8n7
2025-06-14 13:15:42 [main] DEBUG org.hibernate.SQL - 
    alter table if exists product_stocks 
       drop constraint if exists FKmcawg70vkgr4vfrsphtcoc8up
2025-06-14 13:15:42 [main] DEBUG org.hibernate.SQL - 
    alter table if exists products 
       drop constraint if exists FK53ooveoh14cvs7qns24gmlehh
2025-06-14 13:15:42 [main] DEBUG org.hibernate.SQL - 
    alter table if exists products_customer 
       drop constraint if exists FKnygquw0w0xvu9lfjpsbd6xmgv
2025-06-14 13:15:42 [main] DEBUG org.hibernate.SQL - 
    alter table if exists products_customer 
       drop constraint if exists FK4vdatfmkcw4aqwv41q569gq44
2025-06-14 13:15:42 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_conditions 
       drop constraint if exists FKjfph2mn5x5inav2a7wsxo2r2l
2025-06-14 13:15:42 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_customer_families 
       drop constraint if exists FKjy33meus9wkfyyp29kyxhaw3i
2025-06-14 13:15:42 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_customer_usage 
       drop constraint if exists FKtkdnuodmsbsskeejx4ksjgmsn
2025-06-14 13:15:42 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_dynamic_conditions 
       drop constraint if exists FKd2huyfw319bhk0frhvdh0v0ot
2025-06-14 13:15:42 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_excluded_categories 
       drop constraint if exists FKiamgbul5ugcmy9ewsemk31fng
2025-06-14 13:15:42 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_excluded_products 
       drop constraint if exists FK1s1aelilqwce11lxgop8yhud0
2025-06-14 13:15:42 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_lines 
       drop constraint if exists FKc6jg561k2bcyoja0im2kifdgb
2025-06-14 13:15:42 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_rules 
       drop constraint if exists FK6xcgfd4fvmkpqdlnln3opdmpg
2025-06-14 13:15:42 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_tiers 
       drop constraint if exists FK3iar32tvya9o51dqhtaf95ev6
2025-06-14 13:15:42 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_tiers 
       drop constraint if exists FKhw31w9eyoj371gg325124p1e9
2025-06-14 13:15:42 [main] DEBUG org.hibernate.SQL - 
    drop table if exists cat_tarif cascade
2025-06-14 13:15:42 [main] DEBUG org.hibernate.SQL - 
    drop table if exists categories cascade
2025-06-14 13:15:42 [main] DEBUG org.hibernate.SQL - 
    drop table if exists customer_group_members cascade
2025-06-14 13:15:42 [main] DEBUG org.hibernate.SQL - 
    drop table if exists customer_groups cascade
2025-06-14 13:15:42 [main] DEBUG org.hibernate.SQL - 
    drop table if exists customers cascade
2025-06-14 13:15:42 [main] DEBUG org.hibernate.SQL - 
    drop table if exists depots cascade
2025-06-14 13:15:42 [main] DEBUG org.hibernate.SQL - 
    drop table if exists order_item_applied_promotions cascade
2025-06-14 13:15:42 [main] DEBUG org.hibernate.SQL - 
    drop table if exists order_items cascade
2025-06-14 13:15:42 [main] DEBUG org.hibernate.SQL - 
    drop table if exists orders cascade
2025-06-14 13:15:42 [main] DEBUG org.hibernate.SQL - 
    drop table if exists product_categories cascade
2025-06-14 13:15:42 [main] DEBUG org.hibernate.SQL - 
    drop table if exists product_families cascade
2025-06-14 13:15:42 [main] DEBUG org.hibernate.SQL - 
    drop table if exists product_stocks cascade
2025-06-14 13:15:42 [main] DEBUG org.hibernate.SQL - 
    drop table if exists products cascade
2025-06-14 13:15:42 [main] DEBUG org.hibernate.SQL - 
    drop table if exists products_customer cascade
2025-06-14 13:15:42 [main] DEBUG org.hibernate.SQL - 
    drop table if exists promotion_conditions cascade
2025-06-14 13:15:42 [main] DEBUG org.hibernate.SQL - 
    drop table if exists promotion_customer_families cascade
2025-06-14 13:15:42 [main] DEBUG org.hibernate.SQL - 
    drop table if exists promotion_customer_usage cascade
2025-06-14 13:15:42 [main] DEBUG org.hibernate.SQL - 
    drop table if exists promotion_dynamic_conditions cascade
2025-06-14 13:15:42 [main] DEBUG org.hibernate.SQL - 
    drop table if exists promotion_excluded_categories cascade
2025-06-14 13:15:42 [main] DEBUG org.hibernate.SQL - 
    drop table if exists promotion_excluded_products cascade
2025-06-14 13:15:42 [main] DEBUG org.hibernate.SQL - 
    drop table if exists promotion_lines cascade
2025-06-14 13:15:42 [main] DEBUG org.hibernate.SQL - 
    drop table if exists promotion_rules cascade
2025-06-14 13:15:42 [main] DEBUG org.hibernate.SQL - 
    drop table if exists promotion_tiers cascade
2025-06-14 13:15:42 [main] DEBUG org.hibernate.SQL - 
    drop table if exists promotions cascade
2025-06-14 13:15:42 [main] DEBUG org.hibernate.SQL - 
    drop table if exists rewards cascade
2025-06-14 13:15:42 [main] DEBUG org.hibernate.SQL - 
    drop table if exists sites cascade
2025-06-14 13:15:42 [main] DEBUG org.hibernate.SQL - 
    create table cat_tarif (
        price_ttc numeric(24,6) not null,
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        updated_at timestamp(6) not null,
        description varchar(255) not null,
        primary key (id)
    )
2025-06-14 13:15:42 [main] DEBUG org.hibernate.SQL - 
    create table categories (
        is_active boolean not null,
        level integer not null,
        created_at timestamp(6) with time zone not null,
        id bigint generated by default as identity,
        parent_id bigint,
        updated_at timestamp(6) with time zone,
        description varchar(500),
        code varchar(255) not null unique,
        name varchar(255) not null,
        primary key (id)
    )
2025-06-14 13:15:42 [main] DEBUG org.hibernate.SQL - 
    create table customer_group_members (
        customer_id bigint not null,
        group_id bigint not null,
        primary key (customer_id, group_id)
    )
2025-06-14 13:15:42 [main] DEBUG org.hibernate.SQL - 
    create table customer_groups (
        created_at timestamp(6) with time zone not null,
        id bigint generated by default as identity,
        updated_at timestamp(6) with time zone,
        description varchar(255),
        name varchar(255) not null unique,
        primary key (id)
    )
2025-06-14 13:15:42 [main] DEBUG org.hibernate.SQL - 
    create table customers (
        annual_turnover numeric(38,2),
        average_order_value numeric(24,6),
        credit_limit numeric(24,6),
        credit_score integer,
        is_active boolean not null,
        is_vip boolean,
        loyalty_points integer,
        number_of_employees integer,
        outstanding_balance numeric(24,6),
        payment_term_days integer,
        total_orders integer,
        total_spent numeric(24,6),
        category_tarif_id bigint,
        contract_end_date timestamp(6) with time zone,
        contract_start_date timestamp(6) with time zone,
        created_at timestamp(6) with time zone not null,
        customer_since timestamp(6) with time zone,
        id bigint generated by default as identity,
        last_activity_date timestamp(6) with time zone,
        last_order_date timestamp(6) with time zone,
        last_payment_date timestamp(6) with time zone,
        updated_at timestamp(6) with time zone,
        address varchar(255),
        bank_account_info TEXT,
        business_activity varchar(255),
        city varchar(255),
        company_name varchar(255),
        contract_number varchar(255),
        contract_terms TEXT,
        contract_type varchar(255),
        country varchar(255),
        created_by varchar(255),
        credit_rating varchar(255),
        ct_num varchar(255) not null unique,
        customer_type varchar(255) not null check (customer_type in ('B2B','B2C')),
        delivery_terms TEXT,
        description varchar(255) not null,
        email varchar(255),
        ice varchar(255) not null,
        legal_form varchar(255),
        notes TEXT,
        payment_history TEXT,
        payment_terms TEXT,
        postal_code varchar(255),
        preferred_delivery_days varchar(255),
        preferred_delivery_time varchar(255),
        preferred_payment_method varchar(255),
        region varchar(255),
        registration_number varchar(255),
        special_conditions TEXT,
        special_handling_instructions TEXT,
        tax_id varchar(255),
        telecopie varchar(255),
        telephone varchar(255),
        updated_by varchar(255),
        vat_number varchar(255),
        primary key (id)
    )
2025-06-14 13:15:42 [main] DEBUG org.hibernate.SQL - 
    create table depots (
        capacity_cubic_meters float(53),
        is_active boolean,
        is_refrigerated boolean,
        security_level integer,
        created_at timestamp(6) with time zone not null,
        id bigint generated by default as identity,
        site_id bigint,
        updated_at timestamp(6) with time zone,
        access_restrictions varchar(255),
        depot_code varchar(255) not null unique,
        depot_type varchar(255) check (depot_type in ('MAIN_WAREHOUSE','DISTRIBUTION_CENTER','COLD_STORAGE','DRY_STORAGE','HAZARDOUS_MATERIALS','TEMPORARY_STORAGE','CROSS_DOCKING')),
        description varchar(255) not null,
        handling_equipment varchar(255),
        special_requirements TEXT,
        temperature_range varchar(255),
        primary key (id)
    )
2025-06-14 13:15:42 [main] DEBUG org.hibernate.SQL - 
    create table order_item_applied_promotions (
        order_item_id bigint not null,
        promotion_code varchar(255)
    )
2025-06-14 13:15:42 [main] DEBUG org.hibernate.SQL - 
    create table order_items (
        bulk_quantity_threshold integer,
        consumed_quantity integer not null,
        discount_amount numeric(38,2) not null,
        quantity integer not null,
        sku_points numeric(38,2),
        special_pricing boolean,
        tax_amount numeric(38,2) not null,
        total_price numeric(38,2) not null,
        unit_price numeric(38,2) not null,
        wholesale_price numeric(38,2),
        created_at timestamp(6) with time zone not null,
        id bigint generated by default as identity,
        order_id bigint not null,
        product_family_id bigint,
        product_id bigint not null,
        updated_at timestamp(6) with time zone,
        applied_promotion_code varchar(255),
        notes varchar(255),
        product_name varchar(255) not null,
        sku varchar(255),
        primary key (id)
    )
2025-06-14 13:15:42 [main] DEBUG org.hibernate.SQL - 
    create table orders (
        bulk_discount_percentage numeric(38,2),
        is_wholesale boolean not null,
        minimum_order_value numeric(38,2),
        shipping_cost numeric(38,2) not null,
        special_pricing_agreement boolean,
        subtotal numeric(38,2) not null,
        total numeric(38,2) not null,
        total_discount numeric(38,2) not null,
        total_tax numeric(38,2) not null,
        cancelled_at timestamp(6) with time zone,
        created_at timestamp(6) with time zone not null,
        customer_id bigint not null,
        delivered_at timestamp(6) with time zone,
        id bigint generated by default as identity,
        payment_due_date timestamp(6) with time zone,
        preferred_delivery_date timestamp(6) with time zone,
        refunded_at timestamp(6) with time zone,
        updated_at timestamp(6) with time zone,
        cancellation_reason varchar(255),
        contract_number varchar(255),
        created_by varchar(255),
        delivery_instructions varchar(255),
        internal_notes varchar(255),
        notes varchar(255),
        order_number varchar(255) not null unique,
        order_type varchar(255) not null check (order_type in ('B2B','B2C')),
        payment_method varchar(255) check (payment_method in ('CASH','CREDIT_CARD','DEBIT_CARD','MOBILE_PAYMENT','BANK_TRANSFER','CHECK','WIRE_TRANSFER','CREDIT_NOTE','LETTER_OF_CREDIT')),
        payment_notes varchar(255),
        payment_reference varchar(255),
        payment_status varchar(255) check (payment_status in ('PENDING','PARTIALLY_PAID','PAID','FAILED','REFUNDED','CANCELLED','ON_HOLD','IN_DISPUTE')),
        payment_terms varchar(255),
        po_number varchar(255),
        reference_number varchar(255),
        refund_reason varchar(255),
        shipping_address varchar(255),
        shipping_city varchar(255),
        shipping_country varchar(255),
        shipping_notes varchar(255),
        shipping_postal_code varchar(255),
        status varchar(255) not null check (status in ('DRAFT','PENDING','CONFIRMED','PREPARING','READY','DELIVERING','DELIVERED','CANCELLED','REFUNDED')),
        updated_by varchar(255),
        primary key (id)
    )
2025-06-14 13:15:42 [main] DEBUG org.hibernate.SQL - 
    create table product_categories (
        category_id bigint not null,
        product_id bigint not null
    )
2025-06-14 13:15:42 [main] DEBUG org.hibernate.SQL - 
    create table product_families (
        is_active boolean not null,
        created_at timestamp(6) with time zone not null,
        id bigint generated by default as identity,
        updated_at timestamp(6) with time zone,
        code varchar(255) not null unique,
        description varchar(255),
        name varchar(255) not null,
        primary key (id)
    )
2025-06-14 13:15:42 [main] DEBUG org.hibernate.SQL - 
    create table product_stocks (
        days_of_stock integer,
        expiry_date date,
        max_stock_level numeric(24,6),
        min_stock_level numeric(24,6),
        quantity numeric(24,6) not null,
        reorder_point numeric(24,6),
        reorder_quantity numeric(24,6),
        reserved_quantity numeric(24,6) not null,
        shelf_life_days integer,
        unit_cost numeric(24,6) not null,
        created_at timestamp(6) with time zone not null,
        depot_id bigint not null,
        id bigint generated by default as identity,
        last_purchase_date timestamp(6) with time zone,
        last_sale_date timestamp(6) with time zone,
        product_id bigint not null,
        updated_at timestamp(6) with time zone,
        storage_conditions varchar(100),
        notes varchar(500),
        quality_notes varchar(1000),
        batch_number varchar(255),
        depot_name varchar(255),
        location_code varchar(255),
        product_name varchar(255),
        quality_status varchar(255) not null check (quality_status in ('INSPECTED','INSPECTION_REQUIRED','QUARANTINED','DAMAGED','RECALLED')),
        primary key (id)
    )
2025-06-14 13:15:42 [main] DEBUG org.hibernate.SQL - 
    create table products (
        b2b_contract_discount_percentage numeric(5,2),
        b2b_contract_required boolean,
        b2b_credit_terms integer,
        b2b_custom_pricing_enabled boolean,
        b2b_delivery_lead_time integer,
        b2b_minimum_order_value numeric(19,2),
        b2b_volume_discount_enabled boolean,
        b2c_display_in_catalog boolean,
        b2c_featured boolean,
        b2c_loyalty_points_multiplier numeric(5,2),
        b2c_promo_price numeric(19,2),
        b2c_rating numeric(3,2),
        b2c_retail_price numeric(19,2),
        b2c_review_count integer,
        bulk_discount_percentage numeric(5,2),
        bulk_discount_threshold integer,
        bulk_package_size integer,
        deliverable boolean not null,
        inactive boolean not null,
        is_bulk_item boolean not null,
        is_perishable boolean not null,
        is_wholesale_only boolean not null,
        maximum_order_quantity integer,
        minimum_order_quantity integer,
        package_quantity integer,
        price_including_tax numeric(10,2) not null,
        promo_sku_points numeric(10,2) not null,
        requires_approval boolean not null,
        requires_cold_storage boolean not null,
        requires_contract boolean not null,
        sale_price numeric(10,2) not null,
        tax_rate numeric(5,2),
        unit_price numeric(38,2) not null,
        vendable boolean not null,
        visible boolean not null,
        weight numeric(10,3),
        wholesale_discount_percentage numeric(5,2),
        wholesale_minimum_quantity integer,
        wholesale_price numeric(10,2),
        wholesale_tier_1_price numeric(10,2),
        wholesale_tier_1_quantity integer,
        wholesale_tier_2_price numeric(10,2),
        wholesale_tier_2_quantity integer,
        wholesale_tier_3_price numeric(10,2),
        wholesale_tier_3_quantity integer,
        b2c_promo_end_date timestamp(6) with time zone,
        b2c_promo_start_date timestamp(6) with time zone,
        created_at timestamp(6) with time zone,
        id bigint generated by default as identity,
        updated_at timestamp(6) with time zone,
        weight_unit varchar(10),
        bulk_package_unit varchar(20),
        stock_tracking varchar(20) not null check (stock_tracking in ('Aucun','SERIALIZED','CMUP','FIFO','LIFO','PAR_LOT')),
        barcode varchar(36) unique,
        dimensions varchar(50),
        package_size varchar(50),
        sale_unit varchar(50),
        seasonality varchar(50),
        supplier_code varchar(50),
        target_market varchar(50),
        country_of_origin varchar(100),
        supplier_name varchar(100),
        certification varchar(200),
        photo varchar(500),
        title varchar(500) not null,
        availability_schedule jsonb,
        b2b_payment_methods varchar(255),
        custom_attributes jsonb,
        customer_segments varchar(255),
        description TEXT not null,
        family_code varchar(255),
        reference varchar(255) not null unique,
        sku varchar(255) not null unique,
        additional_photos TEXT[],
        primary key (id)
    )
2025-06-14 13:15:42 [main] DEBUG org.hibernate.SQL - 
    create table products_customer (
        coef numeric(12,2),
        is_active boolean,
        prix_ttc numeric(16,6) not null,
        prix_ven_nouv numeric(16,6),
        qte_mont integer,
        remise numeric(16,6),
        remise_nouv numeric(16,6),
        created_at timestamp(6) with time zone,
        id bigint generated by default as identity,
        reference_customer bigint not null,
        reference_product bigint not null,
        updated_at timestamp(6) with time zone,
        category varchar(50),
        primary key (id)
    )
2025-06-14 13:15:42 [main] DEBUG org.hibernate.SQL - 
    create table promotion_conditions (
        required_loyalty_level integer,
        customer_group_id bigint,
        id bigint generated by default as identity,
        rule_id bigint,
        attribute varchar(255) not null,
        condition_type varchar(255) not null check (condition_type in ('CART_SUBTOTAL','PRODUCT_IN_CART','CUSTOMER_IN_GROUP','TIME_OF_DAY','DAY_OF_WEEK','CUSTOMER_LOYALTY_LEVEL','PAYMENT_METHOD')),
        entity_id varchar(255),
        entity_type varchar(255),
        operator varchar(255) not null check (operator in ('EQUAL','NOT_EQUAL','GREATER_THAN','GREATER_THAN_OR_EQUAL','LESS_THAN','LESS_THAN_OR_EQUAL','CONTAINS','NOT_CONTAINS','IN','NOT_IN')),
        payment_method varchar(255),
        value varchar(255) not null,
        primary key (id)
    )
2025-06-14 13:15:42 [main] DEBUG org.hibernate.SQL - 
    create table promotion_customer_families (
        end_date timestamp(6) with time zone,
        id bigint generated by default as identity,
        promotion_id bigint,
        start_date timestamp(6) with time zone,
        customer_family_code varchar(255) not null,
        primary key (id)
    )
2025-06-14 13:15:42 [main] DEBUG org.hibernate.SQL - 
    create table promotion_customer_usage (
        usage_count integer,
        customer_id bigint not null,
        promotion_id bigint not null,
        primary key (customer_id, promotion_id)
    )
2025-06-14 13:15:42 [main] DEBUG org.hibernate.SQL - 
    create table promotion_dynamic_conditions (
        is_active boolean not null,
        threshold float(53),
        id bigint generated by default as identity,
        promotion_id bigint,
        condition_type varchar(255) not null,
        condition_value varchar(255) not null,
        description varchar(255),
        entity_id varchar(255),
        entity_type varchar(255),
        operator varchar(255) not null,
        primary key (id)
    )
2025-06-14 13:15:42 [main] DEBUG org.hibernate.SQL - 
    create table promotion_excluded_categories (
        category_id bigint,
        promotion_id bigint not null
    )
2025-06-14 13:15:42 [main] DEBUG org.hibernate.SQL - 
    create table promotion_excluded_products (
        product_id bigint,
        promotion_id bigint not null
    )
2025-06-14 13:15:42 [main] DEBUG org.hibernate.SQL - 
    create table promotion_lines (
        free_product_id bigint,
        id bigint generated by default as identity,
        paid_product_id bigint,
        promotion_id bigint,
        free_family_code varchar(255),
        paid_family_code varchar(255),
        primary key (id)
    )
2025-06-14 13:15:42 [main] DEBUG org.hibernate.SQL - 
    create table promotion_rules (
        repetition integer,
        id bigint generated by default as identity,
        promotion_id bigint,
        breakpoint_type varchar(255) not null check (breakpoint_type in ('AMOUNT','QUANTITY','SKU_POINTS')),
        calculation_method varchar(255) not null check (calculation_method in ('BRACKET','CUMULATIVE')),
        condition_logic varchar(255) not null check (condition_logic in ('ALL','ANY')),
        name varchar(255) not null,
        primary key (id)
    )
2025-06-14 13:15:42 [main] DEBUG org.hibernate.SQL - 
    create table promotion_tiers (
        minimum_threshold numeric(38,2) not null,
        id bigint generated by default as identity,
        reward_id bigint not null unique,
        rule_id bigint,
        primary key (id)
    )
2025-06-14 13:15:42 [main] DEBUG org.hibernate.SQL - 
    create table promotions (
        apply_first_matching_rule_only boolean,
        current_usage_count integer,
        index_discount integer,
        is_active boolean not null,
        is_exclusive boolean not null,
        max_usage_count integer,
        max_usage_per_customer integer,
        min_purchase_amount numeric(38,2),
        priority integer not null check (priority>=0),
        skip_to_sequence integer,
        end_date timestamp(6) with time zone not null,
        id bigint generated by default as identity,
        start_date timestamp(6) with time zone not null,
        combinability_group varchar(255),
        customer_group varchar(255),
        description varchar(255),
        name varchar(255) not null,
        promo_code varchar(255) not null unique,
        primary key (id)
    )
2025-06-14 13:15:42 [main] DEBUG org.hibernate.SQL - 
    create table rewards (
        value numeric(38,2) not null,
        id bigint generated by default as identity,
        target_entity_id bigint,
        reward_type varchar(255) not null check (reward_type in ('PERCENT_DISCOUNT_ON_ITEM','FIXED_DISCOUNT_ON_CART','FREE_PRODUCT')),
        target_entity_type varchar(255),
        primary key (id)
    )
2025-06-14 13:15:42 [main] DEBUG org.hibernate.SQL - 
    create table sites (
        capacity_sqm float(53),
        is_active boolean,
        created_at timestamp(6) with time zone not null,
        id bigint generated by default as identity,
        updated_at timestamp(6) with time zone,
        address_line1 varchar(255),
        city varchar(255),
        contact_email varchar(255),
        contact_phone varchar(255),
        country varchar(255),
        description varchar(255) not null,
        postal_code varchar(255),
        site_code varchar(255) not null unique,
        primary key (id)
    )
2025-06-14 13:15:42 [main] DEBUG org.hibernate.SQL - 
    alter table if exists categories 
       add constraint FKsaok720gsu4u2wrgbk10b5n8d 
       foreign key (parent_id) 
       references categories
2025-06-14 13:15:42 [main] DEBUG org.hibernate.SQL - 
    alter table if exists customer_group_members 
       add constraint FKetr33gy3yxphaasg8pnk8wyvs 
       foreign key (group_id) 
       references customer_groups
2025-06-14 13:15:42 [main] DEBUG org.hibernate.SQL - 
    alter table if exists customer_group_members 
       add constraint FKj7chtq65ntu6cwx5vtc3rngdp 
       foreign key (customer_id) 
       references customers
2025-06-14 13:15:42 [main] DEBUG org.hibernate.SQL - 
    alter table if exists customers 
       add constraint FKdig1h8xu5vcu0rfcihvbh46wq 
       foreign key (category_tarif_id) 
       references cat_tarif
2025-06-14 13:15:42 [main] DEBUG org.hibernate.SQL - 
    alter table if exists depots 
       add constraint FK5qq91mnq7j5lemrap49cshimd 
       foreign key (site_id) 
       references sites
2025-06-14 13:15:42 [main] DEBUG org.hibernate.SQL - 
    alter table if exists order_item_applied_promotions 
       add constraint FK82i7jogqbstxwl46g1rywbwsu 
       foreign key (order_item_id) 
       references order_items
2025-06-14 13:15:42 [main] DEBUG org.hibernate.SQL - 
    alter table if exists order_items 
       add constraint FKbioxgbv59vetrxe0ejfubep1w 
       foreign key (order_id) 
       references orders
2025-06-14 13:15:42 [main] DEBUG org.hibernate.SQL - 
    alter table if exists product_categories 
       add constraint FKd112rx0alycddsms029iifrih 
       foreign key (category_id) 
       references categories
2025-06-14 13:15:42 [main] DEBUG org.hibernate.SQL - 
    alter table if exists product_categories 
       add constraint FKlda9rad6s180ha3dl1ncsp8n7 
       foreign key (product_id) 
       references products
2025-06-14 13:15:42 [main] DEBUG org.hibernate.SQL - 
    alter table if exists product_stocks 
       add constraint FKmcawg70vkgr4vfrsphtcoc8up 
       foreign key (depot_id) 
       references depots
2025-06-14 13:15:42 [main] DEBUG org.hibernate.SQL - 
    alter table if exists products 
       add constraint FK53ooveoh14cvs7qns24gmlehh 
       foreign key (family_code) 
       references product_families (code)
2025-06-14 13:15:42 [main] DEBUG org.hibernate.SQL - 
    alter table if exists products_customer 
       add constraint FKnygquw0w0xvu9lfjpsbd6xmgv 
       foreign key (reference_customer) 
       references customers
2025-06-14 13:15:42 [main] DEBUG org.hibernate.SQL - 
    alter table if exists products_customer 
       add constraint FK4vdatfmkcw4aqwv41q569gq44 
       foreign key (reference_product) 
       references products
2025-06-14 13:15:42 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_conditions 
       add constraint FKjfph2mn5x5inav2a7wsxo2r2l 
       foreign key (rule_id) 
       references promotion_rules
2025-06-14 13:15:42 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_customer_families 
       add constraint FKjy33meus9wkfyyp29kyxhaw3i 
       foreign key (promotion_id) 
       references promotions
2025-06-14 13:15:42 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_customer_usage 
       add constraint FKtkdnuodmsbsskeejx4ksjgmsn 
       foreign key (promotion_id) 
       references promotions
2025-06-14 13:15:42 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_dynamic_conditions 
       add constraint FKd2huyfw319bhk0frhvdh0v0ot 
       foreign key (promotion_id) 
       references promotions
2025-06-14 13:15:42 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_excluded_categories 
       add constraint FKiamgbul5ugcmy9ewsemk31fng 
       foreign key (promotion_id) 
       references promotions
2025-06-14 13:15:42 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_excluded_products 
       add constraint FK1s1aelilqwce11lxgop8yhud0 
       foreign key (promotion_id) 
       references promotions
2025-06-14 13:15:42 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_lines 
       add constraint FKc6jg561k2bcyoja0im2kifdgb 
       foreign key (promotion_id) 
       references promotions
2025-06-14 13:15:42 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_rules 
       add constraint FK6xcgfd4fvmkpqdlnln3opdmpg 
       foreign key (promotion_id) 
       references promotions
2025-06-14 13:15:42 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_tiers 
       add constraint FK3iar32tvya9o51dqhtaf95ev6 
       foreign key (reward_id) 
       references rewards
2025-06-14 13:15:42 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_tiers 
       add constraint FKhw31w9eyoj371gg325124p1e9 
       foreign key (rule_id) 
       references promotion_rules
2025-06-14 13:15:42 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-06-14 13:15:43 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-06-14 13:15:45 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'productStockController' defined in file [/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/ma/foodplus/ordering/system/inventory/controller/ProductStockController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'productStockServiceImpl' defined in file [/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/ma/foodplus/ordering/system/inventory/service/impl/ProductStockServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'productStockRepository' defined in ma.foodplus.ordering.system.inventory.repository.ProductStockRepository defined in @EnableJpaRepositories declared on JpaConfig: Could not create query for public abstract java.util.List ma.foodplus.ordering.system.inventory.repository.ProductStockRepository.findByStorageCondition(java.lang.String); Reason: Validation failed for query for method public abstract java.util.List ma.foodplus.ordering.system.inventory.repository.ProductStockRepository.findByStorageCondition(java.lang.String)
2025-06-14 13:15:45 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-06-14 13:15:45 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-06-14 13:15:45 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-06-14 13:15:45 [main] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-06-14 13:15:45 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-06-14 13:15:45 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'productStockController' defined in file [/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/ma/foodplus/ordering/system/inventory/controller/ProductStockController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'productStockServiceImpl' defined in file [/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/ma/foodplus/ordering/system/inventory/service/impl/ProductStockServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'productStockRepository' defined in ma.foodplus.ordering.system.inventory.repository.ProductStockRepository defined in @EnableJpaRepositories declared on JpaConfig: Could not create query for public abstract java.util.List ma.foodplus.ordering.system.inventory.repository.ProductStockRepository.findByStorageCondition(java.lang.String); Reason: Validation failed for query for method public abstract java.util.List ma.foodplus.ordering.system.inventory.repository.ProductStockRepository.findByStorageCondition(java.lang.String)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:804)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1395)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1232)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1222)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1188)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1123)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:987)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:753)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1362)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1351)
	at ma.foodplus.ordering.system.FoodPlusOrderingApplication.main(FoodPlusOrderingApplication.java:22)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'productStockServiceImpl' defined in file [/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/ma/foodplus/ordering/system/inventory/service/impl/ProductStockServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'productStockRepository' defined in ma.foodplus.ordering.system.inventory.repository.ProductStockRepository defined in @EnableJpaRepositories declared on JpaConfig: Could not create query for public abstract java.util.List ma.foodplus.ordering.system.inventory.repository.ProductStockRepository.findByStorageCondition(java.lang.String); Reason: Validation failed for query for method public abstract java.util.List ma.foodplus.ordering.system.inventory.repository.ProductStockRepository.findByStorageCondition(java.lang.String)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:804)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1395)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1232)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1740)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1628)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	... 21 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'productStockRepository' defined in ma.foodplus.ordering.system.inventory.repository.ProductStockRepository defined in @EnableJpaRepositories declared on JpaConfig: Could not create query for public abstract java.util.List ma.foodplus.ordering.system.inventory.repository.ProductStockRepository.findByStorageCondition(java.lang.String); Reason: Validation failed for query for method public abstract java.util.List ma.foodplus.ordering.system.inventory.repository.ProductStockRepository.findByStorageCondition(java.lang.String)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1826)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:607)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1682)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1628)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	... 35 common frames omitted
Caused by: org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract java.util.List ma.foodplus.ordering.system.inventory.repository.ProductStockRepository.findByStorageCondition(java.lang.String); Reason: Validation failed for query for method public abstract java.util.List ma.foodplus.ordering.system.inventory.repository.ProductStockRepository.findByStorageCondition(java.lang.String)
	at org.springframework.data.repository.query.QueryCreationException.create(QueryCreationException.java:101)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:120)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.mapMethodsToQuery(QueryExecutorMethodInterceptor.java:104)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lambda$new$0(QueryExecutorMethodInterceptor.java:92)
	at java.base/java.util.Optional.map(Optional.java:260)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.<init>(QueryExecutorMethodInterceptor.java:92)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:434)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$4(RepositoryFactoryBeanSupport.java:350)
	at org.springframework.data.util.Lazy.getNullable(Lazy.java:135)
	at org.springframework.data.util.Lazy.get(Lazy.java:113)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:356)
	at org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean.afterPropertiesSet(JpaRepositoryFactoryBean.java:132)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1873)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1822)
	... 45 common frames omitted
Caused by: java.lang.IllegalArgumentException: Validation failed for query for method public abstract java.util.List ma.foodplus.ordering.system.inventory.repository.ProductStockRepository.findByStorageCondition(java.lang.String)
	at org.springframework.data.jpa.repository.query.SimpleJpaQuery.validateQuery(SimpleJpaQuery.java:97)
	at org.springframework.data.jpa.repository.query.SimpleJpaQuery.<init>(SimpleJpaQuery.java:67)
	at org.springframework.data.jpa.repository.query.JpaQueryFactory.fromMethodWithQueryString(JpaQueryFactory.java:49)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$DeclaredQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:174)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateIfNotFoundQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:254)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$AbstractQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:99)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:116)
	... 57 common frames omitted
Caused by: java.lang.IllegalArgumentException: org.hibernate.query.sqm.UnknownPathException: Could not resolve attribute 'storageCondition' of 'ma.foodplus.ordering.system.inventory.model.ProductStock' [SELECT ps FROM ProductStock ps WHERE ps.storageCondition = :condition]
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:143)
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:167)
	at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:173)
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:886)
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:796)
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:143)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:364)
	at jdk.proxy2/jdk.proxy2.$Proxy191.createQuery(Unknown Source)
	at org.springframework.data.jpa.repository.query.SimpleJpaQuery.validateQuery(SimpleJpaQuery.java:91)
	... 63 common frames omitted
Caused by: org.hibernate.query.sqm.UnknownPathException: Could not resolve attribute 'storageCondition' of 'ma.foodplus.ordering.system.inventory.model.ProductStock' [SELECT ps FROM ProductStock ps WHERE ps.storageCondition = :condition]
	at org.hibernate.query.hql.internal.StandardHqlTranslator.translate(StandardHqlTranslator.java:88)
	at org.hibernate.query.internal.QueryInterpretationCacheStandardImpl.createHqlInterpretation(QueryInterpretationCacheStandardImpl.java:145)
	at org.hibernate.query.internal.QueryInterpretationCacheStandardImpl.resolveHqlInterpretation(QueryInterpretationCacheStandardImpl.java:132)
	at org.hibernate.query.spi.QueryEngine.interpretHql(QueryEngine.java:54)
	at org.hibernate.internal.AbstractSharedSessionContract.interpretHql(AbstractSharedSessionContract.java:832)
	at org.hibernate.internal.AbstractSharedSessionContract.createQuery(AbstractSharedSessionContract.java:878)
	... 70 common frames omitted
Caused by: org.hibernate.query.sqm.PathElementException: Could not resolve attribute 'storageCondition' of 'ma.foodplus.ordering.system.inventory.model.ProductStock'
	at org.hibernate.query.sqm.SqmPathSource.getSubPathSource(SqmPathSource.java:95)
	at org.hibernate.query.sqm.tree.domain.AbstractSqmPath.get(AbstractSqmPath.java:198)
	at org.hibernate.query.sqm.tree.domain.AbstractSqmFrom.resolvePathPart(AbstractSqmFrom.java:198)
	at org.hibernate.query.hql.internal.DomainPathPart.resolvePathPart(DomainPathPart.java:42)
	at org.hibernate.query.hql.internal.BasicDotIdentifierConsumer.consumeIdentifier(BasicDotIdentifierConsumer.java:92)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitSimplePath(SemanticQueryBuilder.java:5465)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitGeneralPathFragment(SemanticQueryBuilder.java:5298)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitGeneralPathExpression(SemanticQueryBuilder.java:1891)
	at org.hibernate.grammars.hql.HqlParser$GeneralPathExpressionContext.accept(HqlParser.java:8268)
	at org.antlr.v4.runtime.tree.AbstractParseTreeVisitor.visitChildren(AbstractParseTreeVisitor.java:46)
	at org.hibernate.grammars.hql.HqlParserBaseVisitor.visitBarePrimaryExpression(HqlParserBaseVisitor.java:812)
	at org.hibernate.grammars.hql.HqlParser$BarePrimaryExpressionContext.accept(HqlParser.java:7726)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.createComparisonPredicate(SemanticQueryBuilder.java:2548)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitComparisonPredicate(SemanticQueryBuilder.java:2509)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitComparisonPredicate(SemanticQueryBuilder.java:277)
	at org.hibernate.grammars.hql.HqlParser$ComparisonPredicateContext.accept(HqlParser.java:6611)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitWhereClause(SemanticQueryBuilder.java:2361)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitWhereClause(SemanticQueryBuilder.java:277)
	at org.hibernate.grammars.hql.HqlParser$WhereClauseContext.accept(HqlParser.java:6302)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitQuery(SemanticQueryBuilder.java:1259)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitQuerySpecExpression(SemanticQueryBuilder.java:1040)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitQuerySpecExpression(SemanticQueryBuilder.java:277)
	at org.hibernate.grammars.hql.HqlParser$QuerySpecExpressionContext.accept(HqlParser.java:2134)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitSimpleQueryGroup(SemanticQueryBuilder.java:1025)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitSimpleQueryGroup(SemanticQueryBuilder.java:277)
	at org.hibernate.grammars.hql.HqlParser$SimpleQueryGroupContext.accept(HqlParser.java:2005)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitSelectStatement(SemanticQueryBuilder.java:492)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.visitStatement(SemanticQueryBuilder.java:451)
	at org.hibernate.query.hql.internal.SemanticQueryBuilder.buildSemanticModel(SemanticQueryBuilder.java:324)
	at org.hibernate.query.hql.internal.StandardHqlTranslator.translate(StandardHqlTranslator.java:71)
	... 75 common frames omitted
2025-06-14 13:17:19 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - Starting FoodPlusOrderingApplication using Java 21.0.7 with PID 264601 (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes started by louki in /home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system)
2025-06-14 13:17:19 [main] DEBUG m.f.o.s.FoodPlusOrderingApplication - Running with Spring Boot v3.5.0, Spring v6.2.7
2025-06-14 13:17:19 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - The following 1 profile is active: "dev"
2025-06-14 13:17:20 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-14 13:17:20 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-14 13:17:20 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 90 ms. Found 10 JPA repository interfaces.
2025-06-14 13:17:20 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-14 13:17:20 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-06-14 13:17:20 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.common.repository.CategoryTarifRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 13:17:20 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.CustomerGroupRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 13:17:20 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.CustomerRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 13:17:20 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.ProductCustomerRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 13:17:20 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.DepotRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 13:17:20 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.ProductStockRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 13:17:20 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.SiteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 13:17:20 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.order.repository.OrderRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 13:17:20 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.product.repository.ProductRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 13:17:20 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.promos.repository.PromotionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 13:17:20 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 22 ms. Found 0 Redis repository interfaces.
2025-06-14 13:17:21 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8087 (http)
2025-06-14 13:17:21 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-14 13:17:21 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.41]
2025-06-14 13:17:21 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-14 13:17:21 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1670 ms
2025-06-14 13:17:21 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-06-14 13:17:21 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.15.Final
2025-06-14 13:17:21 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-06-14 13:17:21 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-06-14 13:17:21 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@59a3eaf7
2025-06-14 13:17:21 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-06-14 13:17:21 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-06-14 13:17:21 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 17.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-06-14 13:17:21 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-06-14 13:17:23 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-06-14 13:17:23 [main] DEBUG org.hibernate.SQL - 
    set client_min_messages = WARNING
2025-06-14 13:17:23 [main] DEBUG org.hibernate.SQL - 
    alter table if exists categories 
       drop constraint if exists FKsaok720gsu4u2wrgbk10b5n8d
2025-06-14 13:17:23 [main] DEBUG org.hibernate.SQL - 
    alter table if exists customer_group_members 
       drop constraint if exists FKetr33gy3yxphaasg8pnk8wyvs
2025-06-14 13:17:23 [main] DEBUG org.hibernate.SQL - 
    alter table if exists customer_group_members 
       drop constraint if exists FKj7chtq65ntu6cwx5vtc3rngdp
2025-06-14 13:17:23 [main] DEBUG org.hibernate.SQL - 
    alter table if exists customers 
       drop constraint if exists FKdig1h8xu5vcu0rfcihvbh46wq
2025-06-14 13:17:23 [main] DEBUG org.hibernate.SQL - 
    alter table if exists depots 
       drop constraint if exists FK5qq91mnq7j5lemrap49cshimd
2025-06-14 13:17:23 [main] DEBUG org.hibernate.SQL - 
    alter table if exists order_item_applied_promotions 
       drop constraint if exists FK82i7jogqbstxwl46g1rywbwsu
2025-06-14 13:17:23 [main] DEBUG org.hibernate.SQL - 
    alter table if exists order_items 
       drop constraint if exists FKbioxgbv59vetrxe0ejfubep1w
2025-06-14 13:17:23 [main] DEBUG org.hibernate.SQL - 
    alter table if exists product_categories 
       drop constraint if exists FKd112rx0alycddsms029iifrih
2025-06-14 13:17:23 [main] DEBUG org.hibernate.SQL - 
    alter table if exists product_categories 
       drop constraint if exists FKlda9rad6s180ha3dl1ncsp8n7
2025-06-14 13:17:23 [main] DEBUG org.hibernate.SQL - 
    alter table if exists product_stocks 
       drop constraint if exists FKmcawg70vkgr4vfrsphtcoc8up
2025-06-14 13:17:23 [main] DEBUG org.hibernate.SQL - 
    alter table if exists products 
       drop constraint if exists FK53ooveoh14cvs7qns24gmlehh
2025-06-14 13:17:23 [main] DEBUG org.hibernate.SQL - 
    alter table if exists products_customer 
       drop constraint if exists FKnygquw0w0xvu9lfjpsbd6xmgv
2025-06-14 13:17:23 [main] DEBUG org.hibernate.SQL - 
    alter table if exists products_customer 
       drop constraint if exists FK4vdatfmkcw4aqwv41q569gq44
2025-06-14 13:17:23 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_conditions 
       drop constraint if exists FKjfph2mn5x5inav2a7wsxo2r2l
2025-06-14 13:17:23 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_customer_families 
       drop constraint if exists FKjy33meus9wkfyyp29kyxhaw3i
2025-06-14 13:17:23 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_customer_usage 
       drop constraint if exists FKtkdnuodmsbsskeejx4ksjgmsn
2025-06-14 13:17:23 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_dynamic_conditions 
       drop constraint if exists FKd2huyfw319bhk0frhvdh0v0ot
2025-06-14 13:17:23 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_excluded_categories 
       drop constraint if exists FKiamgbul5ugcmy9ewsemk31fng
2025-06-14 13:17:23 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_excluded_products 
       drop constraint if exists FK1s1aelilqwce11lxgop8yhud0
2025-06-14 13:17:23 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_lines 
       drop constraint if exists FKc6jg561k2bcyoja0im2kifdgb
2025-06-14 13:17:23 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_rules 
       drop constraint if exists FK6xcgfd4fvmkpqdlnln3opdmpg
2025-06-14 13:17:23 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_tiers 
       drop constraint if exists FK3iar32tvya9o51dqhtaf95ev6
2025-06-14 13:17:23 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_tiers 
       drop constraint if exists FKhw31w9eyoj371gg325124p1e9
2025-06-14 13:17:23 [main] DEBUG org.hibernate.SQL - 
    drop table if exists cat_tarif cascade
2025-06-14 13:17:23 [main] DEBUG org.hibernate.SQL - 
    drop table if exists categories cascade
2025-06-14 13:17:23 [main] DEBUG org.hibernate.SQL - 
    drop table if exists customer_group_members cascade
2025-06-14 13:17:23 [main] DEBUG org.hibernate.SQL - 
    drop table if exists customer_groups cascade
2025-06-14 13:17:23 [main] DEBUG org.hibernate.SQL - 
    drop table if exists customers cascade
2025-06-14 13:17:23 [main] DEBUG org.hibernate.SQL - 
    drop table if exists depots cascade
2025-06-14 13:17:23 [main] DEBUG org.hibernate.SQL - 
    drop table if exists order_item_applied_promotions cascade
2025-06-14 13:17:23 [main] DEBUG org.hibernate.SQL - 
    drop table if exists order_items cascade
2025-06-14 13:17:23 [main] DEBUG org.hibernate.SQL - 
    drop table if exists orders cascade
2025-06-14 13:17:23 [main] DEBUG org.hibernate.SQL - 
    drop table if exists product_categories cascade
2025-06-14 13:17:23 [main] DEBUG org.hibernate.SQL - 
    drop table if exists product_families cascade
2025-06-14 13:17:23 [main] DEBUG org.hibernate.SQL - 
    drop table if exists product_stocks cascade
2025-06-14 13:17:23 [main] DEBUG org.hibernate.SQL - 
    drop table if exists products cascade
2025-06-14 13:17:23 [main] DEBUG org.hibernate.SQL - 
    drop table if exists products_customer cascade
2025-06-14 13:17:23 [main] DEBUG org.hibernate.SQL - 
    drop table if exists promotion_conditions cascade
2025-06-14 13:17:23 [main] DEBUG org.hibernate.SQL - 
    drop table if exists promotion_customer_families cascade
2025-06-14 13:17:23 [main] DEBUG org.hibernate.SQL - 
    drop table if exists promotion_customer_usage cascade
2025-06-14 13:17:23 [main] DEBUG org.hibernate.SQL - 
    drop table if exists promotion_dynamic_conditions cascade
2025-06-14 13:17:23 [main] DEBUG org.hibernate.SQL - 
    drop table if exists promotion_excluded_categories cascade
2025-06-14 13:17:23 [main] DEBUG org.hibernate.SQL - 
    drop table if exists promotion_excluded_products cascade
2025-06-14 13:17:23 [main] DEBUG org.hibernate.SQL - 
    drop table if exists promotion_lines cascade
2025-06-14 13:17:23 [main] DEBUG org.hibernate.SQL - 
    drop table if exists promotion_rules cascade
2025-06-14 13:17:23 [main] DEBUG org.hibernate.SQL - 
    drop table if exists promotion_tiers cascade
2025-06-14 13:17:23 [main] DEBUG org.hibernate.SQL - 
    drop table if exists promotions cascade
2025-06-14 13:17:23 [main] DEBUG org.hibernate.SQL - 
    drop table if exists rewards cascade
2025-06-14 13:17:23 [main] DEBUG org.hibernate.SQL - 
    drop table if exists sites cascade
2025-06-14 13:17:23 [main] DEBUG org.hibernate.SQL - 
    create table cat_tarif (
        price_ttc numeric(24,6) not null,
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        updated_at timestamp(6) not null,
        description varchar(255) not null,
        primary key (id)
    )
2025-06-14 13:17:23 [main] DEBUG org.hibernate.SQL - 
    create table categories (
        is_active boolean not null,
        level integer not null,
        created_at timestamp(6) with time zone not null,
        id bigint generated by default as identity,
        parent_id bigint,
        updated_at timestamp(6) with time zone,
        description varchar(500),
        code varchar(255) not null unique,
        name varchar(255) not null,
        primary key (id)
    )
2025-06-14 13:17:23 [main] DEBUG org.hibernate.SQL - 
    create table customer_group_members (
        customer_id bigint not null,
        group_id bigint not null,
        primary key (customer_id, group_id)
    )
2025-06-14 13:17:23 [main] DEBUG org.hibernate.SQL - 
    create table customer_groups (
        created_at timestamp(6) with time zone not null,
        id bigint generated by default as identity,
        updated_at timestamp(6) with time zone,
        description varchar(255),
        name varchar(255) not null unique,
        primary key (id)
    )
2025-06-14 13:17:23 [main] DEBUG org.hibernate.SQL - 
    create table customers (
        annual_turnover numeric(38,2),
        average_order_value numeric(24,6),
        credit_limit numeric(24,6),
        credit_score integer,
        is_active boolean not null,
        is_vip boolean,
        loyalty_points integer,
        number_of_employees integer,
        outstanding_balance numeric(24,6),
        payment_term_days integer,
        total_orders integer,
        total_spent numeric(24,6),
        category_tarif_id bigint,
        contract_end_date timestamp(6) with time zone,
        contract_start_date timestamp(6) with time zone,
        created_at timestamp(6) with time zone not null,
        customer_since timestamp(6) with time zone,
        id bigint generated by default as identity,
        last_activity_date timestamp(6) with time zone,
        last_order_date timestamp(6) with time zone,
        last_payment_date timestamp(6) with time zone,
        updated_at timestamp(6) with time zone,
        address varchar(255),
        bank_account_info TEXT,
        business_activity varchar(255),
        city varchar(255),
        company_name varchar(255),
        contract_number varchar(255),
        contract_terms TEXT,
        contract_type varchar(255),
        country varchar(255),
        created_by varchar(255),
        credit_rating varchar(255),
        ct_num varchar(255) not null unique,
        customer_type varchar(255) not null check (customer_type in ('B2B','B2C')),
        delivery_terms TEXT,
        description varchar(255) not null,
        email varchar(255),
        ice varchar(255) not null,
        legal_form varchar(255),
        notes TEXT,
        payment_history TEXT,
        payment_terms TEXT,
        postal_code varchar(255),
        preferred_delivery_days varchar(255),
        preferred_delivery_time varchar(255),
        preferred_payment_method varchar(255),
        region varchar(255),
        registration_number varchar(255),
        special_conditions TEXT,
        special_handling_instructions TEXT,
        tax_id varchar(255),
        telecopie varchar(255),
        telephone varchar(255),
        updated_by varchar(255),
        vat_number varchar(255),
        primary key (id)
    )
2025-06-14 13:17:23 [main] DEBUG org.hibernate.SQL - 
    create table depots (
        capacity_cubic_meters float(53),
        is_active boolean,
        is_refrigerated boolean,
        security_level integer,
        created_at timestamp(6) with time zone not null,
        id bigint generated by default as identity,
        site_id bigint,
        updated_at timestamp(6) with time zone,
        access_restrictions varchar(255),
        depot_code varchar(255) not null unique,
        depot_type varchar(255) check (depot_type in ('MAIN_WAREHOUSE','DISTRIBUTION_CENTER','COLD_STORAGE','DRY_STORAGE','HAZARDOUS_MATERIALS','TEMPORARY_STORAGE','CROSS_DOCKING')),
        description varchar(255) not null,
        handling_equipment varchar(255),
        special_requirements TEXT,
        temperature_range varchar(255),
        primary key (id)
    )
2025-06-14 13:17:23 [main] DEBUG org.hibernate.SQL - 
    create table order_item_applied_promotions (
        order_item_id bigint not null,
        promotion_code varchar(255)
    )
2025-06-14 13:17:23 [main] DEBUG org.hibernate.SQL - 
    create table order_items (
        bulk_quantity_threshold integer,
        consumed_quantity integer not null,
        discount_amount numeric(38,2) not null,
        quantity integer not null,
        sku_points numeric(38,2),
        special_pricing boolean,
        tax_amount numeric(38,2) not null,
        total_price numeric(38,2) not null,
        unit_price numeric(38,2) not null,
        wholesale_price numeric(38,2),
        created_at timestamp(6) with time zone not null,
        id bigint generated by default as identity,
        order_id bigint not null,
        product_family_id bigint,
        product_id bigint not null,
        updated_at timestamp(6) with time zone,
        applied_promotion_code varchar(255),
        notes varchar(255),
        product_name varchar(255) not null,
        sku varchar(255),
        primary key (id)
    )
2025-06-14 13:17:23 [main] DEBUG org.hibernate.SQL - 
    create table orders (
        bulk_discount_percentage numeric(38,2),
        is_wholesale boolean not null,
        minimum_order_value numeric(38,2),
        shipping_cost numeric(38,2) not null,
        special_pricing_agreement boolean,
        subtotal numeric(38,2) not null,
        total numeric(38,2) not null,
        total_discount numeric(38,2) not null,
        total_tax numeric(38,2) not null,
        cancelled_at timestamp(6) with time zone,
        created_at timestamp(6) with time zone not null,
        customer_id bigint not null,
        delivered_at timestamp(6) with time zone,
        id bigint generated by default as identity,
        payment_due_date timestamp(6) with time zone,
        preferred_delivery_date timestamp(6) with time zone,
        refunded_at timestamp(6) with time zone,
        updated_at timestamp(6) with time zone,
        cancellation_reason varchar(255),
        contract_number varchar(255),
        created_by varchar(255),
        delivery_instructions varchar(255),
        internal_notes varchar(255),
        notes varchar(255),
        order_number varchar(255) not null unique,
        order_type varchar(255) not null check (order_type in ('B2B','B2C')),
        payment_method varchar(255) check (payment_method in ('CASH','CREDIT_CARD','DEBIT_CARD','MOBILE_PAYMENT','BANK_TRANSFER','CHECK','WIRE_TRANSFER','CREDIT_NOTE','LETTER_OF_CREDIT')),
        payment_notes varchar(255),
        payment_reference varchar(255),
        payment_status varchar(255) check (payment_status in ('PENDING','PARTIALLY_PAID','PAID','FAILED','REFUNDED','CANCELLED','ON_HOLD','IN_DISPUTE')),
        payment_terms varchar(255),
        po_number varchar(255),
        reference_number varchar(255),
        refund_reason varchar(255),
        shipping_address varchar(255),
        shipping_city varchar(255),
        shipping_country varchar(255),
        shipping_notes varchar(255),
        shipping_postal_code varchar(255),
        status varchar(255) not null check (status in ('DRAFT','PENDING','CONFIRMED','PREPARING','READY','DELIVERING','DELIVERED','CANCELLED','REFUNDED')),
        updated_by varchar(255),
        primary key (id)
    )
2025-06-14 13:17:23 [main] DEBUG org.hibernate.SQL - 
    create table product_categories (
        category_id bigint not null,
        product_id bigint not null
    )
2025-06-14 13:17:23 [main] DEBUG org.hibernate.SQL - 
    create table product_families (
        is_active boolean not null,
        created_at timestamp(6) with time zone not null,
        id bigint generated by default as identity,
        updated_at timestamp(6) with time zone,
        code varchar(255) not null unique,
        description varchar(255),
        name varchar(255) not null,
        primary key (id)
    )
2025-06-14 13:17:23 [main] DEBUG org.hibernate.SQL - 
    create table product_stocks (
        days_of_stock integer,
        expiry_date date,
        max_stock_level numeric(24,6),
        min_stock_level numeric(24,6),
        quantity numeric(24,6) not null,
        reorder_point numeric(24,6),
        reorder_quantity numeric(24,6),
        reserved_quantity numeric(24,6) not null,
        shelf_life_days integer,
        unit_cost numeric(24,6) not null,
        created_at timestamp(6) with time zone not null,
        depot_id bigint not null,
        id bigint generated by default as identity,
        last_purchase_date timestamp(6) with time zone,
        last_sale_date timestamp(6) with time zone,
        product_id bigint not null,
        updated_at timestamp(6) with time zone,
        storage_conditions varchar(100),
        notes varchar(500),
        quality_notes varchar(1000),
        batch_number varchar(255),
        depot_name varchar(255),
        location_code varchar(255),
        product_name varchar(255),
        quality_status varchar(255) not null check (quality_status in ('INSPECTED','INSPECTION_REQUIRED','QUARANTINED','DAMAGED','RECALLED')),
        primary key (id)
    )
2025-06-14 13:17:23 [main] DEBUG org.hibernate.SQL - 
    create table products (
        b2b_contract_discount_percentage numeric(5,2),
        b2b_contract_required boolean,
        b2b_credit_terms integer,
        b2b_custom_pricing_enabled boolean,
        b2b_delivery_lead_time integer,
        b2b_minimum_order_value numeric(19,2),
        b2b_volume_discount_enabled boolean,
        b2c_display_in_catalog boolean,
        b2c_featured boolean,
        b2c_loyalty_points_multiplier numeric(5,2),
        b2c_promo_price numeric(19,2),
        b2c_rating numeric(3,2),
        b2c_retail_price numeric(19,2),
        b2c_review_count integer,
        bulk_discount_percentage numeric(5,2),
        bulk_discount_threshold integer,
        bulk_package_size integer,
        deliverable boolean not null,
        inactive boolean not null,
        is_bulk_item boolean not null,
        is_perishable boolean not null,
        is_wholesale_only boolean not null,
        maximum_order_quantity integer,
        minimum_order_quantity integer,
        package_quantity integer,
        price_including_tax numeric(10,2) not null,
        promo_sku_points numeric(10,2) not null,
        requires_approval boolean not null,
        requires_cold_storage boolean not null,
        requires_contract boolean not null,
        sale_price numeric(10,2) not null,
        tax_rate numeric(5,2),
        unit_price numeric(38,2) not null,
        vendable boolean not null,
        visible boolean not null,
        weight numeric(10,3),
        wholesale_discount_percentage numeric(5,2),
        wholesale_minimum_quantity integer,
        wholesale_price numeric(10,2),
        wholesale_tier_1_price numeric(10,2),
        wholesale_tier_1_quantity integer,
        wholesale_tier_2_price numeric(10,2),
        wholesale_tier_2_quantity integer,
        wholesale_tier_3_price numeric(10,2),
        wholesale_tier_3_quantity integer,
        b2c_promo_end_date timestamp(6) with time zone,
        b2c_promo_start_date timestamp(6) with time zone,
        created_at timestamp(6) with time zone,
        id bigint generated by default as identity,
        updated_at timestamp(6) with time zone,
        weight_unit varchar(10),
        bulk_package_unit varchar(20),
        stock_tracking varchar(20) not null check (stock_tracking in ('Aucun','SERIALIZED','CMUP','FIFO','LIFO','PAR_LOT')),
        barcode varchar(36) unique,
        dimensions varchar(50),
        package_size varchar(50),
        sale_unit varchar(50),
        seasonality varchar(50),
        supplier_code varchar(50),
        target_market varchar(50),
        country_of_origin varchar(100),
        supplier_name varchar(100),
        certification varchar(200),
        photo varchar(500),
        title varchar(500) not null,
        availability_schedule jsonb,
        b2b_payment_methods varchar(255),
        custom_attributes jsonb,
        customer_segments varchar(255),
        description TEXT not null,
        family_code varchar(255),
        reference varchar(255) not null unique,
        sku varchar(255) not null unique,
        additional_photos TEXT[],
        primary key (id)
    )
2025-06-14 13:17:23 [main] DEBUG org.hibernate.SQL - 
    create table products_customer (
        coef numeric(12,2),
        is_active boolean,
        prix_ttc numeric(16,6) not null,
        prix_ven_nouv numeric(16,6),
        qte_mont integer,
        remise numeric(16,6),
        remise_nouv numeric(16,6),
        created_at timestamp(6) with time zone,
        id bigint generated by default as identity,
        reference_customer bigint not null,
        reference_product bigint not null,
        updated_at timestamp(6) with time zone,
        category varchar(50),
        primary key (id)
    )
2025-06-14 13:17:23 [main] DEBUG org.hibernate.SQL - 
    create table promotion_conditions (
        required_loyalty_level integer,
        customer_group_id bigint,
        id bigint generated by default as identity,
        rule_id bigint,
        attribute varchar(255) not null,
        condition_type varchar(255) not null check (condition_type in ('CART_SUBTOTAL','PRODUCT_IN_CART','CUSTOMER_IN_GROUP','TIME_OF_DAY','DAY_OF_WEEK','CUSTOMER_LOYALTY_LEVEL','PAYMENT_METHOD')),
        entity_id varchar(255),
        entity_type varchar(255),
        operator varchar(255) not null check (operator in ('EQUAL','NOT_EQUAL','GREATER_THAN','GREATER_THAN_OR_EQUAL','LESS_THAN','LESS_THAN_OR_EQUAL','CONTAINS','NOT_CONTAINS','IN','NOT_IN')),
        payment_method varchar(255),
        value varchar(255) not null,
        primary key (id)
    )
2025-06-14 13:17:23 [main] DEBUG org.hibernate.SQL - 
    create table promotion_customer_families (
        end_date timestamp(6) with time zone,
        id bigint generated by default as identity,
        promotion_id bigint,
        start_date timestamp(6) with time zone,
        customer_family_code varchar(255) not null,
        primary key (id)
    )
2025-06-14 13:17:23 [main] DEBUG org.hibernate.SQL - 
    create table promotion_customer_usage (
        usage_count integer,
        customer_id bigint not null,
        promotion_id bigint not null,
        primary key (customer_id, promotion_id)
    )
2025-06-14 13:17:23 [main] DEBUG org.hibernate.SQL - 
    create table promotion_dynamic_conditions (
        is_active boolean not null,
        threshold float(53),
        id bigint generated by default as identity,
        promotion_id bigint,
        condition_type varchar(255) not null,
        condition_value varchar(255) not null,
        description varchar(255),
        entity_id varchar(255),
        entity_type varchar(255),
        operator varchar(255) not null,
        primary key (id)
    )
2025-06-14 13:17:23 [main] DEBUG org.hibernate.SQL - 
    create table promotion_excluded_categories (
        category_id bigint,
        promotion_id bigint not null
    )
2025-06-14 13:17:23 [main] DEBUG org.hibernate.SQL - 
    create table promotion_excluded_products (
        product_id bigint,
        promotion_id bigint not null
    )
2025-06-14 13:17:23 [main] DEBUG org.hibernate.SQL - 
    create table promotion_lines (
        free_product_id bigint,
        id bigint generated by default as identity,
        paid_product_id bigint,
        promotion_id bigint,
        free_family_code varchar(255),
        paid_family_code varchar(255),
        primary key (id)
    )
2025-06-14 13:17:23 [main] DEBUG org.hibernate.SQL - 
    create table promotion_rules (
        repetition integer,
        id bigint generated by default as identity,
        promotion_id bigint,
        breakpoint_type varchar(255) not null check (breakpoint_type in ('AMOUNT','QUANTITY','SKU_POINTS')),
        calculation_method varchar(255) not null check (calculation_method in ('BRACKET','CUMULATIVE')),
        condition_logic varchar(255) not null check (condition_logic in ('ALL','ANY')),
        name varchar(255) not null,
        primary key (id)
    )
2025-06-14 13:17:23 [main] DEBUG org.hibernate.SQL - 
    create table promotion_tiers (
        minimum_threshold numeric(38,2) not null,
        id bigint generated by default as identity,
        reward_id bigint not null unique,
        rule_id bigint,
        primary key (id)
    )
2025-06-14 13:17:23 [main] DEBUG org.hibernate.SQL - 
    create table promotions (
        apply_first_matching_rule_only boolean,
        current_usage_count integer,
        index_discount integer,
        is_active boolean not null,
        is_exclusive boolean not null,
        max_usage_count integer,
        max_usage_per_customer integer,
        min_purchase_amount numeric(38,2),
        priority integer not null check (priority>=0),
        skip_to_sequence integer,
        end_date timestamp(6) with time zone not null,
        id bigint generated by default as identity,
        start_date timestamp(6) with time zone not null,
        combinability_group varchar(255),
        customer_group varchar(255),
        description varchar(255),
        name varchar(255) not null,
        promo_code varchar(255) not null unique,
        primary key (id)
    )
2025-06-14 13:17:23 [main] DEBUG org.hibernate.SQL - 
    create table rewards (
        value numeric(38,2) not null,
        id bigint generated by default as identity,
        target_entity_id bigint,
        reward_type varchar(255) not null check (reward_type in ('PERCENT_DISCOUNT_ON_ITEM','FIXED_DISCOUNT_ON_CART','FREE_PRODUCT')),
        target_entity_type varchar(255),
        primary key (id)
    )
2025-06-14 13:17:23 [main] DEBUG org.hibernate.SQL - 
    create table sites (
        capacity_sqm float(53),
        is_active boolean,
        created_at timestamp(6) with time zone not null,
        id bigint generated by default as identity,
        updated_at timestamp(6) with time zone,
        address_line1 varchar(255),
        city varchar(255),
        contact_email varchar(255),
        contact_phone varchar(255),
        country varchar(255),
        description varchar(255) not null,
        postal_code varchar(255),
        site_code varchar(255) not null unique,
        primary key (id)
    )
2025-06-14 13:17:23 [main] DEBUG org.hibernate.SQL - 
    alter table if exists categories 
       add constraint FKsaok720gsu4u2wrgbk10b5n8d 
       foreign key (parent_id) 
       references categories
2025-06-14 13:17:23 [main] DEBUG org.hibernate.SQL - 
    alter table if exists customer_group_members 
       add constraint FKetr33gy3yxphaasg8pnk8wyvs 
       foreign key (group_id) 
       references customer_groups
2025-06-14 13:17:23 [main] DEBUG org.hibernate.SQL - 
    alter table if exists customer_group_members 
       add constraint FKj7chtq65ntu6cwx5vtc3rngdp 
       foreign key (customer_id) 
       references customers
2025-06-14 13:17:23 [main] DEBUG org.hibernate.SQL - 
    alter table if exists customers 
       add constraint FKdig1h8xu5vcu0rfcihvbh46wq 
       foreign key (category_tarif_id) 
       references cat_tarif
2025-06-14 13:17:23 [main] DEBUG org.hibernate.SQL - 
    alter table if exists depots 
       add constraint FK5qq91mnq7j5lemrap49cshimd 
       foreign key (site_id) 
       references sites
2025-06-14 13:17:23 [main] DEBUG org.hibernate.SQL - 
    alter table if exists order_item_applied_promotions 
       add constraint FK82i7jogqbstxwl46g1rywbwsu 
       foreign key (order_item_id) 
       references order_items
2025-06-14 13:17:23 [main] DEBUG org.hibernate.SQL - 
    alter table if exists order_items 
       add constraint FKbioxgbv59vetrxe0ejfubep1w 
       foreign key (order_id) 
       references orders
2025-06-14 13:17:23 [main] DEBUG org.hibernate.SQL - 
    alter table if exists product_categories 
       add constraint FKd112rx0alycddsms029iifrih 
       foreign key (category_id) 
       references categories
2025-06-14 13:17:23 [main] DEBUG org.hibernate.SQL - 
    alter table if exists product_categories 
       add constraint FKlda9rad6s180ha3dl1ncsp8n7 
       foreign key (product_id) 
       references products
2025-06-14 13:17:23 [main] DEBUG org.hibernate.SQL - 
    alter table if exists product_stocks 
       add constraint FKmcawg70vkgr4vfrsphtcoc8up 
       foreign key (depot_id) 
       references depots
2025-06-14 13:17:23 [main] DEBUG org.hibernate.SQL - 
    alter table if exists products 
       add constraint FK53ooveoh14cvs7qns24gmlehh 
       foreign key (family_code) 
       references product_families (code)
2025-06-14 13:17:23 [main] DEBUG org.hibernate.SQL - 
    alter table if exists products_customer 
       add constraint FKnygquw0w0xvu9lfjpsbd6xmgv 
       foreign key (reference_customer) 
       references customers
2025-06-14 13:17:23 [main] DEBUG org.hibernate.SQL - 
    alter table if exists products_customer 
       add constraint FK4vdatfmkcw4aqwv41q569gq44 
       foreign key (reference_product) 
       references products
2025-06-14 13:17:23 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_conditions 
       add constraint FKjfph2mn5x5inav2a7wsxo2r2l 
       foreign key (rule_id) 
       references promotion_rules
2025-06-14 13:17:23 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_customer_families 
       add constraint FKjy33meus9wkfyyp29kyxhaw3i 
       foreign key (promotion_id) 
       references promotions
2025-06-14 13:17:23 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_customer_usage 
       add constraint FKtkdnuodmsbsskeejx4ksjgmsn 
       foreign key (promotion_id) 
       references promotions
2025-06-14 13:17:23 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_dynamic_conditions 
       add constraint FKd2huyfw319bhk0frhvdh0v0ot 
       foreign key (promotion_id) 
       references promotions
2025-06-14 13:17:23 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_excluded_categories 
       add constraint FKiamgbul5ugcmy9ewsemk31fng 
       foreign key (promotion_id) 
       references promotions
2025-06-14 13:17:23 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_excluded_products 
       add constraint FK1s1aelilqwce11lxgop8yhud0 
       foreign key (promotion_id) 
       references promotions
2025-06-14 13:17:23 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_lines 
       add constraint FKc6jg561k2bcyoja0im2kifdgb 
       foreign key (promotion_id) 
       references promotions
2025-06-14 13:17:23 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_rules 
       add constraint FK6xcgfd4fvmkpqdlnln3opdmpg 
       foreign key (promotion_id) 
       references promotions
2025-06-14 13:17:23 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_tiers 
       add constraint FK3iar32tvya9o51dqhtaf95ev6 
       foreign key (reward_id) 
       references rewards
2025-06-14 13:17:23 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_tiers 
       add constraint FKhw31w9eyoj371gg325124p1e9 
       foreign key (rule_id) 
       references promotion_rules
2025-06-14 13:17:23 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-06-14 13:17:23 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-06-14 13:17:24 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'productStockController' defined in file [/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/ma/foodplus/ordering/system/inventory/controller/ProductStockController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'productStockServiceImpl' defined in file [/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/ma/foodplus/ordering/system/inventory/service/impl/ProductStockServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'productStockRepository' defined in ma.foodplus.ordering.system.inventory.repository.ProductStockRepository defined in @EnableJpaRepositories declared on JpaConfig: Could not create query for public abstract ma.foodplus.ordering.system.inventory.model.ProductStock ma.foodplus.ordering.system.inventory.repository.ProductStockRepository.findFirstByProductIdOrderByLastUpdatedDesc(java.lang.Long); Reason: Failed to create query for method public abstract ma.foodplus.ordering.system.inventory.model.ProductStock ma.foodplus.ordering.system.inventory.repository.ProductStockRepository.findFirstByProductIdOrderByLastUpdatedDesc(java.lang.Long); No property 'lastUpdated' found for type 'ProductStock'
2025-06-14 13:17:24 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-06-14 13:17:24 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-06-14 13:17:24 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-06-14 13:17:24 [main] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-06-14 13:17:24 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-06-14 13:17:24 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'productStockController' defined in file [/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/ma/foodplus/ordering/system/inventory/controller/ProductStockController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'productStockServiceImpl' defined in file [/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/ma/foodplus/ordering/system/inventory/service/impl/ProductStockServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'productStockRepository' defined in ma.foodplus.ordering.system.inventory.repository.ProductStockRepository defined in @EnableJpaRepositories declared on JpaConfig: Could not create query for public abstract ma.foodplus.ordering.system.inventory.model.ProductStock ma.foodplus.ordering.system.inventory.repository.ProductStockRepository.findFirstByProductIdOrderByLastUpdatedDesc(java.lang.Long); Reason: Failed to create query for method public abstract ma.foodplus.ordering.system.inventory.model.ProductStock ma.foodplus.ordering.system.inventory.repository.ProductStockRepository.findFirstByProductIdOrderByLastUpdatedDesc(java.lang.Long); No property 'lastUpdated' found for type 'ProductStock'
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:804)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1395)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1232)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.instantiateSingleton(DefaultListableBeanFactory.java:1222)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingleton(DefaultListableBeanFactory.java:1188)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:1123)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:987)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:753)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1362)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1351)
	at ma.foodplus.ordering.system.FoodPlusOrderingApplication.main(FoodPlusOrderingApplication.java:22)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'productStockServiceImpl' defined in file [/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/ma/foodplus/ordering/system/inventory/service/impl/ProductStockServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'productStockRepository' defined in ma.foodplus.ordering.system.inventory.repository.ProductStockRepository defined in @EnableJpaRepositories declared on JpaConfig: Could not create query for public abstract ma.foodplus.ordering.system.inventory.model.ProductStock ma.foodplus.ordering.system.inventory.repository.ProductStockRepository.findFirstByProductIdOrderByLastUpdatedDesc(java.lang.Long); Reason: Failed to create query for method public abstract ma.foodplus.ordering.system.inventory.model.ProductStock ma.foodplus.ordering.system.inventory.repository.ProductStockRepository.findFirstByProductIdOrderByLastUpdatedDesc(java.lang.Long); No property 'lastUpdated' found for type 'ProductStock'
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:804)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1395)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1232)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:569)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1740)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1628)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	... 21 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'productStockRepository' defined in ma.foodplus.ordering.system.inventory.repository.ProductStockRepository defined in @EnableJpaRepositories declared on JpaConfig: Could not create query for public abstract ma.foodplus.ordering.system.inventory.model.ProductStock ma.foodplus.ordering.system.inventory.repository.ProductStockRepository.findFirstByProductIdOrderByLastUpdatedDesc(java.lang.Long); Reason: Failed to create query for method public abstract ma.foodplus.ordering.system.inventory.model.ProductStock ma.foodplus.ordering.system.inventory.repository.ProductStockRepository.findFirstByProductIdOrderByLastUpdatedDesc(java.lang.Long); No property 'lastUpdated' found for type 'ProductStock'
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1826)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:607)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1682)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1628)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:913)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791)
	... 35 common frames omitted
Caused by: org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract ma.foodplus.ordering.system.inventory.model.ProductStock ma.foodplus.ordering.system.inventory.repository.ProductStockRepository.findFirstByProductIdOrderByLastUpdatedDesc(java.lang.Long); Reason: Failed to create query for method public abstract ma.foodplus.ordering.system.inventory.model.ProductStock ma.foodplus.ordering.system.inventory.repository.ProductStockRepository.findFirstByProductIdOrderByLastUpdatedDesc(java.lang.Long); No property 'lastUpdated' found for type 'ProductStock'
	at org.springframework.data.repository.query.QueryCreationException.create(QueryCreationException.java:101)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:120)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.mapMethodsToQuery(QueryExecutorMethodInterceptor.java:104)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lambda$new$0(QueryExecutorMethodInterceptor.java:92)
	at java.base/java.util.Optional.map(Optional.java:260)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.<init>(QueryExecutorMethodInterceptor.java:92)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport.getRepository(RepositoryFactorySupport.java:434)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.lambda$afterPropertiesSet$4(RepositoryFactoryBeanSupport.java:350)
	at org.springframework.data.util.Lazy.getNullable(Lazy.java:135)
	at org.springframework.data.util.Lazy.get(Lazy.java:113)
	at org.springframework.data.repository.core.support.RepositoryFactoryBeanSupport.afterPropertiesSet(RepositoryFactoryBeanSupport.java:356)
	at org.springframework.data.jpa.repository.support.JpaRepositoryFactoryBean.afterPropertiesSet(JpaRepositoryFactoryBean.java:132)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1873)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1822)
	... 45 common frames omitted
Caused by: java.lang.IllegalArgumentException: Failed to create query for method public abstract ma.foodplus.ordering.system.inventory.model.ProductStock ma.foodplus.ordering.system.inventory.repository.ProductStockRepository.findFirstByProductIdOrderByLastUpdatedDesc(java.lang.Long); No property 'lastUpdated' found for type 'ProductStock'
	at org.springframework.data.jpa.repository.query.PartTreeJpaQuery.<init>(PartTreeJpaQuery.java:107)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:128)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$CreateIfNotFoundQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:260)
	at org.springframework.data.jpa.repository.query.JpaQueryLookupStrategy$AbstractQueryLookupStrategy.resolveQuery(JpaQueryLookupStrategy.java:99)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.lookupQuery(QueryExecutorMethodInterceptor.java:116)
	... 57 common frames omitted
Caused by: org.springframework.data.mapping.PropertyReferenceException: No property 'lastUpdated' found for type 'ProductStock'
	at org.springframework.data.mapping.PropertyPath.<init>(PropertyPath.java:94)
	at org.springframework.data.mapping.PropertyPath.create(PropertyPath.java:455)
	at org.springframework.data.mapping.PropertyPath.create(PropertyPath.java:431)
	at org.springframework.data.mapping.PropertyPath.lambda$from$0(PropertyPath.java:384)
	at java.base/java.util.concurrent.ConcurrentMap.computeIfAbsent(ConcurrentMap.java:330)
	at org.springframework.data.mapping.PropertyPath.from(PropertyPath.java:366)
	at org.springframework.data.mapping.PropertyPath.from(PropertyPath.java:344)
	at org.springframework.data.repository.query.parser.OrderBySource.lambda$createOrder$2(OrderBySource.java:110)
	at java.base/java.util.Optional.map(Optional.java:260)
	at org.springframework.data.repository.query.parser.OrderBySource.createOrder(OrderBySource.java:108)
	at org.springframework.data.repository.query.parser.OrderBySource.<init>(OrderBySource.java:92)
	at org.springframework.data.repository.query.parser.PartTree$Predicate.<init>(PartTree.java:392)
	at org.springframework.data.repository.query.parser.PartTree.<init>(PartTree.java:103)
	at org.springframework.data.jpa.repository.query.PartTreeJpaQuery.<init>(PartTreeJpaQuery.java:101)
	... 61 common frames omitted
2025-06-14 13:18:15 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - Starting FoodPlusOrderingApplication using Java 21.0.7 with PID 265365 (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes started by louki in /home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system)
2025-06-14 13:18:15 [main] DEBUG m.f.o.s.FoodPlusOrderingApplication - Running with Spring Boot v3.5.0, Spring v6.2.7
2025-06-14 13:18:15 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - The following 1 profile is active: "dev"
2025-06-14 13:18:16 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-14 13:18:16 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-14 13:18:16 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 108 ms. Found 10 JPA repository interfaces.
2025-06-14 13:18:16 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-14 13:18:16 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-06-14 13:18:16 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.common.repository.CategoryTarifRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 13:18:16 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.CustomerGroupRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 13:18:16 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.CustomerRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 13:18:16 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.ProductCustomerRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 13:18:16 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.DepotRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 13:18:16 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.ProductStockRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 13:18:16 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.SiteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 13:18:16 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.order.repository.OrderRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 13:18:16 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.product.repository.ProductRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 13:18:16 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.promos.repository.PromotionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 13:18:16 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 18 ms. Found 0 Redis repository interfaces.
2025-06-14 13:18:17 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8087 (http)
2025-06-14 13:18:17 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-14 13:18:17 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.41]
2025-06-14 13:18:17 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-14 13:18:17 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1956 ms
2025-06-14 13:18:17 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-06-14 13:18:17 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.15.Final
2025-06-14 13:18:17 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-06-14 13:18:18 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-06-14 13:18:18 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@7c02b3cb
2025-06-14 13:18:18 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-06-14 13:18:18 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-06-14 13:18:18 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 17.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-06-14 13:18:18 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-06-14 13:18:19 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-06-14 13:18:19 [main] DEBUG org.hibernate.SQL - 
    set client_min_messages = WARNING
2025-06-14 13:18:19 [main] DEBUG org.hibernate.SQL - 
    alter table if exists categories 
       drop constraint if exists FKsaok720gsu4u2wrgbk10b5n8d
2025-06-14 13:18:19 [main] DEBUG org.hibernate.SQL - 
    alter table if exists customer_group_members 
       drop constraint if exists FKetr33gy3yxphaasg8pnk8wyvs
2025-06-14 13:18:19 [main] DEBUG org.hibernate.SQL - 
    alter table if exists customer_group_members 
       drop constraint if exists FKj7chtq65ntu6cwx5vtc3rngdp
2025-06-14 13:18:19 [main] DEBUG org.hibernate.SQL - 
    alter table if exists customers 
       drop constraint if exists FKdig1h8xu5vcu0rfcihvbh46wq
2025-06-14 13:18:19 [main] DEBUG org.hibernate.SQL - 
    alter table if exists depots 
       drop constraint if exists FK5qq91mnq7j5lemrap49cshimd
2025-06-14 13:18:19 [main] DEBUG org.hibernate.SQL - 
    alter table if exists order_item_applied_promotions 
       drop constraint if exists FK82i7jogqbstxwl46g1rywbwsu
2025-06-14 13:18:19 [main] DEBUG org.hibernate.SQL - 
    alter table if exists order_items 
       drop constraint if exists FKbioxgbv59vetrxe0ejfubep1w
2025-06-14 13:18:19 [main] DEBUG org.hibernate.SQL - 
    alter table if exists product_categories 
       drop constraint if exists FKd112rx0alycddsms029iifrih
2025-06-14 13:18:19 [main] DEBUG org.hibernate.SQL - 
    alter table if exists product_categories 
       drop constraint if exists FKlda9rad6s180ha3dl1ncsp8n7
2025-06-14 13:18:19 [main] DEBUG org.hibernate.SQL - 
    alter table if exists product_stocks 
       drop constraint if exists FKmcawg70vkgr4vfrsphtcoc8up
2025-06-14 13:18:19 [main] DEBUG org.hibernate.SQL - 
    alter table if exists products 
       drop constraint if exists FK53ooveoh14cvs7qns24gmlehh
2025-06-14 13:18:19 [main] DEBUG org.hibernate.SQL - 
    alter table if exists products_customer 
       drop constraint if exists FKnygquw0w0xvu9lfjpsbd6xmgv
2025-06-14 13:18:19 [main] DEBUG org.hibernate.SQL - 
    alter table if exists products_customer 
       drop constraint if exists FK4vdatfmkcw4aqwv41q569gq44
2025-06-14 13:18:19 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_conditions 
       drop constraint if exists FKjfph2mn5x5inav2a7wsxo2r2l
2025-06-14 13:18:19 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_customer_families 
       drop constraint if exists FKjy33meus9wkfyyp29kyxhaw3i
2025-06-14 13:18:19 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_customer_usage 
       drop constraint if exists FKtkdnuodmsbsskeejx4ksjgmsn
2025-06-14 13:18:19 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_dynamic_conditions 
       drop constraint if exists FKd2huyfw319bhk0frhvdh0v0ot
2025-06-14 13:18:19 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_excluded_categories 
       drop constraint if exists FKiamgbul5ugcmy9ewsemk31fng
2025-06-14 13:18:19 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_excluded_products 
       drop constraint if exists FK1s1aelilqwce11lxgop8yhud0
2025-06-14 13:18:19 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_lines 
       drop constraint if exists FKc6jg561k2bcyoja0im2kifdgb
2025-06-14 13:18:19 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_rules 
       drop constraint if exists FK6xcgfd4fvmkpqdlnln3opdmpg
2025-06-14 13:18:19 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_tiers 
       drop constraint if exists FK3iar32tvya9o51dqhtaf95ev6
2025-06-14 13:18:19 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_tiers 
       drop constraint if exists FKhw31w9eyoj371gg325124p1e9
2025-06-14 13:18:19 [main] DEBUG org.hibernate.SQL - 
    drop table if exists cat_tarif cascade
2025-06-14 13:18:19 [main] DEBUG org.hibernate.SQL - 
    drop table if exists categories cascade
2025-06-14 13:18:19 [main] DEBUG org.hibernate.SQL - 
    drop table if exists customer_group_members cascade
2025-06-14 13:18:19 [main] DEBUG org.hibernate.SQL - 
    drop table if exists customer_groups cascade
2025-06-14 13:18:19 [main] DEBUG org.hibernate.SQL - 
    drop table if exists customers cascade
2025-06-14 13:18:19 [main] DEBUG org.hibernate.SQL - 
    drop table if exists depots cascade
2025-06-14 13:18:19 [main] DEBUG org.hibernate.SQL - 
    drop table if exists order_item_applied_promotions cascade
2025-06-14 13:18:19 [main] DEBUG org.hibernate.SQL - 
    drop table if exists order_items cascade
2025-06-14 13:18:19 [main] DEBUG org.hibernate.SQL - 
    drop table if exists orders cascade
2025-06-14 13:18:19 [main] DEBUG org.hibernate.SQL - 
    drop table if exists product_categories cascade
2025-06-14 13:18:19 [main] DEBUG org.hibernate.SQL - 
    drop table if exists product_families cascade
2025-06-14 13:18:19 [main] DEBUG org.hibernate.SQL - 
    drop table if exists product_stocks cascade
2025-06-14 13:18:19 [main] DEBUG org.hibernate.SQL - 
    drop table if exists products cascade
2025-06-14 13:18:19 [main] DEBUG org.hibernate.SQL - 
    drop table if exists products_customer cascade
2025-06-14 13:18:19 [main] DEBUG org.hibernate.SQL - 
    drop table if exists promotion_conditions cascade
2025-06-14 13:18:19 [main] DEBUG org.hibernate.SQL - 
    drop table if exists promotion_customer_families cascade
2025-06-14 13:18:19 [main] DEBUG org.hibernate.SQL - 
    drop table if exists promotion_customer_usage cascade
2025-06-14 13:18:19 [main] DEBUG org.hibernate.SQL - 
    drop table if exists promotion_dynamic_conditions cascade
2025-06-14 13:18:19 [main] DEBUG org.hibernate.SQL - 
    drop table if exists promotion_excluded_categories cascade
2025-06-14 13:18:19 [main] DEBUG org.hibernate.SQL - 
    drop table if exists promotion_excluded_products cascade
2025-06-14 13:18:19 [main] DEBUG org.hibernate.SQL - 
    drop table if exists promotion_lines cascade
2025-06-14 13:18:19 [main] DEBUG org.hibernate.SQL - 
    drop table if exists promotion_rules cascade
2025-06-14 13:18:19 [main] DEBUG org.hibernate.SQL - 
    drop table if exists promotion_tiers cascade
2025-06-14 13:18:19 [main] DEBUG org.hibernate.SQL - 
    drop table if exists promotions cascade
2025-06-14 13:18:19 [main] DEBUG org.hibernate.SQL - 
    drop table if exists rewards cascade
2025-06-14 13:18:19 [main] DEBUG org.hibernate.SQL - 
    drop table if exists sites cascade
2025-06-14 13:18:19 [main] DEBUG org.hibernate.SQL - 
    create table cat_tarif (
        price_ttc numeric(24,6) not null,
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        updated_at timestamp(6) not null,
        description varchar(255) not null,
        primary key (id)
    )
2025-06-14 13:18:19 [main] DEBUG org.hibernate.SQL - 
    create table categories (
        is_active boolean not null,
        level integer not null,
        created_at timestamp(6) with time zone not null,
        id bigint generated by default as identity,
        parent_id bigint,
        updated_at timestamp(6) with time zone,
        description varchar(500),
        code varchar(255) not null unique,
        name varchar(255) not null,
        primary key (id)
    )
2025-06-14 13:18:19 [main] DEBUG org.hibernate.SQL - 
    create table customer_group_members (
        customer_id bigint not null,
        group_id bigint not null,
        primary key (customer_id, group_id)
    )
2025-06-14 13:18:19 [main] DEBUG org.hibernate.SQL - 
    create table customer_groups (
        created_at timestamp(6) with time zone not null,
        id bigint generated by default as identity,
        updated_at timestamp(6) with time zone,
        description varchar(255),
        name varchar(255) not null unique,
        primary key (id)
    )
2025-06-14 13:18:19 [main] DEBUG org.hibernate.SQL - 
    create table customers (
        annual_turnover numeric(38,2),
        average_order_value numeric(24,6),
        credit_limit numeric(24,6),
        credit_score integer,
        is_active boolean not null,
        is_vip boolean,
        loyalty_points integer,
        number_of_employees integer,
        outstanding_balance numeric(24,6),
        payment_term_days integer,
        total_orders integer,
        total_spent numeric(24,6),
        category_tarif_id bigint,
        contract_end_date timestamp(6) with time zone,
        contract_start_date timestamp(6) with time zone,
        created_at timestamp(6) with time zone not null,
        customer_since timestamp(6) with time zone,
        id bigint generated by default as identity,
        last_activity_date timestamp(6) with time zone,
        last_order_date timestamp(6) with time zone,
        last_payment_date timestamp(6) with time zone,
        updated_at timestamp(6) with time zone,
        address varchar(255),
        bank_account_info TEXT,
        business_activity varchar(255),
        city varchar(255),
        company_name varchar(255),
        contract_number varchar(255),
        contract_terms TEXT,
        contract_type varchar(255),
        country varchar(255),
        created_by varchar(255),
        credit_rating varchar(255),
        ct_num varchar(255) not null unique,
        customer_type varchar(255) not null check (customer_type in ('B2B','B2C')),
        delivery_terms TEXT,
        description varchar(255) not null,
        email varchar(255),
        ice varchar(255) not null,
        legal_form varchar(255),
        notes TEXT,
        payment_history TEXT,
        payment_terms TEXT,
        postal_code varchar(255),
        preferred_delivery_days varchar(255),
        preferred_delivery_time varchar(255),
        preferred_payment_method varchar(255),
        region varchar(255),
        registration_number varchar(255),
        special_conditions TEXT,
        special_handling_instructions TEXT,
        tax_id varchar(255),
        telecopie varchar(255),
        telephone varchar(255),
        updated_by varchar(255),
        vat_number varchar(255),
        primary key (id)
    )
2025-06-14 13:18:19 [main] DEBUG org.hibernate.SQL - 
    create table depots (
        capacity_cubic_meters float(53),
        is_active boolean,
        is_refrigerated boolean,
        security_level integer,
        created_at timestamp(6) with time zone not null,
        id bigint generated by default as identity,
        site_id bigint,
        updated_at timestamp(6) with time zone,
        access_restrictions varchar(255),
        depot_code varchar(255) not null unique,
        depot_type varchar(255) check (depot_type in ('MAIN_WAREHOUSE','DISTRIBUTION_CENTER','COLD_STORAGE','DRY_STORAGE','HAZARDOUS_MATERIALS','TEMPORARY_STORAGE','CROSS_DOCKING')),
        description varchar(255) not null,
        handling_equipment varchar(255),
        special_requirements TEXT,
        temperature_range varchar(255),
        primary key (id)
    )
2025-06-14 13:18:19 [main] DEBUG org.hibernate.SQL - 
    create table order_item_applied_promotions (
        order_item_id bigint not null,
        promotion_code varchar(255)
    )
2025-06-14 13:18:19 [main] DEBUG org.hibernate.SQL - 
    create table order_items (
        bulk_quantity_threshold integer,
        consumed_quantity integer not null,
        discount_amount numeric(38,2) not null,
        quantity integer not null,
        sku_points numeric(38,2),
        special_pricing boolean,
        tax_amount numeric(38,2) not null,
        total_price numeric(38,2) not null,
        unit_price numeric(38,2) not null,
        wholesale_price numeric(38,2),
        created_at timestamp(6) with time zone not null,
        id bigint generated by default as identity,
        order_id bigint not null,
        product_family_id bigint,
        product_id bigint not null,
        updated_at timestamp(6) with time zone,
        applied_promotion_code varchar(255),
        notes varchar(255),
        product_name varchar(255) not null,
        sku varchar(255),
        primary key (id)
    )
2025-06-14 13:18:19 [main] DEBUG org.hibernate.SQL - 
    create table orders (
        bulk_discount_percentage numeric(38,2),
        is_wholesale boolean not null,
        minimum_order_value numeric(38,2),
        shipping_cost numeric(38,2) not null,
        special_pricing_agreement boolean,
        subtotal numeric(38,2) not null,
        total numeric(38,2) not null,
        total_discount numeric(38,2) not null,
        total_tax numeric(38,2) not null,
        cancelled_at timestamp(6) with time zone,
        created_at timestamp(6) with time zone not null,
        customer_id bigint not null,
        delivered_at timestamp(6) with time zone,
        id bigint generated by default as identity,
        payment_due_date timestamp(6) with time zone,
        preferred_delivery_date timestamp(6) with time zone,
        refunded_at timestamp(6) with time zone,
        updated_at timestamp(6) with time zone,
        cancellation_reason varchar(255),
        contract_number varchar(255),
        created_by varchar(255),
        delivery_instructions varchar(255),
        internal_notes varchar(255),
        notes varchar(255),
        order_number varchar(255) not null unique,
        order_type varchar(255) not null check (order_type in ('B2B','B2C')),
        payment_method varchar(255) check (payment_method in ('CASH','CREDIT_CARD','DEBIT_CARD','MOBILE_PAYMENT','BANK_TRANSFER','CHECK','WIRE_TRANSFER','CREDIT_NOTE','LETTER_OF_CREDIT')),
        payment_notes varchar(255),
        payment_reference varchar(255),
        payment_status varchar(255) check (payment_status in ('PENDING','PARTIALLY_PAID','PAID','FAILED','REFUNDED','CANCELLED','ON_HOLD','IN_DISPUTE')),
        payment_terms varchar(255),
        po_number varchar(255),
        reference_number varchar(255),
        refund_reason varchar(255),
        shipping_address varchar(255),
        shipping_city varchar(255),
        shipping_country varchar(255),
        shipping_notes varchar(255),
        shipping_postal_code varchar(255),
        status varchar(255) not null check (status in ('DRAFT','PENDING','CONFIRMED','PREPARING','READY','DELIVERING','DELIVERED','CANCELLED','REFUNDED')),
        updated_by varchar(255),
        primary key (id)
    )
2025-06-14 13:18:19 [main] DEBUG org.hibernate.SQL - 
    create table product_categories (
        category_id bigint not null,
        product_id bigint not null
    )
2025-06-14 13:18:19 [main] DEBUG org.hibernate.SQL - 
    create table product_families (
        is_active boolean not null,
        created_at timestamp(6) with time zone not null,
        id bigint generated by default as identity,
        updated_at timestamp(6) with time zone,
        code varchar(255) not null unique,
        description varchar(255),
        name varchar(255) not null,
        primary key (id)
    )
2025-06-14 13:18:19 [main] DEBUG org.hibernate.SQL - 
    create table product_stocks (
        days_of_stock integer,
        expiry_date date,
        max_stock_level numeric(24,6),
        min_stock_level numeric(24,6),
        quantity numeric(24,6) not null,
        reorder_point numeric(24,6),
        reorder_quantity numeric(24,6),
        reserved_quantity numeric(24,6) not null,
        shelf_life_days integer,
        unit_cost numeric(24,6) not null,
        created_at timestamp(6) with time zone not null,
        depot_id bigint not null,
        id bigint generated by default as identity,
        last_purchase_date timestamp(6) with time zone,
        last_sale_date timestamp(6) with time zone,
        product_id bigint not null,
        updated_at timestamp(6) with time zone,
        storage_conditions varchar(100),
        notes varchar(500),
        quality_notes varchar(1000),
        batch_number varchar(255),
        depot_name varchar(255),
        location_code varchar(255),
        product_name varchar(255),
        quality_status varchar(255) not null check (quality_status in ('INSPECTED','INSPECTION_REQUIRED','QUARANTINED','DAMAGED','RECALLED')),
        primary key (id)
    )
2025-06-14 13:18:19 [main] DEBUG org.hibernate.SQL - 
    create table products (
        b2b_contract_discount_percentage numeric(5,2),
        b2b_contract_required boolean,
        b2b_credit_terms integer,
        b2b_custom_pricing_enabled boolean,
        b2b_delivery_lead_time integer,
        b2b_minimum_order_value numeric(19,2),
        b2b_volume_discount_enabled boolean,
        b2c_display_in_catalog boolean,
        b2c_featured boolean,
        b2c_loyalty_points_multiplier numeric(5,2),
        b2c_promo_price numeric(19,2),
        b2c_rating numeric(3,2),
        b2c_retail_price numeric(19,2),
        b2c_review_count integer,
        bulk_discount_percentage numeric(5,2),
        bulk_discount_threshold integer,
        bulk_package_size integer,
        deliverable boolean not null,
        inactive boolean not null,
        is_bulk_item boolean not null,
        is_perishable boolean not null,
        is_wholesale_only boolean not null,
        maximum_order_quantity integer,
        minimum_order_quantity integer,
        package_quantity integer,
        price_including_tax numeric(10,2) not null,
        promo_sku_points numeric(10,2) not null,
        requires_approval boolean not null,
        requires_cold_storage boolean not null,
        requires_contract boolean not null,
        sale_price numeric(10,2) not null,
        tax_rate numeric(5,2),
        unit_price numeric(38,2) not null,
        vendable boolean not null,
        visible boolean not null,
        weight numeric(10,3),
        wholesale_discount_percentage numeric(5,2),
        wholesale_minimum_quantity integer,
        wholesale_price numeric(10,2),
        wholesale_tier_1_price numeric(10,2),
        wholesale_tier_1_quantity integer,
        wholesale_tier_2_price numeric(10,2),
        wholesale_tier_2_quantity integer,
        wholesale_tier_3_price numeric(10,2),
        wholesale_tier_3_quantity integer,
        b2c_promo_end_date timestamp(6) with time zone,
        b2c_promo_start_date timestamp(6) with time zone,
        created_at timestamp(6) with time zone,
        id bigint generated by default as identity,
        updated_at timestamp(6) with time zone,
        weight_unit varchar(10),
        bulk_package_unit varchar(20),
        stock_tracking varchar(20) not null check (stock_tracking in ('Aucun','SERIALIZED','CMUP','FIFO','LIFO','PAR_LOT')),
        barcode varchar(36) unique,
        dimensions varchar(50),
        package_size varchar(50),
        sale_unit varchar(50),
        seasonality varchar(50),
        supplier_code varchar(50),
        target_market varchar(50),
        country_of_origin varchar(100),
        supplier_name varchar(100),
        certification varchar(200),
        photo varchar(500),
        title varchar(500) not null,
        availability_schedule jsonb,
        b2b_payment_methods varchar(255),
        custom_attributes jsonb,
        customer_segments varchar(255),
        description TEXT not null,
        family_code varchar(255),
        reference varchar(255) not null unique,
        sku varchar(255) not null unique,
        additional_photos TEXT[],
        primary key (id)
    )
2025-06-14 13:18:19 [main] DEBUG org.hibernate.SQL - 
    create table products_customer (
        coef numeric(12,2),
        is_active boolean,
        prix_ttc numeric(16,6) not null,
        prix_ven_nouv numeric(16,6),
        qte_mont integer,
        remise numeric(16,6),
        remise_nouv numeric(16,6),
        created_at timestamp(6) with time zone,
        id bigint generated by default as identity,
        reference_customer bigint not null,
        reference_product bigint not null,
        updated_at timestamp(6) with time zone,
        category varchar(50),
        primary key (id)
    )
2025-06-14 13:18:19 [main] DEBUG org.hibernate.SQL - 
    create table promotion_conditions (
        required_loyalty_level integer,
        customer_group_id bigint,
        id bigint generated by default as identity,
        rule_id bigint,
        attribute varchar(255) not null,
        condition_type varchar(255) not null check (condition_type in ('CART_SUBTOTAL','PRODUCT_IN_CART','CUSTOMER_IN_GROUP','TIME_OF_DAY','DAY_OF_WEEK','CUSTOMER_LOYALTY_LEVEL','PAYMENT_METHOD')),
        entity_id varchar(255),
        entity_type varchar(255),
        operator varchar(255) not null check (operator in ('EQUAL','NOT_EQUAL','GREATER_THAN','GREATER_THAN_OR_EQUAL','LESS_THAN','LESS_THAN_OR_EQUAL','CONTAINS','NOT_CONTAINS','IN','NOT_IN')),
        payment_method varchar(255),
        value varchar(255) not null,
        primary key (id)
    )
2025-06-14 13:18:19 [main] DEBUG org.hibernate.SQL - 
    create table promotion_customer_families (
        end_date timestamp(6) with time zone,
        id bigint generated by default as identity,
        promotion_id bigint,
        start_date timestamp(6) with time zone,
        customer_family_code varchar(255) not null,
        primary key (id)
    )
2025-06-14 13:18:19 [main] DEBUG org.hibernate.SQL - 
    create table promotion_customer_usage (
        usage_count integer,
        customer_id bigint not null,
        promotion_id bigint not null,
        primary key (customer_id, promotion_id)
    )
2025-06-14 13:18:19 [main] DEBUG org.hibernate.SQL - 
    create table promotion_dynamic_conditions (
        is_active boolean not null,
        threshold float(53),
        id bigint generated by default as identity,
        promotion_id bigint,
        condition_type varchar(255) not null,
        condition_value varchar(255) not null,
        description varchar(255),
        entity_id varchar(255),
        entity_type varchar(255),
        operator varchar(255) not null,
        primary key (id)
    )
2025-06-14 13:18:19 [main] DEBUG org.hibernate.SQL - 
    create table promotion_excluded_categories (
        category_id bigint,
        promotion_id bigint not null
    )
2025-06-14 13:18:19 [main] DEBUG org.hibernate.SQL - 
    create table promotion_excluded_products (
        product_id bigint,
        promotion_id bigint not null
    )
2025-06-14 13:18:19 [main] DEBUG org.hibernate.SQL - 
    create table promotion_lines (
        free_product_id bigint,
        id bigint generated by default as identity,
        paid_product_id bigint,
        promotion_id bigint,
        free_family_code varchar(255),
        paid_family_code varchar(255),
        primary key (id)
    )
2025-06-14 13:18:19 [main] DEBUG org.hibernate.SQL - 
    create table promotion_rules (
        repetition integer,
        id bigint generated by default as identity,
        promotion_id bigint,
        breakpoint_type varchar(255) not null check (breakpoint_type in ('AMOUNT','QUANTITY','SKU_POINTS')),
        calculation_method varchar(255) not null check (calculation_method in ('BRACKET','CUMULATIVE')),
        condition_logic varchar(255) not null check (condition_logic in ('ALL','ANY')),
        name varchar(255) not null,
        primary key (id)
    )
2025-06-14 13:18:19 [main] DEBUG org.hibernate.SQL - 
    create table promotion_tiers (
        minimum_threshold numeric(38,2) not null,
        id bigint generated by default as identity,
        reward_id bigint not null unique,
        rule_id bigint,
        primary key (id)
    )
2025-06-14 13:18:19 [main] DEBUG org.hibernate.SQL - 
    create table promotions (
        apply_first_matching_rule_only boolean,
        current_usage_count integer,
        index_discount integer,
        is_active boolean not null,
        is_exclusive boolean not null,
        max_usage_count integer,
        max_usage_per_customer integer,
        min_purchase_amount numeric(38,2),
        priority integer not null check (priority>=0),
        skip_to_sequence integer,
        end_date timestamp(6) with time zone not null,
        id bigint generated by default as identity,
        start_date timestamp(6) with time zone not null,
        combinability_group varchar(255),
        customer_group varchar(255),
        description varchar(255),
        name varchar(255) not null,
        promo_code varchar(255) not null unique,
        primary key (id)
    )
2025-06-14 13:18:19 [main] DEBUG org.hibernate.SQL - 
    create table rewards (
        value numeric(38,2) not null,
        id bigint generated by default as identity,
        target_entity_id bigint,
        reward_type varchar(255) not null check (reward_type in ('PERCENT_DISCOUNT_ON_ITEM','FIXED_DISCOUNT_ON_CART','FREE_PRODUCT')),
        target_entity_type varchar(255),
        primary key (id)
    )
2025-06-14 13:18:19 [main] DEBUG org.hibernate.SQL - 
    create table sites (
        capacity_sqm float(53),
        is_active boolean,
        created_at timestamp(6) with time zone not null,
        id bigint generated by default as identity,
        updated_at timestamp(6) with time zone,
        address_line1 varchar(255),
        city varchar(255),
        contact_email varchar(255),
        contact_phone varchar(255),
        country varchar(255),
        description varchar(255) not null,
        postal_code varchar(255),
        site_code varchar(255) not null unique,
        primary key (id)
    )
2025-06-14 13:18:19 [main] DEBUG org.hibernate.SQL - 
    alter table if exists categories 
       add constraint FKsaok720gsu4u2wrgbk10b5n8d 
       foreign key (parent_id) 
       references categories
2025-06-14 13:18:19 [main] DEBUG org.hibernate.SQL - 
    alter table if exists customer_group_members 
       add constraint FKetr33gy3yxphaasg8pnk8wyvs 
       foreign key (group_id) 
       references customer_groups
2025-06-14 13:18:19 [main] DEBUG org.hibernate.SQL - 
    alter table if exists customer_group_members 
       add constraint FKj7chtq65ntu6cwx5vtc3rngdp 
       foreign key (customer_id) 
       references customers
2025-06-14 13:18:19 [main] DEBUG org.hibernate.SQL - 
    alter table if exists customers 
       add constraint FKdig1h8xu5vcu0rfcihvbh46wq 
       foreign key (category_tarif_id) 
       references cat_tarif
2025-06-14 13:18:19 [main] DEBUG org.hibernate.SQL - 
    alter table if exists depots 
       add constraint FK5qq91mnq7j5lemrap49cshimd 
       foreign key (site_id) 
       references sites
2025-06-14 13:18:19 [main] DEBUG org.hibernate.SQL - 
    alter table if exists order_item_applied_promotions 
       add constraint FK82i7jogqbstxwl46g1rywbwsu 
       foreign key (order_item_id) 
       references order_items
2025-06-14 13:18:19 [main] DEBUG org.hibernate.SQL - 
    alter table if exists order_items 
       add constraint FKbioxgbv59vetrxe0ejfubep1w 
       foreign key (order_id) 
       references orders
2025-06-14 13:18:19 [main] DEBUG org.hibernate.SQL - 
    alter table if exists product_categories 
       add constraint FKd112rx0alycddsms029iifrih 
       foreign key (category_id) 
       references categories
2025-06-14 13:18:19 [main] DEBUG org.hibernate.SQL - 
    alter table if exists product_categories 
       add constraint FKlda9rad6s180ha3dl1ncsp8n7 
       foreign key (product_id) 
       references products
2025-06-14 13:18:19 [main] DEBUG org.hibernate.SQL - 
    alter table if exists product_stocks 
       add constraint FKmcawg70vkgr4vfrsphtcoc8up 
       foreign key (depot_id) 
       references depots
2025-06-14 13:18:19 [main] DEBUG org.hibernate.SQL - 
    alter table if exists products 
       add constraint FK53ooveoh14cvs7qns24gmlehh 
       foreign key (family_code) 
       references product_families (code)
2025-06-14 13:18:19 [main] DEBUG org.hibernate.SQL - 
    alter table if exists products_customer 
       add constraint FKnygquw0w0xvu9lfjpsbd6xmgv 
       foreign key (reference_customer) 
       references customers
2025-06-14 13:18:19 [main] DEBUG org.hibernate.SQL - 
    alter table if exists products_customer 
       add constraint FK4vdatfmkcw4aqwv41q569gq44 
       foreign key (reference_product) 
       references products
2025-06-14 13:18:19 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_conditions 
       add constraint FKjfph2mn5x5inav2a7wsxo2r2l 
       foreign key (rule_id) 
       references promotion_rules
2025-06-14 13:18:19 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_customer_families 
       add constraint FKjy33meus9wkfyyp29kyxhaw3i 
       foreign key (promotion_id) 
       references promotions
2025-06-14 13:18:19 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_customer_usage 
       add constraint FKtkdnuodmsbsskeejx4ksjgmsn 
       foreign key (promotion_id) 
       references promotions
2025-06-14 13:18:19 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_dynamic_conditions 
       add constraint FKd2huyfw319bhk0frhvdh0v0ot 
       foreign key (promotion_id) 
       references promotions
2025-06-14 13:18:19 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_excluded_categories 
       add constraint FKiamgbul5ugcmy9ewsemk31fng 
       foreign key (promotion_id) 
       references promotions
2025-06-14 13:18:19 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_excluded_products 
       add constraint FK1s1aelilqwce11lxgop8yhud0 
       foreign key (promotion_id) 
       references promotions
2025-06-14 13:18:19 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_lines 
       add constraint FKc6jg561k2bcyoja0im2kifdgb 
       foreign key (promotion_id) 
       references promotions
2025-06-14 13:18:19 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_rules 
       add constraint FK6xcgfd4fvmkpqdlnln3opdmpg 
       foreign key (promotion_id) 
       references promotions
2025-06-14 13:18:19 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_tiers 
       add constraint FK3iar32tvya9o51dqhtaf95ev6 
       foreign key (reward_id) 
       references rewards
2025-06-14 13:18:19 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_tiers 
       add constraint FKhw31w9eyoj371gg325124p1e9 
       foreign key (rule_id) 
       references promotion_rules
2025-06-14 13:18:20 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-06-14 13:18:20 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-06-14 13:18:21 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'orderController' defined in file [/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/ma/foodplus/ordering/system/order/controller/OrderController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'orderServiceImpl' defined in file [/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/ma/foodplus/ordering/system/order/service/impl/OrderServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 1: No qualifying bean of type 'ma.foodplus.ordering.system.order.mapper.OrderMapper' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
2025-06-14 13:18:21 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-06-14 13:18:21 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-06-14 13:18:21 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-06-14 13:18:21 [main] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-06-14 13:18:21 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-06-14 13:18:21 [main] ERROR o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 1 of constructor in ma.foodplus.ordering.system.order.service.impl.OrderServiceImpl required a bean of type 'ma.foodplus.ordering.system.order.mapper.OrderMapper' that could not be found.


Action:

Consider defining a bean of type 'ma.foodplus.ordering.system.order.mapper.OrderMapper' in your configuration.

2025-06-14 13:20:16 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - Starting FoodPlusOrderingApplication using Java 21.0.7 with PID 266970 (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes started by louki in /home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system)
2025-06-14 13:20:16 [main] DEBUG m.f.o.s.FoodPlusOrderingApplication - Running with Spring Boot v3.5.0, Spring v6.2.7
2025-06-14 13:20:16 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - The following 1 profile is active: "dev"
2025-06-14 13:20:17 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-14 13:20:17 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-14 13:20:17 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 120 ms. Found 10 JPA repository interfaces.
2025-06-14 13:20:17 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-14 13:20:17 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-06-14 13:20:17 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.common.repository.CategoryTarifRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 13:20:17 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.CustomerGroupRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 13:20:17 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.CustomerRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 13:20:17 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.ProductCustomerRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 13:20:17 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.DepotRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 13:20:17 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.ProductStockRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 13:20:17 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.SiteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 13:20:17 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.order.repository.OrderRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 13:20:17 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.product.repository.ProductRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 13:20:17 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.promos.repository.PromotionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 13:20:17 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 31 ms. Found 0 Redis repository interfaces.
2025-06-14 13:20:18 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8087 (http)
2025-06-14 13:20:18 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-14 13:20:18 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.41]
2025-06-14 13:20:18 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-14 13:20:18 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2509 ms
2025-06-14 13:20:19 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-06-14 13:20:19 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.15.Final
2025-06-14 13:20:19 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-06-14 13:20:19 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-06-14 13:20:19 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@342394b3
2025-06-14 13:20:19 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-06-14 13:20:19 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-06-14 13:20:19 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 17.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-06-14 13:20:19 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-06-14 13:20:21 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-06-14 13:20:21 [main] DEBUG org.hibernate.SQL - 
    set client_min_messages = WARNING
2025-06-14 13:20:21 [main] DEBUG org.hibernate.SQL - 
    alter table if exists categories 
       drop constraint if exists FKsaok720gsu4u2wrgbk10b5n8d
2025-06-14 13:20:21 [main] DEBUG org.hibernate.SQL - 
    alter table if exists customer_group_members 
       drop constraint if exists FKetr33gy3yxphaasg8pnk8wyvs
2025-06-14 13:20:21 [main] DEBUG org.hibernate.SQL - 
    alter table if exists customer_group_members 
       drop constraint if exists FKj7chtq65ntu6cwx5vtc3rngdp
2025-06-14 13:20:21 [main] DEBUG org.hibernate.SQL - 
    alter table if exists customers 
       drop constraint if exists FKdig1h8xu5vcu0rfcihvbh46wq
2025-06-14 13:20:21 [main] DEBUG org.hibernate.SQL - 
    alter table if exists depots 
       drop constraint if exists FK5qq91mnq7j5lemrap49cshimd
2025-06-14 13:20:21 [main] DEBUG org.hibernate.SQL - 
    alter table if exists order_item_applied_promotions 
       drop constraint if exists FK82i7jogqbstxwl46g1rywbwsu
2025-06-14 13:20:21 [main] DEBUG org.hibernate.SQL - 
    alter table if exists order_items 
       drop constraint if exists FKbioxgbv59vetrxe0ejfubep1w
2025-06-14 13:20:21 [main] DEBUG org.hibernate.SQL - 
    alter table if exists product_categories 
       drop constraint if exists FKd112rx0alycddsms029iifrih
2025-06-14 13:20:21 [main] DEBUG org.hibernate.SQL - 
    alter table if exists product_categories 
       drop constraint if exists FKlda9rad6s180ha3dl1ncsp8n7
2025-06-14 13:20:21 [main] DEBUG org.hibernate.SQL - 
    alter table if exists product_stocks 
       drop constraint if exists FKmcawg70vkgr4vfrsphtcoc8up
2025-06-14 13:20:21 [main] DEBUG org.hibernate.SQL - 
    alter table if exists products 
       drop constraint if exists FK53ooveoh14cvs7qns24gmlehh
2025-06-14 13:20:21 [main] DEBUG org.hibernate.SQL - 
    alter table if exists products_customer 
       drop constraint if exists FKnygquw0w0xvu9lfjpsbd6xmgv
2025-06-14 13:20:21 [main] DEBUG org.hibernate.SQL - 
    alter table if exists products_customer 
       drop constraint if exists FK4vdatfmkcw4aqwv41q569gq44
2025-06-14 13:20:21 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_conditions 
       drop constraint if exists FKjfph2mn5x5inav2a7wsxo2r2l
2025-06-14 13:20:21 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_customer_families 
       drop constraint if exists FKjy33meus9wkfyyp29kyxhaw3i
2025-06-14 13:20:21 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_customer_usage 
       drop constraint if exists FKtkdnuodmsbsskeejx4ksjgmsn
2025-06-14 13:20:21 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_dynamic_conditions 
       drop constraint if exists FKd2huyfw319bhk0frhvdh0v0ot
2025-06-14 13:20:21 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_excluded_categories 
       drop constraint if exists FKiamgbul5ugcmy9ewsemk31fng
2025-06-14 13:20:21 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_excluded_products 
       drop constraint if exists FK1s1aelilqwce11lxgop8yhud0
2025-06-14 13:20:21 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_lines 
       drop constraint if exists FKc6jg561k2bcyoja0im2kifdgb
2025-06-14 13:20:21 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_rules 
       drop constraint if exists FK6xcgfd4fvmkpqdlnln3opdmpg
2025-06-14 13:20:21 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_tiers 
       drop constraint if exists FK3iar32tvya9o51dqhtaf95ev6
2025-06-14 13:20:21 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_tiers 
       drop constraint if exists FKhw31w9eyoj371gg325124p1e9
2025-06-14 13:20:21 [main] DEBUG org.hibernate.SQL - 
    drop table if exists cat_tarif cascade
2025-06-14 13:20:21 [main] DEBUG org.hibernate.SQL - 
    drop table if exists categories cascade
2025-06-14 13:20:21 [main] DEBUG org.hibernate.SQL - 
    drop table if exists customer_group_members cascade
2025-06-14 13:20:21 [main] DEBUG org.hibernate.SQL - 
    drop table if exists customer_groups cascade
2025-06-14 13:20:21 [main] DEBUG org.hibernate.SQL - 
    drop table if exists customers cascade
2025-06-14 13:20:21 [main] DEBUG org.hibernate.SQL - 
    drop table if exists depots cascade
2025-06-14 13:20:21 [main] DEBUG org.hibernate.SQL - 
    drop table if exists order_item_applied_promotions cascade
2025-06-14 13:20:21 [main] DEBUG org.hibernate.SQL - 
    drop table if exists order_items cascade
2025-06-14 13:20:21 [main] DEBUG org.hibernate.SQL - 
    drop table if exists orders cascade
2025-06-14 13:20:21 [main] DEBUG org.hibernate.SQL - 
    drop table if exists product_categories cascade
2025-06-14 13:20:21 [main] DEBUG org.hibernate.SQL - 
    drop table if exists product_families cascade
2025-06-14 13:20:21 [main] DEBUG org.hibernate.SQL - 
    drop table if exists product_stocks cascade
2025-06-14 13:20:21 [main] DEBUG org.hibernate.SQL - 
    drop table if exists products cascade
2025-06-14 13:20:21 [main] DEBUG org.hibernate.SQL - 
    drop table if exists products_customer cascade
2025-06-14 13:20:21 [main] DEBUG org.hibernate.SQL - 
    drop table if exists promotion_conditions cascade
2025-06-14 13:20:21 [main] DEBUG org.hibernate.SQL - 
    drop table if exists promotion_customer_families cascade
2025-06-14 13:20:21 [main] DEBUG org.hibernate.SQL - 
    drop table if exists promotion_customer_usage cascade
2025-06-14 13:20:21 [main] DEBUG org.hibernate.SQL - 
    drop table if exists promotion_dynamic_conditions cascade
2025-06-14 13:20:21 [main] DEBUG org.hibernate.SQL - 
    drop table if exists promotion_excluded_categories cascade
2025-06-14 13:20:21 [main] DEBUG org.hibernate.SQL - 
    drop table if exists promotion_excluded_products cascade
2025-06-14 13:20:21 [main] DEBUG org.hibernate.SQL - 
    drop table if exists promotion_lines cascade
2025-06-14 13:20:21 [main] DEBUG org.hibernate.SQL - 
    drop table if exists promotion_rules cascade
2025-06-14 13:20:21 [main] DEBUG org.hibernate.SQL - 
    drop table if exists promotion_tiers cascade
2025-06-14 13:20:21 [main] DEBUG org.hibernate.SQL - 
    drop table if exists promotions cascade
2025-06-14 13:20:21 [main] DEBUG org.hibernate.SQL - 
    drop table if exists rewards cascade
2025-06-14 13:20:21 [main] DEBUG org.hibernate.SQL - 
    drop table if exists sites cascade
2025-06-14 13:20:21 [main] DEBUG org.hibernate.SQL - 
    create table cat_tarif (
        price_ttc numeric(24,6) not null,
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        updated_at timestamp(6) not null,
        description varchar(255) not null,
        primary key (id)
    )
2025-06-14 13:20:21 [main] DEBUG org.hibernate.SQL - 
    create table categories (
        is_active boolean not null,
        level integer not null,
        created_at timestamp(6) with time zone not null,
        id bigint generated by default as identity,
        parent_id bigint,
        updated_at timestamp(6) with time zone,
        description varchar(500),
        code varchar(255) not null unique,
        name varchar(255) not null,
        primary key (id)
    )
2025-06-14 13:20:21 [main] DEBUG org.hibernate.SQL - 
    create table customer_group_members (
        customer_id bigint not null,
        group_id bigint not null,
        primary key (customer_id, group_id)
    )
2025-06-14 13:20:21 [main] DEBUG org.hibernate.SQL - 
    create table customer_groups (
        created_at timestamp(6) with time zone not null,
        id bigint generated by default as identity,
        updated_at timestamp(6) with time zone,
        description varchar(255),
        name varchar(255) not null unique,
        primary key (id)
    )
2025-06-14 13:20:21 [main] DEBUG org.hibernate.SQL - 
    create table customers (
        annual_turnover numeric(38,2),
        average_order_value numeric(24,6),
        credit_limit numeric(24,6),
        credit_score integer,
        is_active boolean not null,
        is_vip boolean,
        loyalty_points integer,
        number_of_employees integer,
        outstanding_balance numeric(24,6),
        payment_term_days integer,
        total_orders integer,
        total_spent numeric(24,6),
        category_tarif_id bigint,
        contract_end_date timestamp(6) with time zone,
        contract_start_date timestamp(6) with time zone,
        created_at timestamp(6) with time zone not null,
        customer_since timestamp(6) with time zone,
        id bigint generated by default as identity,
        last_activity_date timestamp(6) with time zone,
        last_order_date timestamp(6) with time zone,
        last_payment_date timestamp(6) with time zone,
        updated_at timestamp(6) with time zone,
        address varchar(255),
        bank_account_info TEXT,
        business_activity varchar(255),
        city varchar(255),
        company_name varchar(255),
        contract_number varchar(255),
        contract_terms TEXT,
        contract_type varchar(255),
        country varchar(255),
        created_by varchar(255),
        credit_rating varchar(255),
        ct_num varchar(255) not null unique,
        customer_type varchar(255) not null check (customer_type in ('B2B','B2C')),
        delivery_terms TEXT,
        description varchar(255) not null,
        email varchar(255),
        ice varchar(255) not null,
        legal_form varchar(255),
        notes TEXT,
        payment_history TEXT,
        payment_terms TEXT,
        postal_code varchar(255),
        preferred_delivery_days varchar(255),
        preferred_delivery_time varchar(255),
        preferred_payment_method varchar(255),
        region varchar(255),
        registration_number varchar(255),
        special_conditions TEXT,
        special_handling_instructions TEXT,
        tax_id varchar(255),
        telecopie varchar(255),
        telephone varchar(255),
        updated_by varchar(255),
        vat_number varchar(255),
        primary key (id)
    )
2025-06-14 13:20:21 [main] DEBUG org.hibernate.SQL - 
    create table depots (
        capacity_cubic_meters float(53),
        is_active boolean,
        is_refrigerated boolean,
        security_level integer,
        created_at timestamp(6) with time zone not null,
        id bigint generated by default as identity,
        site_id bigint,
        updated_at timestamp(6) with time zone,
        access_restrictions varchar(255),
        depot_code varchar(255) not null unique,
        depot_type varchar(255) check (depot_type in ('MAIN_WAREHOUSE','DISTRIBUTION_CENTER','COLD_STORAGE','DRY_STORAGE','HAZARDOUS_MATERIALS','TEMPORARY_STORAGE','CROSS_DOCKING')),
        description varchar(255) not null,
        handling_equipment varchar(255),
        special_requirements TEXT,
        temperature_range varchar(255),
        primary key (id)
    )
2025-06-14 13:20:21 [main] DEBUG org.hibernate.SQL - 
    create table order_item_applied_promotions (
        order_item_id bigint not null,
        promotion_code varchar(255)
    )
2025-06-14 13:20:21 [main] DEBUG org.hibernate.SQL - 
    create table order_items (
        bulk_quantity_threshold integer,
        consumed_quantity integer not null,
        discount_amount numeric(38,2) not null,
        quantity integer not null,
        sku_points numeric(38,2),
        special_pricing boolean,
        tax_amount numeric(38,2) not null,
        total_price numeric(38,2) not null,
        unit_price numeric(38,2) not null,
        wholesale_price numeric(38,2),
        created_at timestamp(6) with time zone not null,
        id bigint generated by default as identity,
        order_id bigint not null,
        product_family_id bigint,
        product_id bigint not null,
        updated_at timestamp(6) with time zone,
        applied_promotion_code varchar(255),
        notes varchar(255),
        product_name varchar(255) not null,
        sku varchar(255),
        primary key (id)
    )
2025-06-14 13:20:21 [main] DEBUG org.hibernate.SQL - 
    create table orders (
        bulk_discount_percentage numeric(38,2),
        is_wholesale boolean not null,
        minimum_order_value numeric(38,2),
        shipping_cost numeric(38,2) not null,
        special_pricing_agreement boolean,
        subtotal numeric(38,2) not null,
        total numeric(38,2) not null,
        total_discount numeric(38,2) not null,
        total_tax numeric(38,2) not null,
        cancelled_at timestamp(6) with time zone,
        created_at timestamp(6) with time zone not null,
        customer_id bigint not null,
        delivered_at timestamp(6) with time zone,
        id bigint generated by default as identity,
        payment_due_date timestamp(6) with time zone,
        preferred_delivery_date timestamp(6) with time zone,
        refunded_at timestamp(6) with time zone,
        updated_at timestamp(6) with time zone,
        cancellation_reason varchar(255),
        contract_number varchar(255),
        created_by varchar(255),
        delivery_instructions varchar(255),
        internal_notes varchar(255),
        notes varchar(255),
        order_number varchar(255) not null unique,
        order_type varchar(255) not null check (order_type in ('B2B','B2C')),
        payment_method varchar(255) check (payment_method in ('CASH','CREDIT_CARD','DEBIT_CARD','MOBILE_PAYMENT','BANK_TRANSFER','CHECK','WIRE_TRANSFER','CREDIT_NOTE','LETTER_OF_CREDIT')),
        payment_notes varchar(255),
        payment_reference varchar(255),
        payment_status varchar(255) check (payment_status in ('PENDING','PARTIALLY_PAID','PAID','FAILED','REFUNDED','CANCELLED','ON_HOLD','IN_DISPUTE')),
        payment_terms varchar(255),
        po_number varchar(255),
        reference_number varchar(255),
        refund_reason varchar(255),
        shipping_address varchar(255),
        shipping_city varchar(255),
        shipping_country varchar(255),
        shipping_notes varchar(255),
        shipping_postal_code varchar(255),
        status varchar(255) not null check (status in ('DRAFT','PENDING','CONFIRMED','PREPARING','READY','DELIVERING','DELIVERED','CANCELLED','REFUNDED')),
        updated_by varchar(255),
        primary key (id)
    )
2025-06-14 13:20:21 [main] DEBUG org.hibernate.SQL - 
    create table product_categories (
        category_id bigint not null,
        product_id bigint not null
    )
2025-06-14 13:20:21 [main] DEBUG org.hibernate.SQL - 
    create table product_families (
        is_active boolean not null,
        created_at timestamp(6) with time zone not null,
        id bigint generated by default as identity,
        updated_at timestamp(6) with time zone,
        code varchar(255) not null unique,
        description varchar(255),
        name varchar(255) not null,
        primary key (id)
    )
2025-06-14 13:20:21 [main] DEBUG org.hibernate.SQL - 
    create table product_stocks (
        days_of_stock integer,
        expiry_date date,
        max_stock_level numeric(24,6),
        min_stock_level numeric(24,6),
        quantity numeric(24,6) not null,
        reorder_point numeric(24,6),
        reorder_quantity numeric(24,6),
        reserved_quantity numeric(24,6) not null,
        shelf_life_days integer,
        unit_cost numeric(24,6) not null,
        created_at timestamp(6) with time zone not null,
        depot_id bigint not null,
        id bigint generated by default as identity,
        last_purchase_date timestamp(6) with time zone,
        last_sale_date timestamp(6) with time zone,
        product_id bigint not null,
        updated_at timestamp(6) with time zone,
        storage_conditions varchar(100),
        notes varchar(500),
        quality_notes varchar(1000),
        batch_number varchar(255),
        depot_name varchar(255),
        location_code varchar(255),
        product_name varchar(255),
        quality_status varchar(255) not null check (quality_status in ('INSPECTED','INSPECTION_REQUIRED','QUARANTINED','DAMAGED','RECALLED')),
        primary key (id)
    )
2025-06-14 13:20:21 [main] DEBUG org.hibernate.SQL - 
    create table products (
        b2b_contract_discount_percentage numeric(5,2),
        b2b_contract_required boolean,
        b2b_credit_terms integer,
        b2b_custom_pricing_enabled boolean,
        b2b_delivery_lead_time integer,
        b2b_minimum_order_value numeric(19,2),
        b2b_volume_discount_enabled boolean,
        b2c_display_in_catalog boolean,
        b2c_featured boolean,
        b2c_loyalty_points_multiplier numeric(5,2),
        b2c_promo_price numeric(19,2),
        b2c_rating numeric(3,2),
        b2c_retail_price numeric(19,2),
        b2c_review_count integer,
        bulk_discount_percentage numeric(5,2),
        bulk_discount_threshold integer,
        bulk_package_size integer,
        deliverable boolean not null,
        inactive boolean not null,
        is_bulk_item boolean not null,
        is_perishable boolean not null,
        is_wholesale_only boolean not null,
        maximum_order_quantity integer,
        minimum_order_quantity integer,
        package_quantity integer,
        price_including_tax numeric(10,2) not null,
        promo_sku_points numeric(10,2) not null,
        requires_approval boolean not null,
        requires_cold_storage boolean not null,
        requires_contract boolean not null,
        sale_price numeric(10,2) not null,
        tax_rate numeric(5,2),
        unit_price numeric(38,2) not null,
        vendable boolean not null,
        visible boolean not null,
        weight numeric(10,3),
        wholesale_discount_percentage numeric(5,2),
        wholesale_minimum_quantity integer,
        wholesale_price numeric(10,2),
        wholesale_tier_1_price numeric(10,2),
        wholesale_tier_1_quantity integer,
        wholesale_tier_2_price numeric(10,2),
        wholesale_tier_2_quantity integer,
        wholesale_tier_3_price numeric(10,2),
        wholesale_tier_3_quantity integer,
        b2c_promo_end_date timestamp(6) with time zone,
        b2c_promo_start_date timestamp(6) with time zone,
        created_at timestamp(6) with time zone,
        id bigint generated by default as identity,
        updated_at timestamp(6) with time zone,
        weight_unit varchar(10),
        bulk_package_unit varchar(20),
        stock_tracking varchar(20) not null check (stock_tracking in ('Aucun','SERIALIZED','CMUP','FIFO','LIFO','PAR_LOT')),
        barcode varchar(36) unique,
        dimensions varchar(50),
        package_size varchar(50),
        sale_unit varchar(50),
        seasonality varchar(50),
        supplier_code varchar(50),
        target_market varchar(50),
        country_of_origin varchar(100),
        supplier_name varchar(100),
        certification varchar(200),
        photo varchar(500),
        title varchar(500) not null,
        availability_schedule jsonb,
        b2b_payment_methods varchar(255),
        custom_attributes jsonb,
        customer_segments varchar(255),
        description TEXT not null,
        family_code varchar(255),
        reference varchar(255) not null unique,
        sku varchar(255) not null unique,
        additional_photos TEXT[],
        primary key (id)
    )
2025-06-14 13:20:21 [main] DEBUG org.hibernate.SQL - 
    create table products_customer (
        coef numeric(12,2),
        is_active boolean,
        prix_ttc numeric(16,6) not null,
        prix_ven_nouv numeric(16,6),
        qte_mont integer,
        remise numeric(16,6),
        remise_nouv numeric(16,6),
        created_at timestamp(6) with time zone,
        id bigint generated by default as identity,
        reference_customer bigint not null,
        reference_product bigint not null,
        updated_at timestamp(6) with time zone,
        category varchar(50),
        primary key (id)
    )
2025-06-14 13:20:21 [main] DEBUG org.hibernate.SQL - 
    create table promotion_conditions (
        required_loyalty_level integer,
        customer_group_id bigint,
        id bigint generated by default as identity,
        rule_id bigint,
        attribute varchar(255) not null,
        condition_type varchar(255) not null check (condition_type in ('CART_SUBTOTAL','PRODUCT_IN_CART','CUSTOMER_IN_GROUP','TIME_OF_DAY','DAY_OF_WEEK','CUSTOMER_LOYALTY_LEVEL','PAYMENT_METHOD')),
        entity_id varchar(255),
        entity_type varchar(255),
        operator varchar(255) not null check (operator in ('EQUAL','NOT_EQUAL','GREATER_THAN','GREATER_THAN_OR_EQUAL','LESS_THAN','LESS_THAN_OR_EQUAL','CONTAINS','NOT_CONTAINS','IN','NOT_IN')),
        payment_method varchar(255),
        value varchar(255) not null,
        primary key (id)
    )
2025-06-14 13:20:21 [main] DEBUG org.hibernate.SQL - 
    create table promotion_customer_families (
        end_date timestamp(6) with time zone,
        id bigint generated by default as identity,
        promotion_id bigint,
        start_date timestamp(6) with time zone,
        customer_family_code varchar(255) not null,
        primary key (id)
    )
2025-06-14 13:20:21 [main] DEBUG org.hibernate.SQL - 
    create table promotion_customer_usage (
        usage_count integer,
        customer_id bigint not null,
        promotion_id bigint not null,
        primary key (customer_id, promotion_id)
    )
2025-06-14 13:20:21 [main] DEBUG org.hibernate.SQL - 
    create table promotion_dynamic_conditions (
        is_active boolean not null,
        threshold float(53),
        id bigint generated by default as identity,
        promotion_id bigint,
        condition_type varchar(255) not null,
        condition_value varchar(255) not null,
        description varchar(255),
        entity_id varchar(255),
        entity_type varchar(255),
        operator varchar(255) not null,
        primary key (id)
    )
2025-06-14 13:20:21 [main] DEBUG org.hibernate.SQL - 
    create table promotion_excluded_categories (
        category_id bigint,
        promotion_id bigint not null
    )
2025-06-14 13:20:21 [main] DEBUG org.hibernate.SQL - 
    create table promotion_excluded_products (
        product_id bigint,
        promotion_id bigint not null
    )
2025-06-14 13:20:21 [main] DEBUG org.hibernate.SQL - 
    create table promotion_lines (
        free_product_id bigint,
        id bigint generated by default as identity,
        paid_product_id bigint,
        promotion_id bigint,
        free_family_code varchar(255),
        paid_family_code varchar(255),
        primary key (id)
    )
2025-06-14 13:20:21 [main] DEBUG org.hibernate.SQL - 
    create table promotion_rules (
        repetition integer,
        id bigint generated by default as identity,
        promotion_id bigint,
        breakpoint_type varchar(255) not null check (breakpoint_type in ('AMOUNT','QUANTITY','SKU_POINTS')),
        calculation_method varchar(255) not null check (calculation_method in ('BRACKET','CUMULATIVE')),
        condition_logic varchar(255) not null check (condition_logic in ('ALL','ANY')),
        name varchar(255) not null,
        primary key (id)
    )
2025-06-14 13:20:21 [main] DEBUG org.hibernate.SQL - 
    create table promotion_tiers (
        minimum_threshold numeric(38,2) not null,
        id bigint generated by default as identity,
        reward_id bigint not null unique,
        rule_id bigint,
        primary key (id)
    )
2025-06-14 13:20:21 [main] DEBUG org.hibernate.SQL - 
    create table promotions (
        apply_first_matching_rule_only boolean,
        current_usage_count integer,
        index_discount integer,
        is_active boolean not null,
        is_exclusive boolean not null,
        max_usage_count integer,
        max_usage_per_customer integer,
        min_purchase_amount numeric(38,2),
        priority integer not null check (priority>=0),
        skip_to_sequence integer,
        end_date timestamp(6) with time zone not null,
        id bigint generated by default as identity,
        start_date timestamp(6) with time zone not null,
        combinability_group varchar(255),
        customer_group varchar(255),
        description varchar(255),
        name varchar(255) not null,
        promo_code varchar(255) not null unique,
        primary key (id)
    )
2025-06-14 13:20:21 [main] DEBUG org.hibernate.SQL - 
    create table rewards (
        value numeric(38,2) not null,
        id bigint generated by default as identity,
        target_entity_id bigint,
        reward_type varchar(255) not null check (reward_type in ('PERCENT_DISCOUNT_ON_ITEM','FIXED_DISCOUNT_ON_CART','FREE_PRODUCT')),
        target_entity_type varchar(255),
        primary key (id)
    )
2025-06-14 13:20:21 [main] DEBUG org.hibernate.SQL - 
    create table sites (
        capacity_sqm float(53),
        is_active boolean,
        created_at timestamp(6) with time zone not null,
        id bigint generated by default as identity,
        updated_at timestamp(6) with time zone,
        address_line1 varchar(255),
        city varchar(255),
        contact_email varchar(255),
        contact_phone varchar(255),
        country varchar(255),
        description varchar(255) not null,
        postal_code varchar(255),
        site_code varchar(255) not null unique,
        primary key (id)
    )
2025-06-14 13:20:21 [main] DEBUG org.hibernate.SQL - 
    alter table if exists categories 
       add constraint FKsaok720gsu4u2wrgbk10b5n8d 
       foreign key (parent_id) 
       references categories
2025-06-14 13:20:21 [main] DEBUG org.hibernate.SQL - 
    alter table if exists customer_group_members 
       add constraint FKetr33gy3yxphaasg8pnk8wyvs 
       foreign key (group_id) 
       references customer_groups
2025-06-14 13:20:21 [main] DEBUG org.hibernate.SQL - 
    alter table if exists customer_group_members 
       add constraint FKj7chtq65ntu6cwx5vtc3rngdp 
       foreign key (customer_id) 
       references customers
2025-06-14 13:20:21 [main] DEBUG org.hibernate.SQL - 
    alter table if exists customers 
       add constraint FKdig1h8xu5vcu0rfcihvbh46wq 
       foreign key (category_tarif_id) 
       references cat_tarif
2025-06-14 13:20:21 [main] DEBUG org.hibernate.SQL - 
    alter table if exists depots 
       add constraint FK5qq91mnq7j5lemrap49cshimd 
       foreign key (site_id) 
       references sites
2025-06-14 13:20:21 [main] DEBUG org.hibernate.SQL - 
    alter table if exists order_item_applied_promotions 
       add constraint FK82i7jogqbstxwl46g1rywbwsu 
       foreign key (order_item_id) 
       references order_items
2025-06-14 13:20:21 [main] DEBUG org.hibernate.SQL - 
    alter table if exists order_items 
       add constraint FKbioxgbv59vetrxe0ejfubep1w 
       foreign key (order_id) 
       references orders
2025-06-14 13:20:21 [main] DEBUG org.hibernate.SQL - 
    alter table if exists product_categories 
       add constraint FKd112rx0alycddsms029iifrih 
       foreign key (category_id) 
       references categories
2025-06-14 13:20:21 [main] DEBUG org.hibernate.SQL - 
    alter table if exists product_categories 
       add constraint FKlda9rad6s180ha3dl1ncsp8n7 
       foreign key (product_id) 
       references products
2025-06-14 13:20:21 [main] DEBUG org.hibernate.SQL - 
    alter table if exists product_stocks 
       add constraint FKmcawg70vkgr4vfrsphtcoc8up 
       foreign key (depot_id) 
       references depots
2025-06-14 13:20:21 [main] DEBUG org.hibernate.SQL - 
    alter table if exists products 
       add constraint FK53ooveoh14cvs7qns24gmlehh 
       foreign key (family_code) 
       references product_families (code)
2025-06-14 13:20:21 [main] DEBUG org.hibernate.SQL - 
    alter table if exists products_customer 
       add constraint FKnygquw0w0xvu9lfjpsbd6xmgv 
       foreign key (reference_customer) 
       references customers
2025-06-14 13:20:21 [main] DEBUG org.hibernate.SQL - 
    alter table if exists products_customer 
       add constraint FK4vdatfmkcw4aqwv41q569gq44 
       foreign key (reference_product) 
       references products
2025-06-14 13:20:21 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_conditions 
       add constraint FKjfph2mn5x5inav2a7wsxo2r2l 
       foreign key (rule_id) 
       references promotion_rules
2025-06-14 13:20:21 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_customer_families 
       add constraint FKjy33meus9wkfyyp29kyxhaw3i 
       foreign key (promotion_id) 
       references promotions
2025-06-14 13:20:21 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_customer_usage 
       add constraint FKtkdnuodmsbsskeejx4ksjgmsn 
       foreign key (promotion_id) 
       references promotions
2025-06-14 13:20:21 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_dynamic_conditions 
       add constraint FKd2huyfw319bhk0frhvdh0v0ot 
       foreign key (promotion_id) 
       references promotions
2025-06-14 13:20:21 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_excluded_categories 
       add constraint FKiamgbul5ugcmy9ewsemk31fng 
       foreign key (promotion_id) 
       references promotions
2025-06-14 13:20:21 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_excluded_products 
       add constraint FK1s1aelilqwce11lxgop8yhud0 
       foreign key (promotion_id) 
       references promotions
2025-06-14 13:20:21 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_lines 
       add constraint FKc6jg561k2bcyoja0im2kifdgb 
       foreign key (promotion_id) 
       references promotions
2025-06-14 13:20:21 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_rules 
       add constraint FK6xcgfd4fvmkpqdlnln3opdmpg 
       foreign key (promotion_id) 
       references promotions
2025-06-14 13:20:21 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_tiers 
       add constraint FK3iar32tvya9o51dqhtaf95ev6 
       foreign key (reward_id) 
       references rewards
2025-06-14 13:20:21 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_tiers 
       add constraint FKhw31w9eyoj371gg325124p1e9 
       foreign key (rule_id) 
       references promotion_rules
2025-06-14 13:20:21 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-06-14 13:20:21 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-06-14 13:20:23 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'orderPromotionController' defined in file [/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/ma/foodplus/ordering/system/order/controller/OrderPromotionController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'promotionApplicationService' defined in file [/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/ma/foodplus/ordering/system/promos/service/PromotionApplicationService.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'advancedPromotionEngine' defined in file [/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/ma/foodplus/ordering/system/promos/service/AdvancedPromotionEngine.class]: Unsatisfied dependency expressed through constructor parameter 1: Error creating bean with name 'conditionEvaluator' defined in file [/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/ma/foodplus/ordering/system/promos/service/ConditionEvaluator.class]: Unsatisfied dependency expressed through constructor parameter 2: No qualifying bean of type 'ma.foodplus.ordering.system.inventory.service.InventoryService' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
2025-06-14 13:20:23 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-06-14 13:20:23 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-06-14 13:20:23 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-06-14 13:20:23 [main] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-06-14 13:20:23 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-06-14 13:20:23 [main] ERROR o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 2 of constructor in ma.foodplus.ordering.system.promos.service.ConditionEvaluator required a bean of type 'ma.foodplus.ordering.system.inventory.service.InventoryService' that could not be found.


Action:

Consider defining a bean of type 'ma.foodplus.ordering.system.inventory.service.InventoryService' in your configuration.

2025-06-14 13:21:26 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - Starting FoodPlusOrderingApplication using Java 21.0.7 with PID 267938 (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes started by louki in /home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system)
2025-06-14 13:21:26 [main] DEBUG m.f.o.s.FoodPlusOrderingApplication - Running with Spring Boot v3.5.0, Spring v6.2.7
2025-06-14 13:21:26 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - The following 1 profile is active: "dev"
2025-06-14 13:21:27 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-14 13:21:27 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-14 13:21:27 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 90 ms. Found 10 JPA repository interfaces.
2025-06-14 13:21:27 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-14 13:21:27 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-06-14 13:21:27 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.common.repository.CategoryTarifRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 13:21:27 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.CustomerGroupRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 13:21:27 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.CustomerRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 13:21:27 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.ProductCustomerRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 13:21:27 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.DepotRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 13:21:27 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.ProductStockRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 13:21:27 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.SiteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 13:21:27 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.order.repository.OrderRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 13:21:27 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.product.repository.ProductRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 13:21:27 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.promos.repository.PromotionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 13:21:27 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 26 ms. Found 0 Redis repository interfaces.
2025-06-14 13:21:28 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8087 (http)
2025-06-14 13:21:28 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-14 13:21:28 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.41]
2025-06-14 13:21:28 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-14 13:21:28 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1977 ms
2025-06-14 13:21:28 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-06-14 13:21:28 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.15.Final
2025-06-14 13:21:28 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-06-14 13:21:28 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-06-14 13:21:29 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@4e02f17d
2025-06-14 13:21:29 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-06-14 13:21:29 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-06-14 13:21:29 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 17.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-06-14 13:21:29 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-06-14 13:21:30 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-06-14 13:21:30 [main] DEBUG org.hibernate.SQL - 
    set client_min_messages = WARNING
2025-06-14 13:21:30 [main] DEBUG org.hibernate.SQL - 
    alter table if exists categories 
       drop constraint if exists FKsaok720gsu4u2wrgbk10b5n8d
2025-06-14 13:21:30 [main] DEBUG org.hibernate.SQL - 
    alter table if exists customer_group_members 
       drop constraint if exists FKetr33gy3yxphaasg8pnk8wyvs
2025-06-14 13:21:30 [main] DEBUG org.hibernate.SQL - 
    alter table if exists customer_group_members 
       drop constraint if exists FKj7chtq65ntu6cwx5vtc3rngdp
2025-06-14 13:21:30 [main] DEBUG org.hibernate.SQL - 
    alter table if exists customers 
       drop constraint if exists FKdig1h8xu5vcu0rfcihvbh46wq
2025-06-14 13:21:30 [main] DEBUG org.hibernate.SQL - 
    alter table if exists depots 
       drop constraint if exists FK5qq91mnq7j5lemrap49cshimd
2025-06-14 13:21:30 [main] DEBUG org.hibernate.SQL - 
    alter table if exists order_item_applied_promotions 
       drop constraint if exists FK82i7jogqbstxwl46g1rywbwsu
2025-06-14 13:21:30 [main] DEBUG org.hibernate.SQL - 
    alter table if exists order_items 
       drop constraint if exists FKbioxgbv59vetrxe0ejfubep1w
2025-06-14 13:21:30 [main] DEBUG org.hibernate.SQL - 
    alter table if exists product_categories 
       drop constraint if exists FKd112rx0alycddsms029iifrih
2025-06-14 13:21:30 [main] DEBUG org.hibernate.SQL - 
    alter table if exists product_categories 
       drop constraint if exists FKlda9rad6s180ha3dl1ncsp8n7
2025-06-14 13:21:30 [main] DEBUG org.hibernate.SQL - 
    alter table if exists product_stocks 
       drop constraint if exists FKmcawg70vkgr4vfrsphtcoc8up
2025-06-14 13:21:30 [main] DEBUG org.hibernate.SQL - 
    alter table if exists products 
       drop constraint if exists FK53ooveoh14cvs7qns24gmlehh
2025-06-14 13:21:30 [main] DEBUG org.hibernate.SQL - 
    alter table if exists products_customer 
       drop constraint if exists FKnygquw0w0xvu9lfjpsbd6xmgv
2025-06-14 13:21:30 [main] DEBUG org.hibernate.SQL - 
    alter table if exists products_customer 
       drop constraint if exists FK4vdatfmkcw4aqwv41q569gq44
2025-06-14 13:21:30 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_conditions 
       drop constraint if exists FKjfph2mn5x5inav2a7wsxo2r2l
2025-06-14 13:21:30 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_customer_families 
       drop constraint if exists FKjy33meus9wkfyyp29kyxhaw3i
2025-06-14 13:21:30 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_customer_usage 
       drop constraint if exists FKtkdnuodmsbsskeejx4ksjgmsn
2025-06-14 13:21:30 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_dynamic_conditions 
       drop constraint if exists FKd2huyfw319bhk0frhvdh0v0ot
2025-06-14 13:21:30 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_excluded_categories 
       drop constraint if exists FKiamgbul5ugcmy9ewsemk31fng
2025-06-14 13:21:30 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_excluded_products 
       drop constraint if exists FK1s1aelilqwce11lxgop8yhud0
2025-06-14 13:21:30 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_lines 
       drop constraint if exists FKc6jg561k2bcyoja0im2kifdgb
2025-06-14 13:21:30 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_rules 
       drop constraint if exists FK6xcgfd4fvmkpqdlnln3opdmpg
2025-06-14 13:21:30 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_tiers 
       drop constraint if exists FK3iar32tvya9o51dqhtaf95ev6
2025-06-14 13:21:30 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_tiers 
       drop constraint if exists FKhw31w9eyoj371gg325124p1e9
2025-06-14 13:21:30 [main] DEBUG org.hibernate.SQL - 
    drop table if exists cat_tarif cascade
2025-06-14 13:21:30 [main] DEBUG org.hibernate.SQL - 
    drop table if exists categories cascade
2025-06-14 13:21:30 [main] DEBUG org.hibernate.SQL - 
    drop table if exists customer_group_members cascade
2025-06-14 13:21:30 [main] DEBUG org.hibernate.SQL - 
    drop table if exists customer_groups cascade
2025-06-14 13:21:30 [main] DEBUG org.hibernate.SQL - 
    drop table if exists customers cascade
2025-06-14 13:21:30 [main] DEBUG org.hibernate.SQL - 
    drop table if exists depots cascade
2025-06-14 13:21:30 [main] DEBUG org.hibernate.SQL - 
    drop table if exists order_item_applied_promotions cascade
2025-06-14 13:21:30 [main] DEBUG org.hibernate.SQL - 
    drop table if exists order_items cascade
2025-06-14 13:21:30 [main] DEBUG org.hibernate.SQL - 
    drop table if exists orders cascade
2025-06-14 13:21:30 [main] DEBUG org.hibernate.SQL - 
    drop table if exists product_categories cascade
2025-06-14 13:21:30 [main] DEBUG org.hibernate.SQL - 
    drop table if exists product_families cascade
2025-06-14 13:21:30 [main] DEBUG org.hibernate.SQL - 
    drop table if exists product_stocks cascade
2025-06-14 13:21:30 [main] DEBUG org.hibernate.SQL - 
    drop table if exists products cascade
2025-06-14 13:21:30 [main] DEBUG org.hibernate.SQL - 
    drop table if exists products_customer cascade
2025-06-14 13:21:30 [main] DEBUG org.hibernate.SQL - 
    drop table if exists promotion_conditions cascade
2025-06-14 13:21:30 [main] DEBUG org.hibernate.SQL - 
    drop table if exists promotion_customer_families cascade
2025-06-14 13:21:30 [main] DEBUG org.hibernate.SQL - 
    drop table if exists promotion_customer_usage cascade
2025-06-14 13:21:30 [main] DEBUG org.hibernate.SQL - 
    drop table if exists promotion_dynamic_conditions cascade
2025-06-14 13:21:30 [main] DEBUG org.hibernate.SQL - 
    drop table if exists promotion_excluded_categories cascade
2025-06-14 13:21:30 [main] DEBUG org.hibernate.SQL - 
    drop table if exists promotion_excluded_products cascade
2025-06-14 13:21:30 [main] DEBUG org.hibernate.SQL - 
    drop table if exists promotion_lines cascade
2025-06-14 13:21:30 [main] DEBUG org.hibernate.SQL - 
    drop table if exists promotion_rules cascade
2025-06-14 13:21:30 [main] DEBUG org.hibernate.SQL - 
    drop table if exists promotion_tiers cascade
2025-06-14 13:21:30 [main] DEBUG org.hibernate.SQL - 
    drop table if exists promotions cascade
2025-06-14 13:21:30 [main] DEBUG org.hibernate.SQL - 
    drop table if exists rewards cascade
2025-06-14 13:21:30 [main] DEBUG org.hibernate.SQL - 
    drop table if exists sites cascade
2025-06-14 13:21:30 [main] DEBUG org.hibernate.SQL - 
    create table cat_tarif (
        price_ttc numeric(24,6) not null,
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        updated_at timestamp(6) not null,
        description varchar(255) not null,
        primary key (id)
    )
2025-06-14 13:21:30 [main] DEBUG org.hibernate.SQL - 
    create table categories (
        is_active boolean not null,
        level integer not null,
        created_at timestamp(6) with time zone not null,
        id bigint generated by default as identity,
        parent_id bigint,
        updated_at timestamp(6) with time zone,
        description varchar(500),
        code varchar(255) not null unique,
        name varchar(255) not null,
        primary key (id)
    )
2025-06-14 13:21:30 [main] DEBUG org.hibernate.SQL - 
    create table customer_group_members (
        customer_id bigint not null,
        group_id bigint not null,
        primary key (customer_id, group_id)
    )
2025-06-14 13:21:30 [main] DEBUG org.hibernate.SQL - 
    create table customer_groups (
        created_at timestamp(6) with time zone not null,
        id bigint generated by default as identity,
        updated_at timestamp(6) with time zone,
        description varchar(255),
        name varchar(255) not null unique,
        primary key (id)
    )
2025-06-14 13:21:30 [main] DEBUG org.hibernate.SQL - 
    create table customers (
        annual_turnover numeric(38,2),
        average_order_value numeric(24,6),
        credit_limit numeric(24,6),
        credit_score integer,
        is_active boolean not null,
        is_vip boolean,
        loyalty_points integer,
        number_of_employees integer,
        outstanding_balance numeric(24,6),
        payment_term_days integer,
        total_orders integer,
        total_spent numeric(24,6),
        category_tarif_id bigint,
        contract_end_date timestamp(6) with time zone,
        contract_start_date timestamp(6) with time zone,
        created_at timestamp(6) with time zone not null,
        customer_since timestamp(6) with time zone,
        id bigint generated by default as identity,
        last_activity_date timestamp(6) with time zone,
        last_order_date timestamp(6) with time zone,
        last_payment_date timestamp(6) with time zone,
        updated_at timestamp(6) with time zone,
        address varchar(255),
        bank_account_info TEXT,
        business_activity varchar(255),
        city varchar(255),
        company_name varchar(255),
        contract_number varchar(255),
        contract_terms TEXT,
        contract_type varchar(255),
        country varchar(255),
        created_by varchar(255),
        credit_rating varchar(255),
        ct_num varchar(255) not null unique,
        customer_type varchar(255) not null check (customer_type in ('B2B','B2C')),
        delivery_terms TEXT,
        description varchar(255) not null,
        email varchar(255),
        ice varchar(255) not null,
        legal_form varchar(255),
        notes TEXT,
        payment_history TEXT,
        payment_terms TEXT,
        postal_code varchar(255),
        preferred_delivery_days varchar(255),
        preferred_delivery_time varchar(255),
        preferred_payment_method varchar(255),
        region varchar(255),
        registration_number varchar(255),
        special_conditions TEXT,
        special_handling_instructions TEXT,
        tax_id varchar(255),
        telecopie varchar(255),
        telephone varchar(255),
        updated_by varchar(255),
        vat_number varchar(255),
        primary key (id)
    )
2025-06-14 13:21:30 [main] DEBUG org.hibernate.SQL - 
    create table depots (
        capacity_cubic_meters float(53),
        is_active boolean,
        is_refrigerated boolean,
        security_level integer,
        created_at timestamp(6) with time zone not null,
        id bigint generated by default as identity,
        site_id bigint,
        updated_at timestamp(6) with time zone,
        access_restrictions varchar(255),
        depot_code varchar(255) not null unique,
        depot_type varchar(255) check (depot_type in ('MAIN_WAREHOUSE','DISTRIBUTION_CENTER','COLD_STORAGE','DRY_STORAGE','HAZARDOUS_MATERIALS','TEMPORARY_STORAGE','CROSS_DOCKING')),
        description varchar(255) not null,
        handling_equipment varchar(255),
        special_requirements TEXT,
        temperature_range varchar(255),
        primary key (id)
    )
2025-06-14 13:21:30 [main] DEBUG org.hibernate.SQL - 
    create table order_item_applied_promotions (
        order_item_id bigint not null,
        promotion_code varchar(255)
    )
2025-06-14 13:21:30 [main] DEBUG org.hibernate.SQL - 
    create table order_items (
        bulk_quantity_threshold integer,
        consumed_quantity integer not null,
        discount_amount numeric(38,2) not null,
        quantity integer not null,
        sku_points numeric(38,2),
        special_pricing boolean,
        tax_amount numeric(38,2) not null,
        total_price numeric(38,2) not null,
        unit_price numeric(38,2) not null,
        wholesale_price numeric(38,2),
        created_at timestamp(6) with time zone not null,
        id bigint generated by default as identity,
        order_id bigint not null,
        product_family_id bigint,
        product_id bigint not null,
        updated_at timestamp(6) with time zone,
        applied_promotion_code varchar(255),
        notes varchar(255),
        product_name varchar(255) not null,
        sku varchar(255),
        primary key (id)
    )
2025-06-14 13:21:30 [main] DEBUG org.hibernate.SQL - 
    create table orders (
        bulk_discount_percentage numeric(38,2),
        is_wholesale boolean not null,
        minimum_order_value numeric(38,2),
        shipping_cost numeric(38,2) not null,
        special_pricing_agreement boolean,
        subtotal numeric(38,2) not null,
        total numeric(38,2) not null,
        total_discount numeric(38,2) not null,
        total_tax numeric(38,2) not null,
        cancelled_at timestamp(6) with time zone,
        created_at timestamp(6) with time zone not null,
        customer_id bigint not null,
        delivered_at timestamp(6) with time zone,
        id bigint generated by default as identity,
        payment_due_date timestamp(6) with time zone,
        preferred_delivery_date timestamp(6) with time zone,
        refunded_at timestamp(6) with time zone,
        updated_at timestamp(6) with time zone,
        cancellation_reason varchar(255),
        contract_number varchar(255),
        created_by varchar(255),
        delivery_instructions varchar(255),
        internal_notes varchar(255),
        notes varchar(255),
        order_number varchar(255) not null unique,
        order_type varchar(255) not null check (order_type in ('B2B','B2C')),
        payment_method varchar(255) check (payment_method in ('CASH','CREDIT_CARD','DEBIT_CARD','MOBILE_PAYMENT','BANK_TRANSFER','CHECK','WIRE_TRANSFER','CREDIT_NOTE','LETTER_OF_CREDIT')),
        payment_notes varchar(255),
        payment_reference varchar(255),
        payment_status varchar(255) check (payment_status in ('PENDING','PARTIALLY_PAID','PAID','FAILED','REFUNDED','CANCELLED','ON_HOLD','IN_DISPUTE')),
        payment_terms varchar(255),
        po_number varchar(255),
        reference_number varchar(255),
        refund_reason varchar(255),
        shipping_address varchar(255),
        shipping_city varchar(255),
        shipping_country varchar(255),
        shipping_notes varchar(255),
        shipping_postal_code varchar(255),
        status varchar(255) not null check (status in ('DRAFT','PENDING','CONFIRMED','PREPARING','READY','DELIVERING','DELIVERED','CANCELLED','REFUNDED')),
        updated_by varchar(255),
        primary key (id)
    )
2025-06-14 13:21:30 [main] DEBUG org.hibernate.SQL - 
    create table product_categories (
        category_id bigint not null,
        product_id bigint not null
    )
2025-06-14 13:21:30 [main] DEBUG org.hibernate.SQL - 
    create table product_families (
        is_active boolean not null,
        created_at timestamp(6) with time zone not null,
        id bigint generated by default as identity,
        updated_at timestamp(6) with time zone,
        code varchar(255) not null unique,
        description varchar(255),
        name varchar(255) not null,
        primary key (id)
    )
2025-06-14 13:21:30 [main] DEBUG org.hibernate.SQL - 
    create table product_stocks (
        days_of_stock integer,
        expiry_date date,
        max_stock_level numeric(24,6),
        min_stock_level numeric(24,6),
        quantity numeric(24,6) not null,
        reorder_point numeric(24,6),
        reorder_quantity numeric(24,6),
        reserved_quantity numeric(24,6) not null,
        shelf_life_days integer,
        unit_cost numeric(24,6) not null,
        created_at timestamp(6) with time zone not null,
        depot_id bigint not null,
        id bigint generated by default as identity,
        last_purchase_date timestamp(6) with time zone,
        last_sale_date timestamp(6) with time zone,
        product_id bigint not null,
        updated_at timestamp(6) with time zone,
        storage_conditions varchar(100),
        notes varchar(500),
        quality_notes varchar(1000),
        batch_number varchar(255),
        depot_name varchar(255),
        location_code varchar(255),
        product_name varchar(255),
        quality_status varchar(255) not null check (quality_status in ('INSPECTED','INSPECTION_REQUIRED','QUARANTINED','DAMAGED','RECALLED')),
        primary key (id)
    )
2025-06-14 13:21:30 [main] DEBUG org.hibernate.SQL - 
    create table products (
        b2b_contract_discount_percentage numeric(5,2),
        b2b_contract_required boolean,
        b2b_credit_terms integer,
        b2b_custom_pricing_enabled boolean,
        b2b_delivery_lead_time integer,
        b2b_minimum_order_value numeric(19,2),
        b2b_volume_discount_enabled boolean,
        b2c_display_in_catalog boolean,
        b2c_featured boolean,
        b2c_loyalty_points_multiplier numeric(5,2),
        b2c_promo_price numeric(19,2),
        b2c_rating numeric(3,2),
        b2c_retail_price numeric(19,2),
        b2c_review_count integer,
        bulk_discount_percentage numeric(5,2),
        bulk_discount_threshold integer,
        bulk_package_size integer,
        deliverable boolean not null,
        inactive boolean not null,
        is_bulk_item boolean not null,
        is_perishable boolean not null,
        is_wholesale_only boolean not null,
        maximum_order_quantity integer,
        minimum_order_quantity integer,
        package_quantity integer,
        price_including_tax numeric(10,2) not null,
        promo_sku_points numeric(10,2) not null,
        requires_approval boolean not null,
        requires_cold_storage boolean not null,
        requires_contract boolean not null,
        sale_price numeric(10,2) not null,
        tax_rate numeric(5,2),
        unit_price numeric(38,2) not null,
        vendable boolean not null,
        visible boolean not null,
        weight numeric(10,3),
        wholesale_discount_percentage numeric(5,2),
        wholesale_minimum_quantity integer,
        wholesale_price numeric(10,2),
        wholesale_tier_1_price numeric(10,2),
        wholesale_tier_1_quantity integer,
        wholesale_tier_2_price numeric(10,2),
        wholesale_tier_2_quantity integer,
        wholesale_tier_3_price numeric(10,2),
        wholesale_tier_3_quantity integer,
        b2c_promo_end_date timestamp(6) with time zone,
        b2c_promo_start_date timestamp(6) with time zone,
        created_at timestamp(6) with time zone,
        id bigint generated by default as identity,
        updated_at timestamp(6) with time zone,
        weight_unit varchar(10),
        bulk_package_unit varchar(20),
        stock_tracking varchar(20) not null check (stock_tracking in ('Aucun','SERIALIZED','CMUP','FIFO','LIFO','PAR_LOT')),
        barcode varchar(36) unique,
        dimensions varchar(50),
        package_size varchar(50),
        sale_unit varchar(50),
        seasonality varchar(50),
        supplier_code varchar(50),
        target_market varchar(50),
        country_of_origin varchar(100),
        supplier_name varchar(100),
        certification varchar(200),
        photo varchar(500),
        title varchar(500) not null,
        availability_schedule jsonb,
        b2b_payment_methods varchar(255),
        custom_attributes jsonb,
        customer_segments varchar(255),
        description TEXT not null,
        family_code varchar(255),
        reference varchar(255) not null unique,
        sku varchar(255) not null unique,
        additional_photos TEXT[],
        primary key (id)
    )
2025-06-14 13:21:30 [main] DEBUG org.hibernate.SQL - 
    create table products_customer (
        coef numeric(12,2),
        is_active boolean,
        prix_ttc numeric(16,6) not null,
        prix_ven_nouv numeric(16,6),
        qte_mont integer,
        remise numeric(16,6),
        remise_nouv numeric(16,6),
        created_at timestamp(6) with time zone,
        id bigint generated by default as identity,
        reference_customer bigint not null,
        reference_product bigint not null,
        updated_at timestamp(6) with time zone,
        category varchar(50),
        primary key (id)
    )
2025-06-14 13:21:30 [main] DEBUG org.hibernate.SQL - 
    create table promotion_conditions (
        required_loyalty_level integer,
        customer_group_id bigint,
        id bigint generated by default as identity,
        rule_id bigint,
        attribute varchar(255) not null,
        condition_type varchar(255) not null check (condition_type in ('CART_SUBTOTAL','PRODUCT_IN_CART','CUSTOMER_IN_GROUP','TIME_OF_DAY','DAY_OF_WEEK','CUSTOMER_LOYALTY_LEVEL','PAYMENT_METHOD')),
        entity_id varchar(255),
        entity_type varchar(255),
        operator varchar(255) not null check (operator in ('EQUAL','NOT_EQUAL','GREATER_THAN','GREATER_THAN_OR_EQUAL','LESS_THAN','LESS_THAN_OR_EQUAL','CONTAINS','NOT_CONTAINS','IN','NOT_IN')),
        payment_method varchar(255),
        value varchar(255) not null,
        primary key (id)
    )
2025-06-14 13:21:30 [main] DEBUG org.hibernate.SQL - 
    create table promotion_customer_families (
        end_date timestamp(6) with time zone,
        id bigint generated by default as identity,
        promotion_id bigint,
        start_date timestamp(6) with time zone,
        customer_family_code varchar(255) not null,
        primary key (id)
    )
2025-06-14 13:21:30 [main] DEBUG org.hibernate.SQL - 
    create table promotion_customer_usage (
        usage_count integer,
        customer_id bigint not null,
        promotion_id bigint not null,
        primary key (customer_id, promotion_id)
    )
2025-06-14 13:21:30 [main] DEBUG org.hibernate.SQL - 
    create table promotion_dynamic_conditions (
        is_active boolean not null,
        threshold float(53),
        id bigint generated by default as identity,
        promotion_id bigint,
        condition_type varchar(255) not null,
        condition_value varchar(255) not null,
        description varchar(255),
        entity_id varchar(255),
        entity_type varchar(255),
        operator varchar(255) not null,
        primary key (id)
    )
2025-06-14 13:21:30 [main] DEBUG org.hibernate.SQL - 
    create table promotion_excluded_categories (
        category_id bigint,
        promotion_id bigint not null
    )
2025-06-14 13:21:30 [main] DEBUG org.hibernate.SQL - 
    create table promotion_excluded_products (
        product_id bigint,
        promotion_id bigint not null
    )
2025-06-14 13:21:30 [main] DEBUG org.hibernate.SQL - 
    create table promotion_lines (
        free_product_id bigint,
        id bigint generated by default as identity,
        paid_product_id bigint,
        promotion_id bigint,
        free_family_code varchar(255),
        paid_family_code varchar(255),
        primary key (id)
    )
2025-06-14 13:21:30 [main] DEBUG org.hibernate.SQL - 
    create table promotion_rules (
        repetition integer,
        id bigint generated by default as identity,
        promotion_id bigint,
        breakpoint_type varchar(255) not null check (breakpoint_type in ('AMOUNT','QUANTITY','SKU_POINTS')),
        calculation_method varchar(255) not null check (calculation_method in ('BRACKET','CUMULATIVE')),
        condition_logic varchar(255) not null check (condition_logic in ('ALL','ANY')),
        name varchar(255) not null,
        primary key (id)
    )
2025-06-14 13:21:30 [main] DEBUG org.hibernate.SQL - 
    create table promotion_tiers (
        minimum_threshold numeric(38,2) not null,
        id bigint generated by default as identity,
        reward_id bigint not null unique,
        rule_id bigint,
        primary key (id)
    )
2025-06-14 13:21:30 [main] DEBUG org.hibernate.SQL - 
    create table promotions (
        apply_first_matching_rule_only boolean,
        current_usage_count integer,
        index_discount integer,
        is_active boolean not null,
        is_exclusive boolean not null,
        max_usage_count integer,
        max_usage_per_customer integer,
        min_purchase_amount numeric(38,2),
        priority integer not null check (priority>=0),
        skip_to_sequence integer,
        end_date timestamp(6) with time zone not null,
        id bigint generated by default as identity,
        start_date timestamp(6) with time zone not null,
        combinability_group varchar(255),
        customer_group varchar(255),
        description varchar(255),
        name varchar(255) not null,
        promo_code varchar(255) not null unique,
        primary key (id)
    )
2025-06-14 13:21:30 [main] DEBUG org.hibernate.SQL - 
    create table rewards (
        value numeric(38,2) not null,
        id bigint generated by default as identity,
        target_entity_id bigint,
        reward_type varchar(255) not null check (reward_type in ('PERCENT_DISCOUNT_ON_ITEM','FIXED_DISCOUNT_ON_CART','FREE_PRODUCT')),
        target_entity_type varchar(255),
        primary key (id)
    )
2025-06-14 13:21:30 [main] DEBUG org.hibernate.SQL - 
    create table sites (
        capacity_sqm float(53),
        is_active boolean,
        created_at timestamp(6) with time zone not null,
        id bigint generated by default as identity,
        updated_at timestamp(6) with time zone,
        address_line1 varchar(255),
        city varchar(255),
        contact_email varchar(255),
        contact_phone varchar(255),
        country varchar(255),
        description varchar(255) not null,
        postal_code varchar(255),
        site_code varchar(255) not null unique,
        primary key (id)
    )
2025-06-14 13:21:30 [main] DEBUG org.hibernate.SQL - 
    alter table if exists categories 
       add constraint FKsaok720gsu4u2wrgbk10b5n8d 
       foreign key (parent_id) 
       references categories
2025-06-14 13:21:30 [main] DEBUG org.hibernate.SQL - 
    alter table if exists customer_group_members 
       add constraint FKetr33gy3yxphaasg8pnk8wyvs 
       foreign key (group_id) 
       references customer_groups
2025-06-14 13:21:30 [main] DEBUG org.hibernate.SQL - 
    alter table if exists customer_group_members 
       add constraint FKj7chtq65ntu6cwx5vtc3rngdp 
       foreign key (customer_id) 
       references customers
2025-06-14 13:21:30 [main] DEBUG org.hibernate.SQL - 
    alter table if exists customers 
       add constraint FKdig1h8xu5vcu0rfcihvbh46wq 
       foreign key (category_tarif_id) 
       references cat_tarif
2025-06-14 13:21:30 [main] DEBUG org.hibernate.SQL - 
    alter table if exists depots 
       add constraint FK5qq91mnq7j5lemrap49cshimd 
       foreign key (site_id) 
       references sites
2025-06-14 13:21:30 [main] DEBUG org.hibernate.SQL - 
    alter table if exists order_item_applied_promotions 
       add constraint FK82i7jogqbstxwl46g1rywbwsu 
       foreign key (order_item_id) 
       references order_items
2025-06-14 13:21:30 [main] DEBUG org.hibernate.SQL - 
    alter table if exists order_items 
       add constraint FKbioxgbv59vetrxe0ejfubep1w 
       foreign key (order_id) 
       references orders
2025-06-14 13:21:30 [main] DEBUG org.hibernate.SQL - 
    alter table if exists product_categories 
       add constraint FKd112rx0alycddsms029iifrih 
       foreign key (category_id) 
       references categories
2025-06-14 13:21:30 [main] DEBUG org.hibernate.SQL - 
    alter table if exists product_categories 
       add constraint FKlda9rad6s180ha3dl1ncsp8n7 
       foreign key (product_id) 
       references products
2025-06-14 13:21:30 [main] DEBUG org.hibernate.SQL - 
    alter table if exists product_stocks 
       add constraint FKmcawg70vkgr4vfrsphtcoc8up 
       foreign key (depot_id) 
       references depots
2025-06-14 13:21:30 [main] DEBUG org.hibernate.SQL - 
    alter table if exists products 
       add constraint FK53ooveoh14cvs7qns24gmlehh 
       foreign key (family_code) 
       references product_families (code)
2025-06-14 13:21:30 [main] DEBUG org.hibernate.SQL - 
    alter table if exists products_customer 
       add constraint FKnygquw0w0xvu9lfjpsbd6xmgv 
       foreign key (reference_customer) 
       references customers
2025-06-14 13:21:30 [main] DEBUG org.hibernate.SQL - 
    alter table if exists products_customer 
       add constraint FK4vdatfmkcw4aqwv41q569gq44 
       foreign key (reference_product) 
       references products
2025-06-14 13:21:30 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_conditions 
       add constraint FKjfph2mn5x5inav2a7wsxo2r2l 
       foreign key (rule_id) 
       references promotion_rules
2025-06-14 13:21:30 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_customer_families 
       add constraint FKjy33meus9wkfyyp29kyxhaw3i 
       foreign key (promotion_id) 
       references promotions
2025-06-14 13:21:30 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_customer_usage 
       add constraint FKtkdnuodmsbsskeejx4ksjgmsn 
       foreign key (promotion_id) 
       references promotions
2025-06-14 13:21:30 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_dynamic_conditions 
       add constraint FKd2huyfw319bhk0frhvdh0v0ot 
       foreign key (promotion_id) 
       references promotions
2025-06-14 13:21:30 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_excluded_categories 
       add constraint FKiamgbul5ugcmy9ewsemk31fng 
       foreign key (promotion_id) 
       references promotions
2025-06-14 13:21:30 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_excluded_products 
       add constraint FK1s1aelilqwce11lxgop8yhud0 
       foreign key (promotion_id) 
       references promotions
2025-06-14 13:21:30 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_lines 
       add constraint FKc6jg561k2bcyoja0im2kifdgb 
       foreign key (promotion_id) 
       references promotions
2025-06-14 13:21:30 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_rules 
       add constraint FK6xcgfd4fvmkpqdlnln3opdmpg 
       foreign key (promotion_id) 
       references promotions
2025-06-14 13:21:30 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_tiers 
       add constraint FK3iar32tvya9o51dqhtaf95ev6 
       foreign key (reward_id) 
       references rewards
2025-06-14 13:21:30 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_tiers 
       add constraint FKhw31w9eyoj371gg325124p1e9 
       foreign key (rule_id) 
       references promotion_rules
2025-06-14 13:21:30 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-06-14 13:21:31 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-06-14 13:21:33 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-06-14 13:21:34 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 4 endpoints beneath base path '/actuator'
2025-06-14 13:21:34 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8087 (http) with context path '/'
2025-06-14 13:21:34 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - Started FoodPlusOrderingApplication in 8.568 seconds (process running for 8.913)
2025-06-14 13:21:34 [main] INFO  m.f.o.s.p.s.CacheWarmingService - Starting cache warm-up...
2025-06-14 13:21:34 [main] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.additional_photos,
        p1_0.availability_schedule,
        p1_0.b2b_contract_discount_percentage,
        p1_0.b2b_contract_required,
        p1_0.b2b_credit_terms,
        p1_0.b2b_custom_pricing_enabled,
        p1_0.b2b_delivery_lead_time,
        p1_0.b2b_minimum_order_value,
        p1_0.b2b_payment_methods,
        p1_0.b2b_volume_discount_enabled,
        p1_0.b2c_display_in_catalog,
        p1_0.b2c_featured,
        p1_0.b2c_loyalty_points_multiplier,
        p1_0.b2c_promo_end_date,
        p1_0.b2c_promo_price,
        p1_0.b2c_promo_start_date,
        p1_0.b2c_rating,
        p1_0.b2c_retail_price,
        p1_0.b2c_review_count,
        p1_0.barcode,
        p1_0.bulk_discount_percentage,
        p1_0.bulk_discount_threshold,
        p1_0.bulk_package_size,
        p1_0.bulk_package_unit,
        p1_0.certification,
        p1_0.country_of_origin,
        p1_0.created_at,
        p1_0.custom_attributes,
        p1_0.customer_segments,
        p1_0.deliverable,
        p1_0.description,
        p1_0.dimensions,
        p1_0.inactive,
        p1_0.is_bulk_item,
        p1_0.is_perishable,
        p1_0.is_wholesale_only,
        p1_0.maximum_order_quantity,
        p1_0.minimum_order_quantity,
        p1_0.package_quantity,
        p1_0.package_size,
        p1_0.photo,
        p1_0.price_including_tax,
        p1_0.family_code,
        p1_0.promo_sku_points,
        p1_0.reference,
        p1_0.requires_approval,
        p1_0.requires_cold_storage,
        p1_0.requires_contract,
        p1_0.sale_price,
        p1_0.sale_unit,
        p1_0.seasonality,
        p1_0.sku,
        p1_0.stock_tracking,
        p1_0.supplier_code,
        p1_0.supplier_name,
        p1_0.target_market,
        p1_0.tax_rate,
        p1_0.title,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.vendable,
        p1_0.visible,
        p1_0.weight,
        p1_0.weight_unit,
        p1_0.wholesale_discount_percentage,
        p1_0.wholesale_minimum_quantity,
        p1_0.wholesale_price,
        p1_0.wholesale_tier_1_price,
        p1_0.wholesale_tier_1_quantity,
        p1_0.wholesale_tier_2_price,
        p1_0.wholesale_tier_2_quantity,
        p1_0.wholesale_tier_3_price,
        p1_0.wholesale_tier_3_quantity 
    from
        products p1_0
2025-06-14 13:21:34 [main] INFO  m.f.o.s.p.s.CacheWarmingService - Warmed up all products cache
2025-06-14 13:21:34 [main] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.additional_photos,
        p1_0.availability_schedule,
        p1_0.b2b_contract_discount_percentage,
        p1_0.b2b_contract_required,
        p1_0.b2b_credit_terms,
        p1_0.b2b_custom_pricing_enabled,
        p1_0.b2b_delivery_lead_time,
        p1_0.b2b_minimum_order_value,
        p1_0.b2b_payment_methods,
        p1_0.b2b_volume_discount_enabled,
        p1_0.b2c_display_in_catalog,
        p1_0.b2c_featured,
        p1_0.b2c_loyalty_points_multiplier,
        p1_0.b2c_promo_end_date,
        p1_0.b2c_promo_price,
        p1_0.b2c_promo_start_date,
        p1_0.b2c_rating,
        p1_0.b2c_retail_price,
        p1_0.b2c_review_count,
        p1_0.barcode,
        p1_0.bulk_discount_percentage,
        p1_0.bulk_discount_threshold,
        p1_0.bulk_package_size,
        p1_0.bulk_package_unit,
        p1_0.certification,
        p1_0.country_of_origin,
        p1_0.created_at,
        p1_0.custom_attributes,
        p1_0.customer_segments,
        p1_0.deliverable,
        p1_0.description,
        p1_0.dimensions,
        p1_0.inactive,
        p1_0.is_bulk_item,
        p1_0.is_perishable,
        p1_0.is_wholesale_only,
        p1_0.maximum_order_quantity,
        p1_0.minimum_order_quantity,
        p1_0.package_quantity,
        p1_0.package_size,
        p1_0.photo,
        p1_0.price_including_tax,
        p1_0.family_code,
        p1_0.promo_sku_points,
        p1_0.reference,
        p1_0.requires_approval,
        p1_0.requires_cold_storage,
        p1_0.requires_contract,
        p1_0.sale_price,
        p1_0.sale_unit,
        p1_0.seasonality,
        p1_0.sku,
        p1_0.stock_tracking,
        p1_0.supplier_code,
        p1_0.supplier_name,
        p1_0.target_market,
        p1_0.tax_rate,
        p1_0.title,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.vendable,
        p1_0.visible,
        p1_0.weight,
        p1_0.weight_unit,
        p1_0.wholesale_discount_percentage,
        p1_0.wholesale_minimum_quantity,
        p1_0.wholesale_price,
        p1_0.wholesale_tier_1_price,
        p1_0.wholesale_tier_1_quantity,
        p1_0.wholesale_tier_2_price,
        p1_0.wholesale_tier_2_quantity,
        p1_0.wholesale_tier_3_price,
        p1_0.wholesale_tier_3_quantity 
    from
        products p1_0 
    where
        p1_0.deliverable
2025-06-14 13:21:34 [main] INFO  m.f.o.s.p.s.CacheWarmingService - Warmed up deliverable products cache
2025-06-14 13:21:34 [main] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.additional_photos,
        p1_0.availability_schedule,
        p1_0.b2b_contract_discount_percentage,
        p1_0.b2b_contract_required,
        p1_0.b2b_credit_terms,
        p1_0.b2b_custom_pricing_enabled,
        p1_0.b2b_delivery_lead_time,
        p1_0.b2b_minimum_order_value,
        p1_0.b2b_payment_methods,
        p1_0.b2b_volume_discount_enabled,
        p1_0.b2c_display_in_catalog,
        p1_0.b2c_featured,
        p1_0.b2c_loyalty_points_multiplier,
        p1_0.b2c_promo_end_date,
        p1_0.b2c_promo_price,
        p1_0.b2c_promo_start_date,
        p1_0.b2c_rating,
        p1_0.b2c_retail_price,
        p1_0.b2c_review_count,
        p1_0.barcode,
        p1_0.bulk_discount_percentage,
        p1_0.bulk_discount_threshold,
        p1_0.bulk_package_size,
        p1_0.bulk_package_unit,
        p1_0.certification,
        p1_0.country_of_origin,
        p1_0.created_at,
        p1_0.custom_attributes,
        p1_0.customer_segments,
        p1_0.deliverable,
        p1_0.description,
        p1_0.dimensions,
        p1_0.inactive,
        p1_0.is_bulk_item,
        p1_0.is_perishable,
        p1_0.is_wholesale_only,
        p1_0.maximum_order_quantity,
        p1_0.minimum_order_quantity,
        p1_0.package_quantity,
        p1_0.package_size,
        p1_0.photo,
        p1_0.price_including_tax,
        p1_0.family_code,
        p1_0.promo_sku_points,
        p1_0.reference,
        p1_0.requires_approval,
        p1_0.requires_cold_storage,
        p1_0.requires_contract,
        p1_0.sale_price,
        p1_0.sale_unit,
        p1_0.seasonality,
        p1_0.sku,
        p1_0.stock_tracking,
        p1_0.supplier_code,
        p1_0.supplier_name,
        p1_0.target_market,
        p1_0.tax_rate,
        p1_0.title,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.vendable,
        p1_0.visible,
        p1_0.weight,
        p1_0.weight_unit,
        p1_0.wholesale_discount_percentage,
        p1_0.wholesale_minimum_quantity,
        p1_0.wholesale_price,
        p1_0.wholesale_tier_1_price,
        p1_0.wholesale_tier_1_quantity,
        p1_0.wholesale_tier_2_price,
        p1_0.wholesale_tier_2_quantity,
        p1_0.wholesale_tier_3_price,
        p1_0.wholesale_tier_3_quantity 
    from
        products p1_0 
    where
        not(p1_0.inactive)
2025-06-14 13:21:34 [main] INFO  m.f.o.s.p.s.CacheWarmingService - Warmed up active products cache
2025-06-14 13:21:34 [main] INFO  m.f.o.s.p.s.CacheWarmingService - Cache warm-up completed
2025-06-14 13:29:22 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-06-14 13:29:22 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-06-14 13:29:22 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-06-14 13:29:22 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-06-14 13:29:22 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-06-14 13:42:17 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - Starting FoodPlusOrderingApplication using Java 21.0.7 with PID 286753 (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes started by louki in /home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system)
2025-06-14 13:42:17 [main] DEBUG m.f.o.s.FoodPlusOrderingApplication - Running with Spring Boot v3.5.0, Spring v6.2.7
2025-06-14 13:42:17 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - The following 1 profile is active: "dev"
2025-06-14 13:42:18 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-14 13:42:18 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-14 13:42:18 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 155 ms. Found 10 JPA repository interfaces.
2025-06-14 13:42:19 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-14 13:42:19 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-06-14 13:42:19 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.common.repository.CategoryTarifRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 13:42:19 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.CustomerGroupRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 13:42:19 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.CustomerRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 13:42:19 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.ProductCustomerRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 13:42:19 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.DepotRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 13:42:19 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.ProductStockRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 13:42:19 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.SiteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 13:42:19 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.order.repository.OrderRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 13:42:19 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.product.repository.ProductRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 13:42:19 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.promos.repository.PromotionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 13:42:19 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 18 ms. Found 0 Redis repository interfaces.
2025-06-14 13:42:19 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8087 (http)
2025-06-14 13:42:19 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-14 13:42:19 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.41]
2025-06-14 13:42:19 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-14 13:42:19 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1850 ms
2025-06-14 13:42:20 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-06-14 13:42:20 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.15.Final
2025-06-14 13:42:20 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-06-14 13:42:20 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-06-14 13:42:20 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@49ea13b6
2025-06-14 13:42:20 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-06-14 13:42:20 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-06-14 13:42:20 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 17.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-06-14 13:42:20 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-06-14 13:42:21 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-06-14 13:42:21 [main] DEBUG org.hibernate.SQL - 
    set client_min_messages = WARNING
2025-06-14 13:42:21 [main] DEBUG org.hibernate.SQL - 
    alter table if exists categories 
       drop constraint if exists FKsaok720gsu4u2wrgbk10b5n8d
2025-06-14 13:42:21 [main] DEBUG org.hibernate.SQL - 
    alter table if exists customer_group_members 
       drop constraint if exists FKetr33gy3yxphaasg8pnk8wyvs
2025-06-14 13:42:21 [main] DEBUG org.hibernate.SQL - 
    alter table if exists customer_group_members 
       drop constraint if exists FKj7chtq65ntu6cwx5vtc3rngdp
2025-06-14 13:42:21 [main] DEBUG org.hibernate.SQL - 
    alter table if exists customers 
       drop constraint if exists FKdig1h8xu5vcu0rfcihvbh46wq
2025-06-14 13:42:21 [main] DEBUG org.hibernate.SQL - 
    alter table if exists depots 
       drop constraint if exists FK5qq91mnq7j5lemrap49cshimd
2025-06-14 13:42:21 [main] DEBUG org.hibernate.SQL - 
    alter table if exists order_item_applied_promotions 
       drop constraint if exists FK82i7jogqbstxwl46g1rywbwsu
2025-06-14 13:42:21 [main] DEBUG org.hibernate.SQL - 
    alter table if exists order_items 
       drop constraint if exists FKbioxgbv59vetrxe0ejfubep1w
2025-06-14 13:42:21 [main] DEBUG org.hibernate.SQL - 
    alter table if exists product_categories 
       drop constraint if exists FKd112rx0alycddsms029iifrih
2025-06-14 13:42:21 [main] DEBUG org.hibernate.SQL - 
    alter table if exists product_categories 
       drop constraint if exists FKlda9rad6s180ha3dl1ncsp8n7
2025-06-14 13:42:21 [main] DEBUG org.hibernate.SQL - 
    alter table if exists product_stocks 
       drop constraint if exists FKmcawg70vkgr4vfrsphtcoc8up
2025-06-14 13:42:21 [main] DEBUG org.hibernate.SQL - 
    alter table if exists products 
       drop constraint if exists FK53ooveoh14cvs7qns24gmlehh
2025-06-14 13:42:21 [main] DEBUG org.hibernate.SQL - 
    alter table if exists products_customer 
       drop constraint if exists FKnygquw0w0xvu9lfjpsbd6xmgv
2025-06-14 13:42:21 [main] DEBUG org.hibernate.SQL - 
    alter table if exists products_customer 
       drop constraint if exists FK4vdatfmkcw4aqwv41q569gq44
2025-06-14 13:42:21 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_conditions 
       drop constraint if exists FKjfph2mn5x5inav2a7wsxo2r2l
2025-06-14 13:42:21 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_customer_families 
       drop constraint if exists FKjy33meus9wkfyyp29kyxhaw3i
2025-06-14 13:42:21 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_customer_usage 
       drop constraint if exists FKtkdnuodmsbsskeejx4ksjgmsn
2025-06-14 13:42:21 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_dynamic_conditions 
       drop constraint if exists FKd2huyfw319bhk0frhvdh0v0ot
2025-06-14 13:42:21 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_excluded_categories 
       drop constraint if exists FKiamgbul5ugcmy9ewsemk31fng
2025-06-14 13:42:21 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_excluded_products 
       drop constraint if exists FK1s1aelilqwce11lxgop8yhud0
2025-06-14 13:42:21 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_lines 
       drop constraint if exists FKc6jg561k2bcyoja0im2kifdgb
2025-06-14 13:42:21 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_rules 
       drop constraint if exists FK6xcgfd4fvmkpqdlnln3opdmpg
2025-06-14 13:42:21 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_tiers 
       drop constraint if exists FK3iar32tvya9o51dqhtaf95ev6
2025-06-14 13:42:21 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_tiers 
       drop constraint if exists FKhw31w9eyoj371gg325124p1e9
2025-06-14 13:42:21 [main] DEBUG org.hibernate.SQL - 
    drop table if exists cat_tarif cascade
2025-06-14 13:42:21 [main] DEBUG org.hibernate.SQL - 
    drop table if exists categories cascade
2025-06-14 13:42:21 [main] DEBUG org.hibernate.SQL - 
    drop table if exists customer_group_members cascade
2025-06-14 13:42:21 [main] DEBUG org.hibernate.SQL - 
    drop table if exists customer_groups cascade
2025-06-14 13:42:21 [main] DEBUG org.hibernate.SQL - 
    drop table if exists customers cascade
2025-06-14 13:42:21 [main] DEBUG org.hibernate.SQL - 
    drop table if exists depots cascade
2025-06-14 13:42:21 [main] DEBUG org.hibernate.SQL - 
    drop table if exists order_item_applied_promotions cascade
2025-06-14 13:42:21 [main] DEBUG org.hibernate.SQL - 
    drop table if exists order_items cascade
2025-06-14 13:42:21 [main] DEBUG org.hibernate.SQL - 
    drop table if exists orders cascade
2025-06-14 13:42:21 [main] DEBUG org.hibernate.SQL - 
    drop table if exists product_categories cascade
2025-06-14 13:42:21 [main] DEBUG org.hibernate.SQL - 
    drop table if exists product_families cascade
2025-06-14 13:42:21 [main] DEBUG org.hibernate.SQL - 
    drop table if exists product_stocks cascade
2025-06-14 13:42:21 [main] DEBUG org.hibernate.SQL - 
    drop table if exists products cascade
2025-06-14 13:42:21 [main] DEBUG org.hibernate.SQL - 
    drop table if exists products_customer cascade
2025-06-14 13:42:21 [main] DEBUG org.hibernate.SQL - 
    drop table if exists promotion_conditions cascade
2025-06-14 13:42:21 [main] DEBUG org.hibernate.SQL - 
    drop table if exists promotion_customer_families cascade
2025-06-14 13:42:21 [main] DEBUG org.hibernate.SQL - 
    drop table if exists promotion_customer_usage cascade
2025-06-14 13:42:21 [main] DEBUG org.hibernate.SQL - 
    drop table if exists promotion_dynamic_conditions cascade
2025-06-14 13:42:21 [main] DEBUG org.hibernate.SQL - 
    drop table if exists promotion_excluded_categories cascade
2025-06-14 13:42:21 [main] DEBUG org.hibernate.SQL - 
    drop table if exists promotion_excluded_products cascade
2025-06-14 13:42:21 [main] DEBUG org.hibernate.SQL - 
    drop table if exists promotion_lines cascade
2025-06-14 13:42:21 [main] DEBUG org.hibernate.SQL - 
    drop table if exists promotion_rules cascade
2025-06-14 13:42:21 [main] DEBUG org.hibernate.SQL - 
    drop table if exists promotion_tiers cascade
2025-06-14 13:42:21 [main] DEBUG org.hibernate.SQL - 
    drop table if exists promotions cascade
2025-06-14 13:42:21 [main] DEBUG org.hibernate.SQL - 
    drop table if exists rewards cascade
2025-06-14 13:42:21 [main] DEBUG org.hibernate.SQL - 
    drop table if exists sites cascade
2025-06-14 13:42:21 [main] DEBUG org.hibernate.SQL - 
    create table cat_tarif (
        price_ttc numeric(24,6) not null,
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        updated_at timestamp(6) not null,
        description varchar(255) not null,
        primary key (id)
    )
2025-06-14 13:42:21 [main] DEBUG org.hibernate.SQL - 
    create table categories (
        is_active boolean not null,
        level integer not null,
        created_at timestamp(6) with time zone not null,
        id bigint generated by default as identity,
        parent_id bigint,
        updated_at timestamp(6) with time zone,
        description varchar(500),
        code varchar(255) not null unique,
        name varchar(255) not null,
        primary key (id)
    )
2025-06-14 13:42:21 [main] DEBUG org.hibernate.SQL - 
    create table customer_group_members (
        customer_id bigint not null,
        group_id bigint not null,
        primary key (customer_id, group_id)
    )
2025-06-14 13:42:21 [main] DEBUG org.hibernate.SQL - 
    create table customer_groups (
        created_at timestamp(6) with time zone not null,
        id bigint generated by default as identity,
        updated_at timestamp(6) with time zone,
        description varchar(255),
        name varchar(255) not null unique,
        primary key (id)
    )
2025-06-14 13:42:21 [main] DEBUG org.hibernate.SQL - 
    create table customers (
        annual_turnover numeric(38,2),
        average_order_value numeric(24,6),
        credit_limit numeric(24,6),
        credit_score integer,
        is_active boolean not null,
        is_vip boolean,
        loyalty_points integer,
        number_of_employees integer,
        outstanding_balance numeric(24,6),
        payment_term_days integer,
        total_orders integer,
        total_spent numeric(24,6),
        category_tarif_id bigint,
        contract_end_date timestamp(6) with time zone,
        contract_start_date timestamp(6) with time zone,
        created_at timestamp(6) with time zone not null,
        customer_since timestamp(6) with time zone,
        id bigint generated by default as identity,
        last_activity_date timestamp(6) with time zone,
        last_order_date timestamp(6) with time zone,
        last_payment_date timestamp(6) with time zone,
        updated_at timestamp(6) with time zone,
        address varchar(255),
        bank_account_info TEXT,
        business_activity varchar(255),
        city varchar(255),
        company_name varchar(255),
        contract_number varchar(255),
        contract_terms TEXT,
        contract_type varchar(255),
        country varchar(255),
        created_by varchar(255),
        credit_rating varchar(255),
        ct_num varchar(255) not null unique,
        customer_type varchar(255) not null check (customer_type in ('B2B','B2C')),
        delivery_terms TEXT,
        description varchar(255) not null,
        email varchar(255),
        ice varchar(255) not null,
        legal_form varchar(255),
        notes TEXT,
        payment_history TEXT,
        payment_terms TEXT,
        postal_code varchar(255),
        preferred_delivery_days varchar(255),
        preferred_delivery_time varchar(255),
        preferred_payment_method varchar(255),
        region varchar(255),
        registration_number varchar(255),
        special_conditions TEXT,
        special_handling_instructions TEXT,
        tax_id varchar(255),
        telecopie varchar(255),
        telephone varchar(255),
        updated_by varchar(255),
        vat_number varchar(255),
        primary key (id)
    )
2025-06-14 13:42:21 [main] DEBUG org.hibernate.SQL - 
    create table depots (
        capacity_cubic_meters float(53),
        is_active boolean,
        is_refrigerated boolean,
        security_level integer,
        created_at timestamp(6) with time zone not null,
        id bigint generated by default as identity,
        site_id bigint,
        updated_at timestamp(6) with time zone,
        access_restrictions varchar(255),
        depot_code varchar(255) not null unique,
        depot_type varchar(255) check (depot_type in ('MAIN_WAREHOUSE','DISTRIBUTION_CENTER','COLD_STORAGE','DRY_STORAGE','HAZARDOUS_MATERIALS','TEMPORARY_STORAGE','CROSS_DOCKING')),
        description varchar(255) not null,
        handling_equipment varchar(255),
        special_requirements TEXT,
        temperature_range varchar(255),
        primary key (id)
    )
2025-06-14 13:42:21 [main] DEBUG org.hibernate.SQL - 
    create table order_item_applied_promotions (
        order_item_id bigint not null,
        promotion_code varchar(255)
    )
2025-06-14 13:42:21 [main] DEBUG org.hibernate.SQL - 
    create table order_items (
        bulk_quantity_threshold integer,
        consumed_quantity integer not null,
        discount_amount numeric(38,2) not null,
        quantity integer not null,
        sku_points numeric(38,2),
        special_pricing boolean,
        tax_amount numeric(38,2) not null,
        total_price numeric(38,2) not null,
        unit_price numeric(38,2) not null,
        wholesale_price numeric(38,2),
        created_at timestamp(6) with time zone not null,
        id bigint generated by default as identity,
        order_id bigint not null,
        product_family_id bigint,
        product_id bigint not null,
        updated_at timestamp(6) with time zone,
        applied_promotion_code varchar(255),
        notes varchar(255),
        product_name varchar(255) not null,
        sku varchar(255),
        primary key (id)
    )
2025-06-14 13:42:21 [main] DEBUG org.hibernate.SQL - 
    create table orders (
        bulk_discount_percentage numeric(38,2),
        is_wholesale boolean not null,
        minimum_order_value numeric(38,2),
        shipping_cost numeric(38,2) not null,
        special_pricing_agreement boolean,
        subtotal numeric(38,2) not null,
        total numeric(38,2) not null,
        total_discount numeric(38,2) not null,
        total_tax numeric(38,2) not null,
        cancelled_at timestamp(6) with time zone,
        created_at timestamp(6) with time zone not null,
        customer_id bigint not null,
        delivered_at timestamp(6) with time zone,
        id bigint generated by default as identity,
        payment_due_date timestamp(6) with time zone,
        preferred_delivery_date timestamp(6) with time zone,
        refunded_at timestamp(6) with time zone,
        updated_at timestamp(6) with time zone,
        cancellation_reason varchar(255),
        contract_number varchar(255),
        created_by varchar(255),
        delivery_instructions varchar(255),
        internal_notes varchar(255),
        notes varchar(255),
        order_number varchar(255) not null unique,
        order_type varchar(255) not null check (order_type in ('B2B','B2C')),
        payment_method varchar(255) check (payment_method in ('CASH','CREDIT_CARD','DEBIT_CARD','MOBILE_PAYMENT','BANK_TRANSFER','CHECK','WIRE_TRANSFER','CREDIT_NOTE','LETTER_OF_CREDIT')),
        payment_notes varchar(255),
        payment_reference varchar(255),
        payment_status varchar(255) check (payment_status in ('PENDING','PARTIALLY_PAID','PAID','FAILED','REFUNDED','CANCELLED','ON_HOLD','IN_DISPUTE')),
        payment_terms varchar(255),
        po_number varchar(255),
        reference_number varchar(255),
        refund_reason varchar(255),
        shipping_address varchar(255),
        shipping_city varchar(255),
        shipping_country varchar(255),
        shipping_notes varchar(255),
        shipping_postal_code varchar(255),
        status varchar(255) not null check (status in ('DRAFT','PENDING','CONFIRMED','PREPARING','READY','DELIVERING','DELIVERED','CANCELLED','REFUNDED')),
        updated_by varchar(255),
        primary key (id)
    )
2025-06-14 13:42:21 [main] DEBUG org.hibernate.SQL - 
    create table product_categories (
        category_id bigint not null,
        product_id bigint not null
    )
2025-06-14 13:42:21 [main] DEBUG org.hibernate.SQL - 
    create table product_families (
        is_active boolean not null,
        created_at timestamp(6) with time zone not null,
        id bigint generated by default as identity,
        updated_at timestamp(6) with time zone,
        code varchar(255) not null unique,
        description varchar(255),
        name varchar(255) not null,
        primary key (id)
    )
2025-06-14 13:42:21 [main] DEBUG org.hibernate.SQL - 
    create table product_stocks (
        days_of_stock integer,
        expiry_date date,
        max_stock_level numeric(24,6),
        min_stock_level numeric(24,6),
        quantity numeric(24,6) not null,
        reorder_point numeric(24,6),
        reorder_quantity numeric(24,6),
        reserved_quantity numeric(24,6) not null,
        shelf_life_days integer,
        unit_cost numeric(24,6) not null,
        created_at timestamp(6) with time zone not null,
        depot_id bigint not null,
        id bigint generated by default as identity,
        last_purchase_date timestamp(6) with time zone,
        last_sale_date timestamp(6) with time zone,
        product_id bigint not null,
        updated_at timestamp(6) with time zone,
        storage_conditions varchar(100),
        notes varchar(500),
        quality_notes varchar(1000),
        batch_number varchar(255),
        depot_name varchar(255),
        location_code varchar(255),
        product_name varchar(255),
        quality_status varchar(255) not null check (quality_status in ('INSPECTED','INSPECTION_REQUIRED','QUARANTINED','DAMAGED','RECALLED')),
        primary key (id)
    )
2025-06-14 13:42:21 [main] DEBUG org.hibernate.SQL - 
    create table products (
        b2b_contract_discount_percentage numeric(5,2),
        b2b_contract_required boolean,
        b2b_credit_terms integer,
        b2b_custom_pricing_enabled boolean,
        b2b_delivery_lead_time integer,
        b2b_minimum_order_value numeric(19,2),
        b2b_volume_discount_enabled boolean,
        b2c_display_in_catalog boolean,
        b2c_featured boolean,
        b2c_loyalty_points_multiplier numeric(5,2),
        b2c_promo_price numeric(19,2),
        b2c_rating numeric(3,2),
        b2c_retail_price numeric(19,2),
        b2c_review_count integer,
        bulk_discount_percentage numeric(5,2),
        bulk_discount_threshold integer,
        bulk_package_size integer,
        deliverable boolean not null,
        inactive boolean not null,
        is_bulk_item boolean not null,
        is_perishable boolean not null,
        is_wholesale_only boolean not null,
        maximum_order_quantity integer,
        minimum_order_quantity integer,
        package_quantity integer,
        price_including_tax numeric(10,2) not null,
        promo_sku_points numeric(10,2) not null,
        requires_approval boolean not null,
        requires_cold_storage boolean not null,
        requires_contract boolean not null,
        sale_price numeric(10,2) not null,
        tax_rate numeric(5,2),
        unit_price numeric(38,2) not null,
        vendable boolean not null,
        visible boolean not null,
        weight numeric(10,3),
        wholesale_discount_percentage numeric(5,2),
        wholesale_minimum_quantity integer,
        wholesale_price numeric(10,2),
        wholesale_tier_1_price numeric(10,2),
        wholesale_tier_1_quantity integer,
        wholesale_tier_2_price numeric(10,2),
        wholesale_tier_2_quantity integer,
        wholesale_tier_3_price numeric(10,2),
        wholesale_tier_3_quantity integer,
        b2c_promo_end_date timestamp(6) with time zone,
        b2c_promo_start_date timestamp(6) with time zone,
        created_at timestamp(6) with time zone,
        id bigint generated by default as identity,
        updated_at timestamp(6) with time zone,
        weight_unit varchar(10),
        bulk_package_unit varchar(20),
        stock_tracking varchar(20) not null check (stock_tracking in ('Aucun','SERIALIZED','CMUP','FIFO','LIFO','PAR_LOT')),
        barcode varchar(36) unique,
        dimensions varchar(50),
        package_size varchar(50),
        sale_unit varchar(50),
        seasonality varchar(50),
        supplier_code varchar(50),
        target_market varchar(50),
        country_of_origin varchar(100),
        supplier_name varchar(100),
        certification varchar(200),
        photo varchar(500),
        title varchar(500) not null,
        availability_schedule jsonb,
        b2b_payment_methods varchar(255),
        custom_attributes jsonb,
        customer_segments varchar(255),
        description TEXT not null,
        family_code varchar(255),
        reference varchar(255) not null unique,
        sku varchar(255) not null unique,
        additional_photos TEXT[],
        primary key (id)
    )
2025-06-14 13:42:21 [main] DEBUG org.hibernate.SQL - 
    create table products_customer (
        coef numeric(12,2),
        is_active boolean,
        prix_ttc numeric(16,6) not null,
        prix_ven_nouv numeric(16,6),
        qte_mont integer,
        remise numeric(16,6),
        remise_nouv numeric(16,6),
        created_at timestamp(6) with time zone,
        id bigint generated by default as identity,
        reference_customer bigint not null,
        reference_product bigint not null,
        updated_at timestamp(6) with time zone,
        category varchar(50),
        primary key (id)
    )
2025-06-14 13:42:21 [main] DEBUG org.hibernate.SQL - 
    create table promotion_conditions (
        required_loyalty_level integer,
        customer_group_id bigint,
        id bigint generated by default as identity,
        rule_id bigint,
        attribute varchar(255) not null,
        condition_type varchar(255) not null check (condition_type in ('CART_SUBTOTAL','PRODUCT_IN_CART','CUSTOMER_IN_GROUP','TIME_OF_DAY','DAY_OF_WEEK','CUSTOMER_LOYALTY_LEVEL','PAYMENT_METHOD')),
        entity_id varchar(255),
        entity_type varchar(255),
        operator varchar(255) not null check (operator in ('EQUAL','NOT_EQUAL','GREATER_THAN','GREATER_THAN_OR_EQUAL','LESS_THAN','LESS_THAN_OR_EQUAL','CONTAINS','NOT_CONTAINS','IN','NOT_IN')),
        payment_method varchar(255),
        value varchar(255) not null,
        primary key (id)
    )
2025-06-14 13:42:21 [main] DEBUG org.hibernate.SQL - 
    create table promotion_customer_families (
        end_date timestamp(6) with time zone,
        id bigint generated by default as identity,
        promotion_id bigint,
        start_date timestamp(6) with time zone,
        customer_family_code varchar(255) not null,
        primary key (id)
    )
2025-06-14 13:42:21 [main] DEBUG org.hibernate.SQL - 
    create table promotion_customer_usage (
        usage_count integer,
        customer_id bigint not null,
        promotion_id bigint not null,
        primary key (customer_id, promotion_id)
    )
2025-06-14 13:42:21 [main] DEBUG org.hibernate.SQL - 
    create table promotion_dynamic_conditions (
        is_active boolean not null,
        threshold float(53),
        id bigint generated by default as identity,
        promotion_id bigint,
        condition_type varchar(255) not null,
        condition_value varchar(255) not null,
        description varchar(255),
        entity_id varchar(255),
        entity_type varchar(255),
        operator varchar(255) not null,
        primary key (id)
    )
2025-06-14 13:42:21 [main] DEBUG org.hibernate.SQL - 
    create table promotion_excluded_categories (
        category_id bigint,
        promotion_id bigint not null
    )
2025-06-14 13:42:21 [main] DEBUG org.hibernate.SQL - 
    create table promotion_excluded_products (
        product_id bigint,
        promotion_id bigint not null
    )
2025-06-14 13:42:21 [main] DEBUG org.hibernate.SQL - 
    create table promotion_lines (
        free_product_id bigint,
        id bigint generated by default as identity,
        paid_product_id bigint,
        promotion_id bigint,
        free_family_code varchar(255),
        paid_family_code varchar(255),
        primary key (id)
    )
2025-06-14 13:42:21 [main] DEBUG org.hibernate.SQL - 
    create table promotion_rules (
        repetition integer,
        id bigint generated by default as identity,
        promotion_id bigint,
        breakpoint_type varchar(255) not null check (breakpoint_type in ('AMOUNT','QUANTITY','SKU_POINTS')),
        calculation_method varchar(255) not null check (calculation_method in ('BRACKET','CUMULATIVE')),
        condition_logic varchar(255) not null check (condition_logic in ('ALL','ANY')),
        name varchar(255) not null,
        primary key (id)
    )
2025-06-14 13:42:21 [main] DEBUG org.hibernate.SQL - 
    create table promotion_tiers (
        minimum_threshold numeric(38,2) not null,
        id bigint generated by default as identity,
        reward_id bigint not null unique,
        rule_id bigint,
        primary key (id)
    )
2025-06-14 13:42:21 [main] DEBUG org.hibernate.SQL - 
    create table promotions (
        apply_first_matching_rule_only boolean,
        current_usage_count integer,
        index_discount integer,
        is_active boolean not null,
        is_exclusive boolean not null,
        max_usage_count integer,
        max_usage_per_customer integer,
        min_purchase_amount numeric(38,2),
        priority integer not null check (priority>=0),
        skip_to_sequence integer,
        end_date timestamp(6) with time zone not null,
        id bigint generated by default as identity,
        start_date timestamp(6) with time zone not null,
        combinability_group varchar(255),
        customer_group varchar(255),
        description varchar(255),
        name varchar(255) not null,
        promo_code varchar(255) not null unique,
        primary key (id)
    )
2025-06-14 13:42:21 [main] DEBUG org.hibernate.SQL - 
    create table rewards (
        value numeric(38,2) not null,
        id bigint generated by default as identity,
        target_entity_id bigint,
        reward_type varchar(255) not null check (reward_type in ('PERCENT_DISCOUNT_ON_ITEM','FIXED_DISCOUNT_ON_CART','FREE_PRODUCT')),
        target_entity_type varchar(255),
        primary key (id)
    )
2025-06-14 13:42:22 [main] DEBUG org.hibernate.SQL - 
    create table sites (
        capacity_sqm float(53),
        is_active boolean,
        created_at timestamp(6) with time zone not null,
        id bigint generated by default as identity,
        updated_at timestamp(6) with time zone,
        address_line1 varchar(255),
        city varchar(255),
        contact_email varchar(255),
        contact_phone varchar(255),
        country varchar(255),
        description varchar(255) not null,
        postal_code varchar(255),
        site_code varchar(255) not null unique,
        primary key (id)
    )
2025-06-14 13:42:22 [main] DEBUG org.hibernate.SQL - 
    alter table if exists categories 
       add constraint FKsaok720gsu4u2wrgbk10b5n8d 
       foreign key (parent_id) 
       references categories
2025-06-14 13:42:22 [main] DEBUG org.hibernate.SQL - 
    alter table if exists customer_group_members 
       add constraint FKetr33gy3yxphaasg8pnk8wyvs 
       foreign key (group_id) 
       references customer_groups
2025-06-14 13:42:22 [main] DEBUG org.hibernate.SQL - 
    alter table if exists customer_group_members 
       add constraint FKj7chtq65ntu6cwx5vtc3rngdp 
       foreign key (customer_id) 
       references customers
2025-06-14 13:42:22 [main] DEBUG org.hibernate.SQL - 
    alter table if exists customers 
       add constraint FKdig1h8xu5vcu0rfcihvbh46wq 
       foreign key (category_tarif_id) 
       references cat_tarif
2025-06-14 13:42:22 [main] DEBUG org.hibernate.SQL - 
    alter table if exists depots 
       add constraint FK5qq91mnq7j5lemrap49cshimd 
       foreign key (site_id) 
       references sites
2025-06-14 13:42:22 [main] DEBUG org.hibernate.SQL - 
    alter table if exists order_item_applied_promotions 
       add constraint FK82i7jogqbstxwl46g1rywbwsu 
       foreign key (order_item_id) 
       references order_items
2025-06-14 13:42:22 [main] DEBUG org.hibernate.SQL - 
    alter table if exists order_items 
       add constraint FKbioxgbv59vetrxe0ejfubep1w 
       foreign key (order_id) 
       references orders
2025-06-14 13:42:22 [main] DEBUG org.hibernate.SQL - 
    alter table if exists product_categories 
       add constraint FKd112rx0alycddsms029iifrih 
       foreign key (category_id) 
       references categories
2025-06-14 13:42:22 [main] DEBUG org.hibernate.SQL - 
    alter table if exists product_categories 
       add constraint FKlda9rad6s180ha3dl1ncsp8n7 
       foreign key (product_id) 
       references products
2025-06-14 13:42:22 [main] DEBUG org.hibernate.SQL - 
    alter table if exists product_stocks 
       add constraint FKmcawg70vkgr4vfrsphtcoc8up 
       foreign key (depot_id) 
       references depots
2025-06-14 13:42:22 [main] DEBUG org.hibernate.SQL - 
    alter table if exists products 
       add constraint FK53ooveoh14cvs7qns24gmlehh 
       foreign key (family_code) 
       references product_families (code)
2025-06-14 13:42:22 [main] DEBUG org.hibernate.SQL - 
    alter table if exists products_customer 
       add constraint FKnygquw0w0xvu9lfjpsbd6xmgv 
       foreign key (reference_customer) 
       references customers
2025-06-14 13:42:22 [main] DEBUG org.hibernate.SQL - 
    alter table if exists products_customer 
       add constraint FK4vdatfmkcw4aqwv41q569gq44 
       foreign key (reference_product) 
       references products
2025-06-14 13:42:22 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_conditions 
       add constraint FKjfph2mn5x5inav2a7wsxo2r2l 
       foreign key (rule_id) 
       references promotion_rules
2025-06-14 13:42:22 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_customer_families 
       add constraint FKjy33meus9wkfyyp29kyxhaw3i 
       foreign key (promotion_id) 
       references promotions
2025-06-14 13:42:22 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_customer_usage 
       add constraint FKtkdnuodmsbsskeejx4ksjgmsn 
       foreign key (promotion_id) 
       references promotions
2025-06-14 13:42:22 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_dynamic_conditions 
       add constraint FKd2huyfw319bhk0frhvdh0v0ot 
       foreign key (promotion_id) 
       references promotions
2025-06-14 13:42:22 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_excluded_categories 
       add constraint FKiamgbul5ugcmy9ewsemk31fng 
       foreign key (promotion_id) 
       references promotions
2025-06-14 13:42:22 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_excluded_products 
       add constraint FK1s1aelilqwce11lxgop8yhud0 
       foreign key (promotion_id) 
       references promotions
2025-06-14 13:42:22 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_lines 
       add constraint FKc6jg561k2bcyoja0im2kifdgb 
       foreign key (promotion_id) 
       references promotions
2025-06-14 13:42:22 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_rules 
       add constraint FK6xcgfd4fvmkpqdlnln3opdmpg 
       foreign key (promotion_id) 
       references promotions
2025-06-14 13:42:22 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_tiers 
       add constraint FK3iar32tvya9o51dqhtaf95ev6 
       foreign key (reward_id) 
       references rewards
2025-06-14 13:42:22 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_tiers 
       add constraint FKhw31w9eyoj371gg325124p1e9 
       foreign key (rule_id) 
       references promotion_rules
2025-06-14 13:42:22 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-06-14 13:42:22 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-06-14 13:42:24 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-06-14 13:42:25 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 4 endpoints beneath base path '/actuator'
2025-06-14 13:42:25 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8087 (http) with context path '/'
2025-06-14 13:42:25 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - Started FoodPlusOrderingApplication in 7.731 seconds (process running for 8.055)
2025-06-14 13:42:25 [main] INFO  m.f.o.s.p.s.CacheWarmingService - Starting cache warm-up...
2025-06-14 13:42:25 [main] INFO  m.f.o.s.p.s.CacheWarmingService - Warmed up all products cache
2025-06-14 13:42:25 [main] INFO  m.f.o.s.p.s.CacheWarmingService - Warmed up deliverable products cache
2025-06-14 13:42:25 [main] INFO  m.f.o.s.p.s.CacheWarmingService - Warmed up active products cache
2025-06-14 13:42:25 [main] INFO  m.f.o.s.p.s.CacheWarmingService - Cache warm-up completed
2025-06-14 13:43:10 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-06-14 13:43:10 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-06-14 13:43:10 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-06-14 13:43:10 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-06-14 13:43:10 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-06-14 13:43:12 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - Starting FoodPlusOrderingApplication using Java 21.0.7 with PID 287559 (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes started by louki in /home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system)
2025-06-14 13:43:12 [main] DEBUG m.f.o.s.FoodPlusOrderingApplication - Running with Spring Boot v3.5.0, Spring v6.2.7
2025-06-14 13:43:12 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - The following 1 profile is active: "dev"
2025-06-14 13:43:13 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-14 13:43:13 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-14 13:43:13 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 91 ms. Found 10 JPA repository interfaces.
2025-06-14 13:43:14 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-14 13:43:14 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-06-14 13:43:14 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.common.repository.CategoryTarifRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 13:43:14 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.CustomerGroupRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 13:43:14 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.CustomerRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 13:43:14 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.ProductCustomerRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 13:43:14 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.DepotRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 13:43:14 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.ProductStockRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 13:43:14 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.SiteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 13:43:14 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.order.repository.OrderRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 13:43:14 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.product.repository.ProductRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 13:43:14 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.promos.repository.PromotionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 13:43:14 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 21 ms. Found 0 Redis repository interfaces.
2025-06-14 13:43:14 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8087 (http)
2025-06-14 13:43:14 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-14 13:43:14 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.41]
2025-06-14 13:43:14 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-14 13:43:14 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2255 ms
2025-06-14 13:43:15 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-06-14 13:43:15 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.15.Final
2025-06-14 13:43:15 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-06-14 13:43:15 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-06-14 13:43:15 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@30333941
2025-06-14 13:43:15 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-06-14 13:43:15 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-06-14 13:43:15 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 17.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-06-14 13:43:15 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-06-14 13:43:17 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-06-14 13:43:17 [main] DEBUG org.hibernate.SQL - 
    set client_min_messages = WARNING
2025-06-14 13:43:17 [main] DEBUG org.hibernate.SQL - 
    alter table if exists categories 
       drop constraint if exists FKsaok720gsu4u2wrgbk10b5n8d
2025-06-14 13:43:17 [main] DEBUG org.hibernate.SQL - 
    alter table if exists customer_group_members 
       drop constraint if exists FKetr33gy3yxphaasg8pnk8wyvs
2025-06-14 13:43:17 [main] DEBUG org.hibernate.SQL - 
    alter table if exists customer_group_members 
       drop constraint if exists FKj7chtq65ntu6cwx5vtc3rngdp
2025-06-14 13:43:17 [main] DEBUG org.hibernate.SQL - 
    alter table if exists customers 
       drop constraint if exists FKdig1h8xu5vcu0rfcihvbh46wq
2025-06-14 13:43:17 [main] DEBUG org.hibernate.SQL - 
    alter table if exists depots 
       drop constraint if exists FK5qq91mnq7j5lemrap49cshimd
2025-06-14 13:43:17 [main] DEBUG org.hibernate.SQL - 
    alter table if exists order_item_applied_promotions 
       drop constraint if exists FK82i7jogqbstxwl46g1rywbwsu
2025-06-14 13:43:17 [main] DEBUG org.hibernate.SQL - 
    alter table if exists order_items 
       drop constraint if exists FKbioxgbv59vetrxe0ejfubep1w
2025-06-14 13:43:17 [main] DEBUG org.hibernate.SQL - 
    alter table if exists product_categories 
       drop constraint if exists FKd112rx0alycddsms029iifrih
2025-06-14 13:43:17 [main] DEBUG org.hibernate.SQL - 
    alter table if exists product_categories 
       drop constraint if exists FKlda9rad6s180ha3dl1ncsp8n7
2025-06-14 13:43:17 [main] DEBUG org.hibernate.SQL - 
    alter table if exists product_stocks 
       drop constraint if exists FKmcawg70vkgr4vfrsphtcoc8up
2025-06-14 13:43:17 [main] DEBUG org.hibernate.SQL - 
    alter table if exists products 
       drop constraint if exists FK53ooveoh14cvs7qns24gmlehh
2025-06-14 13:43:17 [main] DEBUG org.hibernate.SQL - 
    alter table if exists products_customer 
       drop constraint if exists FKnygquw0w0xvu9lfjpsbd6xmgv
2025-06-14 13:43:17 [main] DEBUG org.hibernate.SQL - 
    alter table if exists products_customer 
       drop constraint if exists FK4vdatfmkcw4aqwv41q569gq44
2025-06-14 13:43:17 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_conditions 
       drop constraint if exists FKjfph2mn5x5inav2a7wsxo2r2l
2025-06-14 13:43:17 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_customer_families 
       drop constraint if exists FKjy33meus9wkfyyp29kyxhaw3i
2025-06-14 13:43:17 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_customer_usage 
       drop constraint if exists FKtkdnuodmsbsskeejx4ksjgmsn
2025-06-14 13:43:17 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_dynamic_conditions 
       drop constraint if exists FKd2huyfw319bhk0frhvdh0v0ot
2025-06-14 13:43:17 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_excluded_categories 
       drop constraint if exists FKiamgbul5ugcmy9ewsemk31fng
2025-06-14 13:43:17 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_excluded_products 
       drop constraint if exists FK1s1aelilqwce11lxgop8yhud0
2025-06-14 13:43:17 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_lines 
       drop constraint if exists FKc6jg561k2bcyoja0im2kifdgb
2025-06-14 13:43:17 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_rules 
       drop constraint if exists FK6xcgfd4fvmkpqdlnln3opdmpg
2025-06-14 13:43:17 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_tiers 
       drop constraint if exists FK3iar32tvya9o51dqhtaf95ev6
2025-06-14 13:43:17 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_tiers 
       drop constraint if exists FKhw31w9eyoj371gg325124p1e9
2025-06-14 13:43:17 [main] DEBUG org.hibernate.SQL - 
    drop table if exists cat_tarif cascade
2025-06-14 13:43:17 [main] DEBUG org.hibernate.SQL - 
    drop table if exists categories cascade
2025-06-14 13:43:17 [main] DEBUG org.hibernate.SQL - 
    drop table if exists customer_group_members cascade
2025-06-14 13:43:17 [main] DEBUG org.hibernate.SQL - 
    drop table if exists customer_groups cascade
2025-06-14 13:43:17 [main] DEBUG org.hibernate.SQL - 
    drop table if exists customers cascade
2025-06-14 13:43:17 [main] DEBUG org.hibernate.SQL - 
    drop table if exists depots cascade
2025-06-14 13:43:17 [main] DEBUG org.hibernate.SQL - 
    drop table if exists order_item_applied_promotions cascade
2025-06-14 13:43:17 [main] DEBUG org.hibernate.SQL - 
    drop table if exists order_items cascade
2025-06-14 13:43:17 [main] DEBUG org.hibernate.SQL - 
    drop table if exists orders cascade
2025-06-14 13:43:17 [main] DEBUG org.hibernate.SQL - 
    drop table if exists product_categories cascade
2025-06-14 13:43:17 [main] DEBUG org.hibernate.SQL - 
    drop table if exists product_families cascade
2025-06-14 13:43:17 [main] DEBUG org.hibernate.SQL - 
    drop table if exists product_stocks cascade
2025-06-14 13:43:17 [main] DEBUG org.hibernate.SQL - 
    drop table if exists products cascade
2025-06-14 13:43:17 [main] DEBUG org.hibernate.SQL - 
    drop table if exists products_customer cascade
2025-06-14 13:43:17 [main] DEBUG org.hibernate.SQL - 
    drop table if exists promotion_conditions cascade
2025-06-14 13:43:17 [main] DEBUG org.hibernate.SQL - 
    drop table if exists promotion_customer_families cascade
2025-06-14 13:43:17 [main] DEBUG org.hibernate.SQL - 
    drop table if exists promotion_customer_usage cascade
2025-06-14 13:43:17 [main] DEBUG org.hibernate.SQL - 
    drop table if exists promotion_dynamic_conditions cascade
2025-06-14 13:43:17 [main] DEBUG org.hibernate.SQL - 
    drop table if exists promotion_excluded_categories cascade
2025-06-14 13:43:17 [main] DEBUG org.hibernate.SQL - 
    drop table if exists promotion_excluded_products cascade
2025-06-14 13:43:17 [main] DEBUG org.hibernate.SQL - 
    drop table if exists promotion_lines cascade
2025-06-14 13:43:17 [main] DEBUG org.hibernate.SQL - 
    drop table if exists promotion_rules cascade
2025-06-14 13:43:17 [main] DEBUG org.hibernate.SQL - 
    drop table if exists promotion_tiers cascade
2025-06-14 13:43:17 [main] DEBUG org.hibernate.SQL - 
    drop table if exists promotions cascade
2025-06-14 13:43:17 [main] DEBUG org.hibernate.SQL - 
    drop table if exists rewards cascade
2025-06-14 13:43:17 [main] DEBUG org.hibernate.SQL - 
    drop table if exists sites cascade
2025-06-14 13:43:17 [main] DEBUG org.hibernate.SQL - 
    create table cat_tarif (
        price_ttc numeric(24,6) not null,
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        updated_at timestamp(6) not null,
        description varchar(255) not null,
        primary key (id)
    )
2025-06-14 13:43:17 [main] DEBUG org.hibernate.SQL - 
    create table categories (
        is_active boolean not null,
        level integer not null,
        created_at timestamp(6) with time zone not null,
        id bigint generated by default as identity,
        parent_id bigint,
        updated_at timestamp(6) with time zone,
        description varchar(500),
        code varchar(255) not null unique,
        name varchar(255) not null,
        primary key (id)
    )
2025-06-14 13:43:17 [main] DEBUG org.hibernate.SQL - 
    create table customer_group_members (
        customer_id bigint not null,
        group_id bigint not null,
        primary key (customer_id, group_id)
    )
2025-06-14 13:43:17 [main] DEBUG org.hibernate.SQL - 
    create table customer_groups (
        created_at timestamp(6) with time zone not null,
        id bigint generated by default as identity,
        updated_at timestamp(6) with time zone,
        description varchar(255),
        name varchar(255) not null unique,
        primary key (id)
    )
2025-06-14 13:43:17 [main] DEBUG org.hibernate.SQL - 
    create table customers (
        annual_turnover numeric(38,2),
        average_order_value numeric(24,6),
        credit_limit numeric(24,6),
        credit_score integer,
        is_active boolean not null,
        is_vip boolean,
        loyalty_points integer,
        number_of_employees integer,
        outstanding_balance numeric(24,6),
        payment_term_days integer,
        total_orders integer,
        total_spent numeric(24,6),
        category_tarif_id bigint,
        contract_end_date timestamp(6) with time zone,
        contract_start_date timestamp(6) with time zone,
        created_at timestamp(6) with time zone not null,
        customer_since timestamp(6) with time zone,
        id bigint generated by default as identity,
        last_activity_date timestamp(6) with time zone,
        last_order_date timestamp(6) with time zone,
        last_payment_date timestamp(6) with time zone,
        updated_at timestamp(6) with time zone,
        address varchar(255),
        bank_account_info TEXT,
        business_activity varchar(255),
        city varchar(255),
        company_name varchar(255),
        contract_number varchar(255),
        contract_terms TEXT,
        contract_type varchar(255),
        country varchar(255),
        created_by varchar(255),
        credit_rating varchar(255),
        ct_num varchar(255) not null unique,
        customer_type varchar(255) not null check (customer_type in ('B2B','B2C')),
        delivery_terms TEXT,
        description varchar(255) not null,
        email varchar(255),
        ice varchar(255) not null,
        legal_form varchar(255),
        notes TEXT,
        payment_history TEXT,
        payment_terms TEXT,
        postal_code varchar(255),
        preferred_delivery_days varchar(255),
        preferred_delivery_time varchar(255),
        preferred_payment_method varchar(255),
        region varchar(255),
        registration_number varchar(255),
        special_conditions TEXT,
        special_handling_instructions TEXT,
        tax_id varchar(255),
        telecopie varchar(255),
        telephone varchar(255),
        updated_by varchar(255),
        vat_number varchar(255),
        primary key (id)
    )
2025-06-14 13:43:17 [main] DEBUG org.hibernate.SQL - 
    create table depots (
        capacity_cubic_meters float(53),
        is_active boolean,
        is_refrigerated boolean,
        security_level integer,
        created_at timestamp(6) with time zone not null,
        id bigint generated by default as identity,
        site_id bigint,
        updated_at timestamp(6) with time zone,
        access_restrictions varchar(255),
        depot_code varchar(255) not null unique,
        depot_type varchar(255) check (depot_type in ('MAIN_WAREHOUSE','DISTRIBUTION_CENTER','COLD_STORAGE','DRY_STORAGE','HAZARDOUS_MATERIALS','TEMPORARY_STORAGE','CROSS_DOCKING')),
        description varchar(255) not null,
        handling_equipment varchar(255),
        special_requirements TEXT,
        temperature_range varchar(255),
        primary key (id)
    )
2025-06-14 13:43:17 [main] DEBUG org.hibernate.SQL - 
    create table order_item_applied_promotions (
        order_item_id bigint not null,
        promotion_code varchar(255)
    )
2025-06-14 13:43:17 [main] DEBUG org.hibernate.SQL - 
    create table order_items (
        bulk_quantity_threshold integer,
        consumed_quantity integer not null,
        discount_amount numeric(38,2) not null,
        quantity integer not null,
        sku_points numeric(38,2),
        special_pricing boolean,
        tax_amount numeric(38,2) not null,
        total_price numeric(38,2) not null,
        unit_price numeric(38,2) not null,
        wholesale_price numeric(38,2),
        created_at timestamp(6) with time zone not null,
        id bigint generated by default as identity,
        order_id bigint not null,
        product_family_id bigint,
        product_id bigint not null,
        updated_at timestamp(6) with time zone,
        applied_promotion_code varchar(255),
        notes varchar(255),
        product_name varchar(255) not null,
        sku varchar(255),
        primary key (id)
    )
2025-06-14 13:43:17 [main] DEBUG org.hibernate.SQL - 
    create table orders (
        bulk_discount_percentage numeric(38,2),
        is_wholesale boolean not null,
        minimum_order_value numeric(38,2),
        shipping_cost numeric(38,2) not null,
        special_pricing_agreement boolean,
        subtotal numeric(38,2) not null,
        total numeric(38,2) not null,
        total_discount numeric(38,2) not null,
        total_tax numeric(38,2) not null,
        cancelled_at timestamp(6) with time zone,
        created_at timestamp(6) with time zone not null,
        customer_id bigint not null,
        delivered_at timestamp(6) with time zone,
        id bigint generated by default as identity,
        payment_due_date timestamp(6) with time zone,
        preferred_delivery_date timestamp(6) with time zone,
        refunded_at timestamp(6) with time zone,
        updated_at timestamp(6) with time zone,
        cancellation_reason varchar(255),
        contract_number varchar(255),
        created_by varchar(255),
        delivery_instructions varchar(255),
        internal_notes varchar(255),
        notes varchar(255),
        order_number varchar(255) not null unique,
        order_type varchar(255) not null check (order_type in ('B2B','B2C')),
        payment_method varchar(255) check (payment_method in ('CASH','CREDIT_CARD','DEBIT_CARD','MOBILE_PAYMENT','BANK_TRANSFER','CHECK','WIRE_TRANSFER','CREDIT_NOTE','LETTER_OF_CREDIT')),
        payment_notes varchar(255),
        payment_reference varchar(255),
        payment_status varchar(255) check (payment_status in ('PENDING','PARTIALLY_PAID','PAID','FAILED','REFUNDED','CANCELLED','ON_HOLD','IN_DISPUTE')),
        payment_terms varchar(255),
        po_number varchar(255),
        reference_number varchar(255),
        refund_reason varchar(255),
        shipping_address varchar(255),
        shipping_city varchar(255),
        shipping_country varchar(255),
        shipping_notes varchar(255),
        shipping_postal_code varchar(255),
        status varchar(255) not null check (status in ('DRAFT','PENDING','CONFIRMED','PREPARING','READY','DELIVERING','DELIVERED','CANCELLED','REFUNDED')),
        updated_by varchar(255),
        primary key (id)
    )
2025-06-14 13:43:17 [main] DEBUG org.hibernate.SQL - 
    create table product_categories (
        category_id bigint not null,
        product_id bigint not null
    )
2025-06-14 13:43:17 [main] DEBUG org.hibernate.SQL - 
    create table product_families (
        is_active boolean not null,
        created_at timestamp(6) with time zone not null,
        id bigint generated by default as identity,
        updated_at timestamp(6) with time zone,
        code varchar(255) not null unique,
        description varchar(255),
        name varchar(255) not null,
        primary key (id)
    )
2025-06-14 13:43:17 [main] DEBUG org.hibernate.SQL - 
    create table product_stocks (
        days_of_stock integer,
        expiry_date date,
        max_stock_level numeric(24,6),
        min_stock_level numeric(24,6),
        quantity numeric(24,6) not null,
        reorder_point numeric(24,6),
        reorder_quantity numeric(24,6),
        reserved_quantity numeric(24,6) not null,
        shelf_life_days integer,
        unit_cost numeric(24,6) not null,
        created_at timestamp(6) with time zone not null,
        depot_id bigint not null,
        id bigint generated by default as identity,
        last_purchase_date timestamp(6) with time zone,
        last_sale_date timestamp(6) with time zone,
        product_id bigint not null,
        updated_at timestamp(6) with time zone,
        storage_conditions varchar(100),
        notes varchar(500),
        quality_notes varchar(1000),
        batch_number varchar(255),
        depot_name varchar(255),
        location_code varchar(255),
        product_name varchar(255),
        quality_status varchar(255) not null check (quality_status in ('INSPECTED','INSPECTION_REQUIRED','QUARANTINED','DAMAGED','RECALLED')),
        primary key (id)
    )
2025-06-14 13:43:17 [main] DEBUG org.hibernate.SQL - 
    create table products (
        b2b_contract_discount_percentage numeric(5,2),
        b2b_contract_required boolean,
        b2b_credit_terms integer,
        b2b_custom_pricing_enabled boolean,
        b2b_delivery_lead_time integer,
        b2b_minimum_order_value numeric(19,2),
        b2b_volume_discount_enabled boolean,
        b2c_display_in_catalog boolean,
        b2c_featured boolean,
        b2c_loyalty_points_multiplier numeric(5,2),
        b2c_promo_price numeric(19,2),
        b2c_rating numeric(3,2),
        b2c_retail_price numeric(19,2),
        b2c_review_count integer,
        bulk_discount_percentage numeric(5,2),
        bulk_discount_threshold integer,
        bulk_package_size integer,
        deliverable boolean not null,
        inactive boolean not null,
        is_bulk_item boolean not null,
        is_perishable boolean not null,
        is_wholesale_only boolean not null,
        maximum_order_quantity integer,
        minimum_order_quantity integer,
        package_quantity integer,
        price_including_tax numeric(10,2) not null,
        promo_sku_points numeric(10,2) not null,
        requires_approval boolean not null,
        requires_cold_storage boolean not null,
        requires_contract boolean not null,
        sale_price numeric(10,2) not null,
        tax_rate numeric(5,2),
        unit_price numeric(38,2) not null,
        vendable boolean not null,
        visible boolean not null,
        weight numeric(10,3),
        wholesale_discount_percentage numeric(5,2),
        wholesale_minimum_quantity integer,
        wholesale_price numeric(10,2),
        wholesale_tier_1_price numeric(10,2),
        wholesale_tier_1_quantity integer,
        wholesale_tier_2_price numeric(10,2),
        wholesale_tier_2_quantity integer,
        wholesale_tier_3_price numeric(10,2),
        wholesale_tier_3_quantity integer,
        b2c_promo_end_date timestamp(6) with time zone,
        b2c_promo_start_date timestamp(6) with time zone,
        created_at timestamp(6) with time zone,
        id bigint generated by default as identity,
        updated_at timestamp(6) with time zone,
        weight_unit varchar(10),
        bulk_package_unit varchar(20),
        stock_tracking varchar(20) not null check (stock_tracking in ('Aucun','SERIALIZED','CMUP','FIFO','LIFO','PAR_LOT')),
        barcode varchar(36) unique,
        dimensions varchar(50),
        package_size varchar(50),
        sale_unit varchar(50),
        seasonality varchar(50),
        supplier_code varchar(50),
        target_market varchar(50),
        country_of_origin varchar(100),
        supplier_name varchar(100),
        certification varchar(200),
        photo varchar(500),
        title varchar(500) not null,
        availability_schedule jsonb,
        b2b_payment_methods varchar(255),
        custom_attributes jsonb,
        customer_segments varchar(255),
        description TEXT not null,
        family_code varchar(255),
        reference varchar(255) not null unique,
        sku varchar(255) not null unique,
        additional_photos TEXT[],
        primary key (id)
    )
2025-06-14 13:43:17 [main] DEBUG org.hibernate.SQL - 
    create table products_customer (
        coef numeric(12,2),
        is_active boolean,
        prix_ttc numeric(16,6) not null,
        prix_ven_nouv numeric(16,6),
        qte_mont integer,
        remise numeric(16,6),
        remise_nouv numeric(16,6),
        created_at timestamp(6) with time zone,
        id bigint generated by default as identity,
        reference_customer bigint not null,
        reference_product bigint not null,
        updated_at timestamp(6) with time zone,
        category varchar(50),
        primary key (id)
    )
2025-06-14 13:43:17 [main] DEBUG org.hibernate.SQL - 
    create table promotion_conditions (
        required_loyalty_level integer,
        customer_group_id bigint,
        id bigint generated by default as identity,
        rule_id bigint,
        attribute varchar(255) not null,
        condition_type varchar(255) not null check (condition_type in ('CART_SUBTOTAL','PRODUCT_IN_CART','CUSTOMER_IN_GROUP','TIME_OF_DAY','DAY_OF_WEEK','CUSTOMER_LOYALTY_LEVEL','PAYMENT_METHOD')),
        entity_id varchar(255),
        entity_type varchar(255),
        operator varchar(255) not null check (operator in ('EQUAL','NOT_EQUAL','GREATER_THAN','GREATER_THAN_OR_EQUAL','LESS_THAN','LESS_THAN_OR_EQUAL','CONTAINS','NOT_CONTAINS','IN','NOT_IN')),
        payment_method varchar(255),
        value varchar(255) not null,
        primary key (id)
    )
2025-06-14 13:43:17 [main] DEBUG org.hibernate.SQL - 
    create table promotion_customer_families (
        end_date timestamp(6) with time zone,
        id bigint generated by default as identity,
        promotion_id bigint,
        start_date timestamp(6) with time zone,
        customer_family_code varchar(255) not null,
        primary key (id)
    )
2025-06-14 13:43:17 [main] DEBUG org.hibernate.SQL - 
    create table promotion_customer_usage (
        usage_count integer,
        customer_id bigint not null,
        promotion_id bigint not null,
        primary key (customer_id, promotion_id)
    )
2025-06-14 13:43:17 [main] DEBUG org.hibernate.SQL - 
    create table promotion_dynamic_conditions (
        is_active boolean not null,
        threshold float(53),
        id bigint generated by default as identity,
        promotion_id bigint,
        condition_type varchar(255) not null,
        condition_value varchar(255) not null,
        description varchar(255),
        entity_id varchar(255),
        entity_type varchar(255),
        operator varchar(255) not null,
        primary key (id)
    )
2025-06-14 13:43:17 [main] DEBUG org.hibernate.SQL - 
    create table promotion_excluded_categories (
        category_id bigint,
        promotion_id bigint not null
    )
2025-06-14 13:43:17 [main] DEBUG org.hibernate.SQL - 
    create table promotion_excluded_products (
        product_id bigint,
        promotion_id bigint not null
    )
2025-06-14 13:43:17 [main] DEBUG org.hibernate.SQL - 
    create table promotion_lines (
        free_product_id bigint,
        id bigint generated by default as identity,
        paid_product_id bigint,
        promotion_id bigint,
        free_family_code varchar(255),
        paid_family_code varchar(255),
        primary key (id)
    )
2025-06-14 13:43:17 [main] DEBUG org.hibernate.SQL - 
    create table promotion_rules (
        repetition integer,
        id bigint generated by default as identity,
        promotion_id bigint,
        breakpoint_type varchar(255) not null check (breakpoint_type in ('AMOUNT','QUANTITY','SKU_POINTS')),
        calculation_method varchar(255) not null check (calculation_method in ('BRACKET','CUMULATIVE')),
        condition_logic varchar(255) not null check (condition_logic in ('ALL','ANY')),
        name varchar(255) not null,
        primary key (id)
    )
2025-06-14 13:43:17 [main] DEBUG org.hibernate.SQL - 
    create table promotion_tiers (
        minimum_threshold numeric(38,2) not null,
        id bigint generated by default as identity,
        reward_id bigint not null unique,
        rule_id bigint,
        primary key (id)
    )
2025-06-14 13:43:17 [main] DEBUG org.hibernate.SQL - 
    create table promotions (
        apply_first_matching_rule_only boolean,
        current_usage_count integer,
        index_discount integer,
        is_active boolean not null,
        is_exclusive boolean not null,
        max_usage_count integer,
        max_usage_per_customer integer,
        min_purchase_amount numeric(38,2),
        priority integer not null check (priority>=0),
        skip_to_sequence integer,
        end_date timestamp(6) with time zone not null,
        id bigint generated by default as identity,
        start_date timestamp(6) with time zone not null,
        combinability_group varchar(255),
        customer_group varchar(255),
        description varchar(255),
        name varchar(255) not null,
        promo_code varchar(255) not null unique,
        primary key (id)
    )
2025-06-14 13:43:17 [main] DEBUG org.hibernate.SQL - 
    create table rewards (
        value numeric(38,2) not null,
        id bigint generated by default as identity,
        target_entity_id bigint,
        reward_type varchar(255) not null check (reward_type in ('PERCENT_DISCOUNT_ON_ITEM','FIXED_DISCOUNT_ON_CART','FREE_PRODUCT')),
        target_entity_type varchar(255),
        primary key (id)
    )
2025-06-14 13:43:17 [main] DEBUG org.hibernate.SQL - 
    create table sites (
        capacity_sqm float(53),
        is_active boolean,
        created_at timestamp(6) with time zone not null,
        id bigint generated by default as identity,
        updated_at timestamp(6) with time zone,
        address_line1 varchar(255),
        city varchar(255),
        contact_email varchar(255),
        contact_phone varchar(255),
        country varchar(255),
        description varchar(255) not null,
        postal_code varchar(255),
        site_code varchar(255) not null unique,
        primary key (id)
    )
2025-06-14 13:43:17 [main] DEBUG org.hibernate.SQL - 
    alter table if exists categories 
       add constraint FKsaok720gsu4u2wrgbk10b5n8d 
       foreign key (parent_id) 
       references categories
2025-06-14 13:43:17 [main] DEBUG org.hibernate.SQL - 
    alter table if exists customer_group_members 
       add constraint FKetr33gy3yxphaasg8pnk8wyvs 
       foreign key (group_id) 
       references customer_groups
2025-06-14 13:43:17 [main] DEBUG org.hibernate.SQL - 
    alter table if exists customer_group_members 
       add constraint FKj7chtq65ntu6cwx5vtc3rngdp 
       foreign key (customer_id) 
       references customers
2025-06-14 13:43:17 [main] DEBUG org.hibernate.SQL - 
    alter table if exists customers 
       add constraint FKdig1h8xu5vcu0rfcihvbh46wq 
       foreign key (category_tarif_id) 
       references cat_tarif
2025-06-14 13:43:17 [main] DEBUG org.hibernate.SQL - 
    alter table if exists depots 
       add constraint FK5qq91mnq7j5lemrap49cshimd 
       foreign key (site_id) 
       references sites
2025-06-14 13:43:17 [main] DEBUG org.hibernate.SQL - 
    alter table if exists order_item_applied_promotions 
       add constraint FK82i7jogqbstxwl46g1rywbwsu 
       foreign key (order_item_id) 
       references order_items
2025-06-14 13:43:17 [main] DEBUG org.hibernate.SQL - 
    alter table if exists order_items 
       add constraint FKbioxgbv59vetrxe0ejfubep1w 
       foreign key (order_id) 
       references orders
2025-06-14 13:43:17 [main] DEBUG org.hibernate.SQL - 
    alter table if exists product_categories 
       add constraint FKd112rx0alycddsms029iifrih 
       foreign key (category_id) 
       references categories
2025-06-14 13:43:17 [main] DEBUG org.hibernate.SQL - 
    alter table if exists product_categories 
       add constraint FKlda9rad6s180ha3dl1ncsp8n7 
       foreign key (product_id) 
       references products
2025-06-14 13:43:17 [main] DEBUG org.hibernate.SQL - 
    alter table if exists product_stocks 
       add constraint FKmcawg70vkgr4vfrsphtcoc8up 
       foreign key (depot_id) 
       references depots
2025-06-14 13:43:17 [main] DEBUG org.hibernate.SQL - 
    alter table if exists products 
       add constraint FK53ooveoh14cvs7qns24gmlehh 
       foreign key (family_code) 
       references product_families (code)
2025-06-14 13:43:17 [main] DEBUG org.hibernate.SQL - 
    alter table if exists products_customer 
       add constraint FKnygquw0w0xvu9lfjpsbd6xmgv 
       foreign key (reference_customer) 
       references customers
2025-06-14 13:43:17 [main] DEBUG org.hibernate.SQL - 
    alter table if exists products_customer 
       add constraint FK4vdatfmkcw4aqwv41q569gq44 
       foreign key (reference_product) 
       references products
2025-06-14 13:43:17 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_conditions 
       add constraint FKjfph2mn5x5inav2a7wsxo2r2l 
       foreign key (rule_id) 
       references promotion_rules
2025-06-14 13:43:17 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_customer_families 
       add constraint FKjy33meus9wkfyyp29kyxhaw3i 
       foreign key (promotion_id) 
       references promotions
2025-06-14 13:43:17 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_customer_usage 
       add constraint FKtkdnuodmsbsskeejx4ksjgmsn 
       foreign key (promotion_id) 
       references promotions
2025-06-14 13:43:17 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_dynamic_conditions 
       add constraint FKd2huyfw319bhk0frhvdh0v0ot 
       foreign key (promotion_id) 
       references promotions
2025-06-14 13:43:17 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_excluded_categories 
       add constraint FKiamgbul5ugcmy9ewsemk31fng 
       foreign key (promotion_id) 
       references promotions
2025-06-14 13:43:17 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_excluded_products 
       add constraint FK1s1aelilqwce11lxgop8yhud0 
       foreign key (promotion_id) 
       references promotions
2025-06-14 13:43:17 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_lines 
       add constraint FKc6jg561k2bcyoja0im2kifdgb 
       foreign key (promotion_id) 
       references promotions
2025-06-14 13:43:17 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_rules 
       add constraint FK6xcgfd4fvmkpqdlnln3opdmpg 
       foreign key (promotion_id) 
       references promotions
2025-06-14 13:43:17 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_tiers 
       add constraint FK3iar32tvya9o51dqhtaf95ev6 
       foreign key (reward_id) 
       references rewards
2025-06-14 13:43:17 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_tiers 
       add constraint FKhw31w9eyoj371gg325124p1e9 
       foreign key (rule_id) 
       references promotion_rules
2025-06-14 13:43:17 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-06-14 13:43:17 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-06-14 13:43:19 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-06-14 13:43:20 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 4 endpoints beneath base path '/actuator'
2025-06-14 13:43:20 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8087 (http) with context path '/'
2025-06-14 13:43:20 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - Started FoodPlusOrderingApplication in 8.73 seconds (process running for 9.018)
2025-06-14 13:43:20 [main] INFO  m.f.o.s.p.s.CacheWarmingService - Starting cache warm-up...
2025-06-14 13:43:20 [main] INFO  m.f.o.s.p.s.CacheWarmingService - Warmed up all products cache
2025-06-14 13:43:20 [main] INFO  m.f.o.s.p.s.CacheWarmingService - Warmed up deliverable products cache
2025-06-14 13:43:20 [main] INFO  m.f.o.s.p.s.CacheWarmingService - Warmed up active products cache
2025-06-14 13:43:20 [main] INFO  m.f.o.s.p.s.CacheWarmingService - Cache warm-up completed
2025-06-14 13:43:37 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-06-14 13:43:37 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-06-14 13:43:37 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-06-14 13:43:37 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-06-14 13:43:37 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-06-14 13:44:04 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - Starting FoodPlusOrderingApplication using Java 21.0.7 with PID 288671 (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes started by louki in /home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system)
2025-06-14 13:44:04 [main] DEBUG m.f.o.s.FoodPlusOrderingApplication - Running with Spring Boot v3.5.0, Spring v6.2.7
2025-06-14 13:44:04 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - The following 1 profile is active: "dev"
2025-06-14 13:44:04 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-14 13:44:04 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-14 13:44:05 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 101 ms. Found 10 JPA repository interfaces.
2025-06-14 13:44:05 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-14 13:44:05 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-06-14 13:44:05 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.common.repository.CategoryTarifRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 13:44:05 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.CustomerGroupRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 13:44:05 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.CustomerRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 13:44:05 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.ProductCustomerRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 13:44:05 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.DepotRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 13:44:05 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.ProductStockRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 13:44:05 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.SiteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 13:44:05 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.order.repository.OrderRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 13:44:05 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.product.repository.ProductRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 13:44:05 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.promos.repository.PromotionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 13:44:05 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 19 ms. Found 0 Redis repository interfaces.
2025-06-14 13:44:06 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8087 (http)
2025-06-14 13:44:06 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-14 13:44:06 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.41]
2025-06-14 13:44:06 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-14 13:44:06 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1958 ms
2025-06-14 13:44:06 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-06-14 13:44:06 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.15.Final
2025-06-14 13:44:06 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-06-14 13:44:06 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-06-14 13:44:06 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@342394b3
2025-06-14 13:44:06 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-06-14 13:44:06 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-06-14 13:44:06 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 17.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-06-14 13:44:06 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-06-14 13:44:08 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-06-14 13:44:08 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-06-14 13:44:08 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-06-14 13:44:10 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-06-14 13:44:11 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 4 endpoints beneath base path '/actuator'
2025-06-14 13:44:11 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8087 (http) with context path '/'
2025-06-14 13:44:11 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - Started FoodPlusOrderingApplication in 7.891 seconds (process running for 8.272)
2025-06-14 13:44:11 [main] INFO  m.f.o.s.p.s.CacheWarmingService - Starting cache warm-up...
2025-06-14 13:44:11 [main] INFO  m.f.o.s.p.s.CacheWarmingService - Warmed up all products cache
2025-06-14 13:44:11 [main] INFO  m.f.o.s.p.s.CacheWarmingService - Warmed up deliverable products cache
2025-06-14 13:44:11 [main] INFO  m.f.o.s.p.s.CacheWarmingService - Warmed up active products cache
2025-06-14 13:44:11 [main] INFO  m.f.o.s.p.s.CacheWarmingService - Cache warm-up completed
2025-06-14 13:44:37 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-06-14 13:44:37 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-06-14 13:44:37 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-06-14 13:44:37 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-06-14 13:44:37 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-06-14 13:55:42 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - Starting FoodPlusOrderingApplication using Java 21.0.7 with PID 297240 (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes started by louki in /home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system)
2025-06-14 13:55:42 [main] DEBUG m.f.o.s.FoodPlusOrderingApplication - Running with Spring Boot v3.5.0, Spring v6.2.7
2025-06-14 13:55:42 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - The following 1 profile is active: "dev"
2025-06-14 13:55:43 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-14 13:55:43 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-14 13:55:43 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 134 ms. Found 10 JPA repository interfaces.
2025-06-14 13:55:43 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-14 13:55:43 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-06-14 13:55:43 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.common.repository.CategoryTarifRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 13:55:43 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.CustomerGroupRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 13:55:43 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.CustomerRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 13:55:43 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.ProductCustomerRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 13:55:43 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.DepotRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 13:55:43 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.ProductStockRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 13:55:43 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.SiteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 13:55:43 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.order.repository.OrderRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 13:55:43 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.product.repository.ProductRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 13:55:43 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.promos.repository.PromotionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 13:55:43 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 19 ms. Found 0 Redis repository interfaces.
2025-06-14 13:55:44 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8087 (http)
2025-06-14 13:55:44 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-14 13:55:44 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.41]
2025-06-14 13:55:44 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-14 13:55:44 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1902 ms
2025-06-14 13:55:44 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-06-14 13:55:44 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.15.Final
2025-06-14 13:55:44 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-06-14 13:55:45 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-06-14 13:55:45 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@61ce238e
2025-06-14 13:55:45 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-06-14 13:55:45 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-06-14 13:55:45 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 17.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-06-14 13:55:45 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-06-14 13:55:46 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-06-14 13:55:46 [main] DEBUG org.hibernate.SQL - 
    set client_min_messages = WARNING
2025-06-14 13:55:46 [main] DEBUG org.hibernate.SQL - 
    alter table if exists categories 
       drop constraint if exists FKsaok720gsu4u2wrgbk10b5n8d
2025-06-14 13:55:46 [main] DEBUG org.hibernate.SQL - 
    alter table if exists customer_group_members 
       drop constraint if exists FKetr33gy3yxphaasg8pnk8wyvs
2025-06-14 13:55:46 [main] DEBUG org.hibernate.SQL - 
    alter table if exists customer_group_members 
       drop constraint if exists FKj7chtq65ntu6cwx5vtc3rngdp
2025-06-14 13:55:46 [main] DEBUG org.hibernate.SQL - 
    alter table if exists customers 
       drop constraint if exists FKdig1h8xu5vcu0rfcihvbh46wq
2025-06-14 13:55:46 [main] DEBUG org.hibernate.SQL - 
    alter table if exists depots 
       drop constraint if exists FK5qq91mnq7j5lemrap49cshimd
2025-06-14 13:55:46 [main] DEBUG org.hibernate.SQL - 
    alter table if exists order_item_applied_promotions 
       drop constraint if exists FK82i7jogqbstxwl46g1rywbwsu
2025-06-14 13:55:46 [main] DEBUG org.hibernate.SQL - 
    alter table if exists order_items 
       drop constraint if exists FKbioxgbv59vetrxe0ejfubep1w
2025-06-14 13:55:46 [main] DEBUG org.hibernate.SQL - 
    alter table if exists product_categories 
       drop constraint if exists FKd112rx0alycddsms029iifrih
2025-06-14 13:55:46 [main] DEBUG org.hibernate.SQL - 
    alter table if exists product_categories 
       drop constraint if exists FKlda9rad6s180ha3dl1ncsp8n7
2025-06-14 13:55:46 [main] DEBUG org.hibernate.SQL - 
    alter table if exists product_stocks 
       drop constraint if exists FKmcawg70vkgr4vfrsphtcoc8up
2025-06-14 13:55:46 [main] DEBUG org.hibernate.SQL - 
    alter table if exists products 
       drop constraint if exists FK53ooveoh14cvs7qns24gmlehh
2025-06-14 13:55:46 [main] DEBUG org.hibernate.SQL - 
    alter table if exists products_customer 
       drop constraint if exists FKnygquw0w0xvu9lfjpsbd6xmgv
2025-06-14 13:55:46 [main] DEBUG org.hibernate.SQL - 
    alter table if exists products_customer 
       drop constraint if exists FK4vdatfmkcw4aqwv41q569gq44
2025-06-14 13:55:46 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_conditions 
       drop constraint if exists FKjfph2mn5x5inav2a7wsxo2r2l
2025-06-14 13:55:46 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_customer_families 
       drop constraint if exists FKjy33meus9wkfyyp29kyxhaw3i
2025-06-14 13:55:46 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_customer_usage 
       drop constraint if exists FKtkdnuodmsbsskeejx4ksjgmsn
2025-06-14 13:55:46 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_dynamic_conditions 
       drop constraint if exists FKd2huyfw319bhk0frhvdh0v0ot
2025-06-14 13:55:46 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_excluded_categories 
       drop constraint if exists FKiamgbul5ugcmy9ewsemk31fng
2025-06-14 13:55:46 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_excluded_products 
       drop constraint if exists FK1s1aelilqwce11lxgop8yhud0
2025-06-14 13:55:46 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_lines 
       drop constraint if exists FKc6jg561k2bcyoja0im2kifdgb
2025-06-14 13:55:46 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_rules 
       drop constraint if exists FK6xcgfd4fvmkpqdlnln3opdmpg
2025-06-14 13:55:46 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_tiers 
       drop constraint if exists FK3iar32tvya9o51dqhtaf95ev6
2025-06-14 13:55:46 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_tiers 
       drop constraint if exists FKhw31w9eyoj371gg325124p1e9
2025-06-14 13:55:46 [main] DEBUG org.hibernate.SQL - 
    drop table if exists cat_tarif cascade
2025-06-14 13:55:46 [main] DEBUG org.hibernate.SQL - 
    drop table if exists categories cascade
2025-06-14 13:55:46 [main] DEBUG org.hibernate.SQL - 
    drop table if exists customer_group_members cascade
2025-06-14 13:55:46 [main] DEBUG org.hibernate.SQL - 
    drop table if exists customer_groups cascade
2025-06-14 13:55:46 [main] DEBUG org.hibernate.SQL - 
    drop table if exists customers cascade
2025-06-14 13:55:46 [main] DEBUG org.hibernate.SQL - 
    drop table if exists depots cascade
2025-06-14 13:55:46 [main] DEBUG org.hibernate.SQL - 
    drop table if exists order_item_applied_promotions cascade
2025-06-14 13:55:46 [main] DEBUG org.hibernate.SQL - 
    drop table if exists order_items cascade
2025-06-14 13:55:46 [main] DEBUG org.hibernate.SQL - 
    drop table if exists orders cascade
2025-06-14 13:55:46 [main] DEBUG org.hibernate.SQL - 
    drop table if exists product_categories cascade
2025-06-14 13:55:46 [main] DEBUG org.hibernate.SQL - 
    drop table if exists product_families cascade
2025-06-14 13:55:46 [main] DEBUG org.hibernate.SQL - 
    drop table if exists product_stocks cascade
2025-06-14 13:55:46 [main] DEBUG org.hibernate.SQL - 
    drop table if exists products cascade
2025-06-14 13:55:46 [main] DEBUG org.hibernate.SQL - 
    drop table if exists products_customer cascade
2025-06-14 13:55:46 [main] DEBUG org.hibernate.SQL - 
    drop table if exists promotion_conditions cascade
2025-06-14 13:55:46 [main] DEBUG org.hibernate.SQL - 
    drop table if exists promotion_customer_families cascade
2025-06-14 13:55:46 [main] DEBUG org.hibernate.SQL - 
    drop table if exists promotion_customer_usage cascade
2025-06-14 13:55:46 [main] DEBUG org.hibernate.SQL - 
    drop table if exists promotion_dynamic_conditions cascade
2025-06-14 13:55:46 [main] DEBUG org.hibernate.SQL - 
    drop table if exists promotion_excluded_categories cascade
2025-06-14 13:55:46 [main] DEBUG org.hibernate.SQL - 
    drop table if exists promotion_excluded_products cascade
2025-06-14 13:55:46 [main] DEBUG org.hibernate.SQL - 
    drop table if exists promotion_lines cascade
2025-06-14 13:55:46 [main] DEBUG org.hibernate.SQL - 
    drop table if exists promotion_rules cascade
2025-06-14 13:55:46 [main] DEBUG org.hibernate.SQL - 
    drop table if exists promotion_tiers cascade
2025-06-14 13:55:46 [main] DEBUG org.hibernate.SQL - 
    drop table if exists promotions cascade
2025-06-14 13:55:46 [main] DEBUG org.hibernate.SQL - 
    drop table if exists rewards cascade
2025-06-14 13:55:46 [main] DEBUG org.hibernate.SQL - 
    drop table if exists sites cascade
2025-06-14 13:55:46 [main] DEBUG org.hibernate.SQL - 
    create table cat_tarif (
        price_ttc numeric(24,6) not null,
        created_at timestamp(6) not null,
        id bigint generated by default as identity,
        updated_at timestamp(6) not null,
        description varchar(255) not null,
        primary key (id)
    )
2025-06-14 13:55:46 [main] DEBUG org.hibernate.SQL - 
    create table categories (
        is_active boolean not null,
        level integer not null,
        created_at timestamp(6) with time zone not null,
        id bigint generated by default as identity,
        parent_id bigint,
        updated_at timestamp(6) with time zone,
        description varchar(500),
        code varchar(255) not null unique,
        name varchar(255) not null,
        primary key (id)
    )
2025-06-14 13:55:46 [main] DEBUG org.hibernate.SQL - 
    create table customer_group_members (
        customer_id bigint not null,
        group_id bigint not null,
        primary key (customer_id, group_id)
    )
2025-06-14 13:55:46 [main] DEBUG org.hibernate.SQL - 
    create table customer_groups (
        created_at timestamp(6) with time zone not null,
        id bigint generated by default as identity,
        updated_at timestamp(6) with time zone,
        description varchar(255),
        name varchar(255) not null unique,
        primary key (id)
    )
2025-06-14 13:55:46 [main] DEBUG org.hibernate.SQL - 
    create table customers (
        annual_turnover numeric(38,2),
        average_order_value numeric(24,6),
        credit_limit numeric(24,6),
        credit_score integer,
        is_active boolean not null,
        is_vip boolean,
        loyalty_points integer,
        number_of_employees integer,
        outstanding_balance numeric(24,6),
        payment_term_days integer,
        total_orders integer,
        total_spent numeric(24,6),
        category_tarif_id bigint,
        contract_end_date timestamp(6) with time zone,
        contract_start_date timestamp(6) with time zone,
        created_at timestamp(6) with time zone not null,
        customer_since timestamp(6) with time zone,
        id bigint generated by default as identity,
        last_activity_date timestamp(6) with time zone,
        last_order_date timestamp(6) with time zone,
        last_payment_date timestamp(6) with time zone,
        updated_at timestamp(6) with time zone,
        address varchar(255),
        bank_account_info TEXT,
        business_activity varchar(255),
        city varchar(255),
        company_name varchar(255),
        contract_number varchar(255),
        contract_terms TEXT,
        contract_type varchar(255),
        country varchar(255),
        created_by varchar(255),
        credit_rating varchar(255),
        ct_num varchar(255) not null unique,
        customer_type varchar(255) not null check (customer_type in ('B2B','B2C')),
        delivery_terms TEXT,
        description varchar(255) not null,
        email varchar(255),
        ice varchar(255) not null,
        legal_form varchar(255),
        notes TEXT,
        payment_history TEXT,
        payment_terms TEXT,
        postal_code varchar(255),
        preferred_delivery_days varchar(255),
        preferred_delivery_time varchar(255),
        preferred_payment_method varchar(255),
        region varchar(255),
        registration_number varchar(255),
        special_conditions TEXT,
        special_handling_instructions TEXT,
        tax_id varchar(255),
        telecopie varchar(255),
        telephone varchar(255),
        updated_by varchar(255),
        vat_number varchar(255),
        primary key (id)
    )
2025-06-14 13:55:46 [main] DEBUG org.hibernate.SQL - 
    create table depots (
        capacity_cubic_meters float(53),
        is_active boolean,
        is_refrigerated boolean,
        security_level integer,
        created_at timestamp(6) with time zone not null,
        id bigint generated by default as identity,
        site_id bigint,
        updated_at timestamp(6) with time zone,
        access_restrictions varchar(255),
        depot_code varchar(255) not null unique,
        depot_type varchar(255) check (depot_type in ('MAIN_WAREHOUSE','DISTRIBUTION_CENTER','COLD_STORAGE','DRY_STORAGE','HAZARDOUS_MATERIALS','TEMPORARY_STORAGE','CROSS_DOCKING')),
        description varchar(255) not null,
        handling_equipment varchar(255),
        special_requirements TEXT,
        temperature_range varchar(255),
        primary key (id)
    )
2025-06-14 13:55:46 [main] DEBUG org.hibernate.SQL - 
    create table order_item_applied_promotions (
        order_item_id bigint not null,
        promotion_code varchar(255)
    )
2025-06-14 13:55:46 [main] DEBUG org.hibernate.SQL - 
    create table order_items (
        bulk_quantity_threshold integer,
        consumed_quantity integer not null,
        discount_amount numeric(38,2) not null,
        quantity integer not null,
        sku_points numeric(38,2),
        special_pricing boolean,
        tax_amount numeric(38,2) not null,
        total_price numeric(38,2) not null,
        unit_price numeric(38,2) not null,
        wholesale_price numeric(38,2),
        created_at timestamp(6) with time zone not null,
        id bigint generated by default as identity,
        order_id bigint not null,
        product_family_id bigint,
        product_id bigint not null,
        updated_at timestamp(6) with time zone,
        applied_promotion_code varchar(255),
        notes varchar(255),
        product_name varchar(255) not null,
        sku varchar(255),
        primary key (id)
    )
2025-06-14 13:55:46 [main] DEBUG org.hibernate.SQL - 
    create table orders (
        bulk_discount_percentage numeric(38,2),
        is_wholesale boolean not null,
        minimum_order_value numeric(38,2),
        shipping_cost numeric(38,2) not null,
        special_pricing_agreement boolean,
        subtotal numeric(38,2) not null,
        total numeric(38,2) not null,
        total_discount numeric(38,2) not null,
        total_tax numeric(38,2) not null,
        cancelled_at timestamp(6) with time zone,
        created_at timestamp(6) with time zone not null,
        customer_id bigint not null,
        delivered_at timestamp(6) with time zone,
        id bigint generated by default as identity,
        payment_due_date timestamp(6) with time zone,
        preferred_delivery_date timestamp(6) with time zone,
        refunded_at timestamp(6) with time zone,
        updated_at timestamp(6) with time zone,
        cancellation_reason varchar(255),
        contract_number varchar(255),
        created_by varchar(255),
        delivery_instructions varchar(255),
        internal_notes varchar(255),
        notes varchar(255),
        order_number varchar(255) not null unique,
        order_type varchar(255) not null check (order_type in ('B2B','B2C')),
        payment_method varchar(255) check (payment_method in ('CASH','CREDIT_CARD','DEBIT_CARD','MOBILE_PAYMENT','BANK_TRANSFER','CHECK','WIRE_TRANSFER','CREDIT_NOTE','LETTER_OF_CREDIT')),
        payment_notes varchar(255),
        payment_reference varchar(255),
        payment_status varchar(255) check (payment_status in ('PENDING','PARTIALLY_PAID','PAID','FAILED','REFUNDED','CANCELLED','ON_HOLD','IN_DISPUTE')),
        payment_terms varchar(255),
        po_number varchar(255),
        reference_number varchar(255),
        refund_reason varchar(255),
        shipping_address varchar(255),
        shipping_city varchar(255),
        shipping_country varchar(255),
        shipping_notes varchar(255),
        shipping_postal_code varchar(255),
        status varchar(255) not null check (status in ('DRAFT','PENDING','CONFIRMED','PREPARING','READY','DELIVERING','DELIVERED','CANCELLED','REFUNDED')),
        updated_by varchar(255),
        primary key (id)
    )
2025-06-14 13:55:46 [main] DEBUG org.hibernate.SQL - 
    create table product_categories (
        category_id bigint not null,
        product_id bigint not null
    )
2025-06-14 13:55:46 [main] DEBUG org.hibernate.SQL - 
    create table product_families (
        is_active boolean not null,
        created_at timestamp(6) with time zone not null,
        id bigint generated by default as identity,
        updated_at timestamp(6) with time zone,
        code varchar(255) not null unique,
        description varchar(255),
        name varchar(255) not null,
        primary key (id)
    )
2025-06-14 13:55:46 [main] DEBUG org.hibernate.SQL - 
    create table product_stocks (
        days_of_stock integer,
        expiry_date date,
        max_stock_level numeric(24,6),
        min_stock_level numeric(24,6),
        quantity numeric(24,6) not null,
        reorder_point numeric(24,6),
        reorder_quantity numeric(24,6),
        reserved_quantity numeric(24,6) not null,
        shelf_life_days integer,
        unit_cost numeric(24,6) not null,
        created_at timestamp(6) with time zone not null,
        depot_id bigint not null,
        id bigint generated by default as identity,
        last_purchase_date timestamp(6) with time zone,
        last_sale_date timestamp(6) with time zone,
        product_id bigint not null,
        updated_at timestamp(6) with time zone,
        storage_conditions varchar(100),
        notes varchar(500),
        quality_notes varchar(1000),
        batch_number varchar(255),
        depot_name varchar(255),
        location_code varchar(255),
        product_name varchar(255),
        quality_status varchar(255) not null check (quality_status in ('INSPECTED','INSPECTION_REQUIRED','QUARANTINED','DAMAGED','RECALLED')),
        primary key (id)
    )
2025-06-14 13:55:46 [main] DEBUG org.hibernate.SQL - 
    create table products (
        b2b_contract_discount_percentage numeric(5,2),
        b2b_contract_required boolean,
        b2b_credit_terms integer,
        b2b_custom_pricing_enabled boolean,
        b2b_delivery_lead_time integer,
        b2b_minimum_order_value numeric(19,2),
        b2b_volume_discount_enabled boolean,
        b2c_display_in_catalog boolean,
        b2c_featured boolean,
        b2c_loyalty_points_multiplier numeric(5,2),
        b2c_promo_price numeric(19,2),
        b2c_rating numeric(3,2),
        b2c_retail_price numeric(19,2),
        b2c_review_count integer,
        bulk_discount_percentage numeric(5,2),
        bulk_discount_threshold integer,
        bulk_package_size integer,
        deliverable boolean not null,
        inactive boolean not null,
        is_bulk_item boolean not null,
        is_perishable boolean not null,
        is_wholesale_only boolean not null,
        maximum_order_quantity integer,
        minimum_order_quantity integer,
        package_quantity integer,
        price_including_tax numeric(10,2) not null,
        promo_sku_points numeric(10,2) not null,
        requires_approval boolean not null,
        requires_cold_storage boolean not null,
        requires_contract boolean not null,
        sale_price numeric(10,2) not null,
        tax_rate numeric(5,2),
        unit_price numeric(38,2) not null,
        vendable boolean not null,
        visible boolean not null,
        weight numeric(10,3),
        wholesale_discount_percentage numeric(5,2),
        wholesale_minimum_quantity integer,
        wholesale_price numeric(10,2),
        wholesale_tier_1_price numeric(10,2),
        wholesale_tier_1_quantity integer,
        wholesale_tier_2_price numeric(10,2),
        wholesale_tier_2_quantity integer,
        wholesale_tier_3_price numeric(10,2),
        wholesale_tier_3_quantity integer,
        b2c_promo_end_date timestamp(6) with time zone,
        b2c_promo_start_date timestamp(6) with time zone,
        created_at timestamp(6) with time zone,
        id bigint generated by default as identity,
        updated_at timestamp(6) with time zone,
        weight_unit varchar(10),
        bulk_package_unit varchar(20),
        stock_tracking varchar(20) not null check (stock_tracking in ('Aucun','SERIALIZED','CMUP','FIFO','LIFO','PAR_LOT')),
        barcode varchar(36) unique,
        dimensions varchar(50),
        package_size varchar(50),
        sale_unit varchar(50),
        seasonality varchar(50),
        supplier_code varchar(50),
        target_market varchar(50),
        country_of_origin varchar(100),
        supplier_name varchar(100),
        certification varchar(200),
        photo varchar(500),
        title varchar(500) not null,
        availability_schedule jsonb,
        b2b_payment_methods varchar(255),
        custom_attributes jsonb,
        customer_segments varchar(255),
        description TEXT not null,
        family_code varchar(255),
        reference varchar(255) not null unique,
        sku varchar(255) not null unique,
        additional_photos TEXT[],
        primary key (id)
    )
2025-06-14 13:55:46 [main] DEBUG org.hibernate.SQL - 
    create table products_customer (
        coef numeric(12,2),
        is_active boolean,
        prix_ttc numeric(16,6) not null,
        prix_ven_nouv numeric(16,6),
        qte_mont integer,
        remise numeric(16,6),
        remise_nouv numeric(16,6),
        created_at timestamp(6) with time zone,
        id bigint generated by default as identity,
        reference_customer bigint not null,
        reference_product bigint not null,
        updated_at timestamp(6) with time zone,
        category varchar(50),
        primary key (id)
    )
2025-06-14 13:55:46 [main] DEBUG org.hibernate.SQL - 
    create table promotion_conditions (
        required_loyalty_level integer,
        customer_group_id bigint,
        id bigint generated by default as identity,
        rule_id bigint,
        attribute varchar(255) not null,
        condition_type varchar(255) not null check (condition_type in ('CART_SUBTOTAL','PRODUCT_IN_CART','CUSTOMER_IN_GROUP','TIME_OF_DAY','DAY_OF_WEEK','CUSTOMER_LOYALTY_LEVEL','PAYMENT_METHOD')),
        entity_id varchar(255),
        entity_type varchar(255),
        operator varchar(255) not null check (operator in ('EQUAL','NOT_EQUAL','GREATER_THAN','GREATER_THAN_OR_EQUAL','LESS_THAN','LESS_THAN_OR_EQUAL','CONTAINS','NOT_CONTAINS','IN','NOT_IN')),
        payment_method varchar(255),
        value varchar(255) not null,
        primary key (id)
    )
2025-06-14 13:55:46 [main] DEBUG org.hibernate.SQL - 
    create table promotion_customer_families (
        end_date timestamp(6) with time zone,
        id bigint generated by default as identity,
        promotion_id bigint,
        start_date timestamp(6) with time zone,
        customer_family_code varchar(255) not null,
        primary key (id)
    )
2025-06-14 13:55:46 [main] DEBUG org.hibernate.SQL - 
    create table promotion_customer_usage (
        usage_count integer,
        customer_id bigint not null,
        promotion_id bigint not null,
        primary key (customer_id, promotion_id)
    )
2025-06-14 13:55:46 [main] DEBUG org.hibernate.SQL - 
    create table promotion_dynamic_conditions (
        is_active boolean not null,
        threshold float(53),
        id bigint generated by default as identity,
        promotion_id bigint,
        condition_type varchar(255) not null,
        condition_value varchar(255) not null,
        description varchar(255),
        entity_id varchar(255),
        entity_type varchar(255),
        operator varchar(255) not null,
        primary key (id)
    )
2025-06-14 13:55:46 [main] DEBUG org.hibernate.SQL - 
    create table promotion_excluded_categories (
        category_id bigint,
        promotion_id bigint not null
    )
2025-06-14 13:55:46 [main] DEBUG org.hibernate.SQL - 
    create table promotion_excluded_products (
        product_id bigint,
        promotion_id bigint not null
    )
2025-06-14 13:55:46 [main] DEBUG org.hibernate.SQL - 
    create table promotion_lines (
        free_product_id bigint,
        id bigint generated by default as identity,
        paid_product_id bigint,
        promotion_id bigint,
        free_family_code varchar(255),
        paid_family_code varchar(255),
        primary key (id)
    )
2025-06-14 13:55:46 [main] DEBUG org.hibernate.SQL - 
    create table promotion_rules (
        repetition integer,
        id bigint generated by default as identity,
        promotion_id bigint,
        breakpoint_type varchar(255) not null check (breakpoint_type in ('AMOUNT','QUANTITY','SKU_POINTS')),
        calculation_method varchar(255) not null check (calculation_method in ('BRACKET','CUMULATIVE')),
        condition_logic varchar(255) not null check (condition_logic in ('ALL','ANY')),
        name varchar(255) not null,
        primary key (id)
    )
2025-06-14 13:55:46 [main] DEBUG org.hibernate.SQL - 
    create table promotion_tiers (
        minimum_threshold numeric(38,2) not null,
        id bigint generated by default as identity,
        reward_id bigint not null unique,
        rule_id bigint,
        primary key (id)
    )
2025-06-14 13:55:46 [main] DEBUG org.hibernate.SQL - 
    create table promotions (
        apply_first_matching_rule_only boolean,
        current_usage_count integer,
        index_discount integer,
        is_active boolean not null,
        is_exclusive boolean not null,
        max_usage_count integer,
        max_usage_per_customer integer,
        min_purchase_amount numeric(38,2),
        priority integer not null check (priority>=0),
        skip_to_sequence integer,
        end_date timestamp(6) with time zone not null,
        id bigint generated by default as identity,
        start_date timestamp(6) with time zone not null,
        combinability_group varchar(255),
        customer_group varchar(255),
        description varchar(255),
        name varchar(255) not null,
        promo_code varchar(255) not null unique,
        primary key (id)
    )
2025-06-14 13:55:46 [main] DEBUG org.hibernate.SQL - 
    create table rewards (
        value numeric(38,2) not null,
        id bigint generated by default as identity,
        target_entity_id bigint,
        reward_type varchar(255) not null check (reward_type in ('PERCENT_DISCOUNT_ON_ITEM','FIXED_DISCOUNT_ON_CART','FREE_PRODUCT')),
        target_entity_type varchar(255),
        primary key (id)
    )
2025-06-14 13:55:46 [main] DEBUG org.hibernate.SQL - 
    create table sites (
        capacity_sqm float(53),
        is_active boolean,
        created_at timestamp(6) with time zone not null,
        id bigint generated by default as identity,
        updated_at timestamp(6) with time zone,
        address_line1 varchar(255),
        city varchar(255),
        contact_email varchar(255),
        contact_phone varchar(255),
        country varchar(255),
        description varchar(255) not null,
        postal_code varchar(255),
        site_code varchar(255) not null unique,
        primary key (id)
    )
2025-06-14 13:55:46 [main] DEBUG org.hibernate.SQL - 
    alter table if exists categories 
       add constraint FKsaok720gsu4u2wrgbk10b5n8d 
       foreign key (parent_id) 
       references categories
2025-06-14 13:55:46 [main] DEBUG org.hibernate.SQL - 
    alter table if exists customer_group_members 
       add constraint FKetr33gy3yxphaasg8pnk8wyvs 
       foreign key (group_id) 
       references customer_groups
2025-06-14 13:55:46 [main] DEBUG org.hibernate.SQL - 
    alter table if exists customer_group_members 
       add constraint FKj7chtq65ntu6cwx5vtc3rngdp 
       foreign key (customer_id) 
       references customers
2025-06-14 13:55:46 [main] DEBUG org.hibernate.SQL - 
    alter table if exists customers 
       add constraint FKdig1h8xu5vcu0rfcihvbh46wq 
       foreign key (category_tarif_id) 
       references cat_tarif
2025-06-14 13:55:46 [main] DEBUG org.hibernate.SQL - 
    alter table if exists depots 
       add constraint FK5qq91mnq7j5lemrap49cshimd 
       foreign key (site_id) 
       references sites
2025-06-14 13:55:46 [main] DEBUG org.hibernate.SQL - 
    alter table if exists order_item_applied_promotions 
       add constraint FK82i7jogqbstxwl46g1rywbwsu 
       foreign key (order_item_id) 
       references order_items
2025-06-14 13:55:46 [main] DEBUG org.hibernate.SQL - 
    alter table if exists order_items 
       add constraint FKbioxgbv59vetrxe0ejfubep1w 
       foreign key (order_id) 
       references orders
2025-06-14 13:55:46 [main] DEBUG org.hibernate.SQL - 
    alter table if exists product_categories 
       add constraint FKd112rx0alycddsms029iifrih 
       foreign key (category_id) 
       references categories
2025-06-14 13:55:46 [main] DEBUG org.hibernate.SQL - 
    alter table if exists product_categories 
       add constraint FKlda9rad6s180ha3dl1ncsp8n7 
       foreign key (product_id) 
       references products
2025-06-14 13:55:46 [main] DEBUG org.hibernate.SQL - 
    alter table if exists product_stocks 
       add constraint FKmcawg70vkgr4vfrsphtcoc8up 
       foreign key (depot_id) 
       references depots
2025-06-14 13:55:46 [main] DEBUG org.hibernate.SQL - 
    alter table if exists products 
       add constraint FK53ooveoh14cvs7qns24gmlehh 
       foreign key (family_code) 
       references product_families (code)
2025-06-14 13:55:46 [main] DEBUG org.hibernate.SQL - 
    alter table if exists products_customer 
       add constraint FKnygquw0w0xvu9lfjpsbd6xmgv 
       foreign key (reference_customer) 
       references customers
2025-06-14 13:55:46 [main] DEBUG org.hibernate.SQL - 
    alter table if exists products_customer 
       add constraint FK4vdatfmkcw4aqwv41q569gq44 
       foreign key (reference_product) 
       references products
2025-06-14 13:55:46 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_conditions 
       add constraint FKjfph2mn5x5inav2a7wsxo2r2l 
       foreign key (rule_id) 
       references promotion_rules
2025-06-14 13:55:46 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_customer_families 
       add constraint FKjy33meus9wkfyyp29kyxhaw3i 
       foreign key (promotion_id) 
       references promotions
2025-06-14 13:55:46 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_customer_usage 
       add constraint FKtkdnuodmsbsskeejx4ksjgmsn 
       foreign key (promotion_id) 
       references promotions
2025-06-14 13:55:46 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_dynamic_conditions 
       add constraint FKd2huyfw319bhk0frhvdh0v0ot 
       foreign key (promotion_id) 
       references promotions
2025-06-14 13:55:46 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_excluded_categories 
       add constraint FKiamgbul5ugcmy9ewsemk31fng 
       foreign key (promotion_id) 
       references promotions
2025-06-14 13:55:46 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_excluded_products 
       add constraint FK1s1aelilqwce11lxgop8yhud0 
       foreign key (promotion_id) 
       references promotions
2025-06-14 13:55:46 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_lines 
       add constraint FKc6jg561k2bcyoja0im2kifdgb 
       foreign key (promotion_id) 
       references promotions
2025-06-14 13:55:46 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_rules 
       add constraint FK6xcgfd4fvmkpqdlnln3opdmpg 
       foreign key (promotion_id) 
       references promotions
2025-06-14 13:55:46 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_tiers 
       add constraint FK3iar32tvya9o51dqhtaf95ev6 
       foreign key (reward_id) 
       references rewards
2025-06-14 13:55:46 [main] DEBUG org.hibernate.SQL - 
    alter table if exists promotion_tiers 
       add constraint FKhw31w9eyoj371gg325124p1e9 
       foreign key (rule_id) 
       references promotion_rules
2025-06-14 13:55:46 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-06-14 13:55:47 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-06-14 13:55:49 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-06-14 13:55:49 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 4 endpoints beneath base path '/actuator'
2025-06-14 13:55:49 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8087 (http) with context path '/'
2025-06-14 13:55:49 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - Started FoodPlusOrderingApplication in 7.903 seconds (process running for 8.227)
2025-06-14 13:55:50 [main] INFO  m.f.o.s.p.s.CacheWarmingService - Starting cache warm-up...
2025-06-14 13:55:50 [main] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.additional_photos,
        p1_0.availability_schedule,
        p1_0.b2b_contract_discount_percentage,
        p1_0.b2b_contract_required,
        p1_0.b2b_credit_terms,
        p1_0.b2b_custom_pricing_enabled,
        p1_0.b2b_delivery_lead_time,
        p1_0.b2b_minimum_order_value,
        p1_0.b2b_payment_methods,
        p1_0.b2b_volume_discount_enabled,
        p1_0.b2c_display_in_catalog,
        p1_0.b2c_featured,
        p1_0.b2c_loyalty_points_multiplier,
        p1_0.b2c_promo_end_date,
        p1_0.b2c_promo_price,
        p1_0.b2c_promo_start_date,
        p1_0.b2c_rating,
        p1_0.b2c_retail_price,
        p1_0.b2c_review_count,
        p1_0.barcode,
        p1_0.bulk_discount_percentage,
        p1_0.bulk_discount_threshold,
        p1_0.bulk_package_size,
        p1_0.bulk_package_unit,
        p1_0.certification,
        p1_0.country_of_origin,
        p1_0.created_at,
        p1_0.custom_attributes,
        p1_0.customer_segments,
        p1_0.deliverable,
        p1_0.description,
        p1_0.dimensions,
        p1_0.inactive,
        p1_0.is_bulk_item,
        p1_0.is_perishable,
        p1_0.is_wholesale_only,
        p1_0.maximum_order_quantity,
        p1_0.minimum_order_quantity,
        p1_0.package_quantity,
        p1_0.package_size,
        p1_0.photo,
        p1_0.price_including_tax,
        p1_0.family_code,
        p1_0.promo_sku_points,
        p1_0.reference,
        p1_0.requires_approval,
        p1_0.requires_cold_storage,
        p1_0.requires_contract,
        p1_0.sale_price,
        p1_0.sale_unit,
        p1_0.seasonality,
        p1_0.sku,
        p1_0.stock_tracking,
        p1_0.supplier_code,
        p1_0.supplier_name,
        p1_0.target_market,
        p1_0.tax_rate,
        p1_0.title,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.vendable,
        p1_0.visible,
        p1_0.weight,
        p1_0.weight_unit,
        p1_0.wholesale_discount_percentage,
        p1_0.wholesale_minimum_quantity,
        p1_0.wholesale_price,
        p1_0.wholesale_tier_1_price,
        p1_0.wholesale_tier_1_quantity,
        p1_0.wholesale_tier_2_price,
        p1_0.wholesale_tier_2_quantity,
        p1_0.wholesale_tier_3_price,
        p1_0.wholesale_tier_3_quantity 
    from
        products p1_0
2025-06-14 13:55:50 [main] INFO  m.f.o.s.p.s.CacheWarmingService - Warmed up all products cache
2025-06-14 13:55:50 [main] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.additional_photos,
        p1_0.availability_schedule,
        p1_0.b2b_contract_discount_percentage,
        p1_0.b2b_contract_required,
        p1_0.b2b_credit_terms,
        p1_0.b2b_custom_pricing_enabled,
        p1_0.b2b_delivery_lead_time,
        p1_0.b2b_minimum_order_value,
        p1_0.b2b_payment_methods,
        p1_0.b2b_volume_discount_enabled,
        p1_0.b2c_display_in_catalog,
        p1_0.b2c_featured,
        p1_0.b2c_loyalty_points_multiplier,
        p1_0.b2c_promo_end_date,
        p1_0.b2c_promo_price,
        p1_0.b2c_promo_start_date,
        p1_0.b2c_rating,
        p1_0.b2c_retail_price,
        p1_0.b2c_review_count,
        p1_0.barcode,
        p1_0.bulk_discount_percentage,
        p1_0.bulk_discount_threshold,
        p1_0.bulk_package_size,
        p1_0.bulk_package_unit,
        p1_0.certification,
        p1_0.country_of_origin,
        p1_0.created_at,
        p1_0.custom_attributes,
        p1_0.customer_segments,
        p1_0.deliverable,
        p1_0.description,
        p1_0.dimensions,
        p1_0.inactive,
        p1_0.is_bulk_item,
        p1_0.is_perishable,
        p1_0.is_wholesale_only,
        p1_0.maximum_order_quantity,
        p1_0.minimum_order_quantity,
        p1_0.package_quantity,
        p1_0.package_size,
        p1_0.photo,
        p1_0.price_including_tax,
        p1_0.family_code,
        p1_0.promo_sku_points,
        p1_0.reference,
        p1_0.requires_approval,
        p1_0.requires_cold_storage,
        p1_0.requires_contract,
        p1_0.sale_price,
        p1_0.sale_unit,
        p1_0.seasonality,
        p1_0.sku,
        p1_0.stock_tracking,
        p1_0.supplier_code,
        p1_0.supplier_name,
        p1_0.target_market,
        p1_0.tax_rate,
        p1_0.title,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.vendable,
        p1_0.visible,
        p1_0.weight,
        p1_0.weight_unit,
        p1_0.wholesale_discount_percentage,
        p1_0.wholesale_minimum_quantity,
        p1_0.wholesale_price,
        p1_0.wholesale_tier_1_price,
        p1_0.wholesale_tier_1_quantity,
        p1_0.wholesale_tier_2_price,
        p1_0.wholesale_tier_2_quantity,
        p1_0.wholesale_tier_3_price,
        p1_0.wholesale_tier_3_quantity 
    from
        products p1_0 
    where
        p1_0.deliverable
2025-06-14 13:55:50 [main] INFO  m.f.o.s.p.s.CacheWarmingService - Warmed up deliverable products cache
2025-06-14 13:55:50 [main] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.additional_photos,
        p1_0.availability_schedule,
        p1_0.b2b_contract_discount_percentage,
        p1_0.b2b_contract_required,
        p1_0.b2b_credit_terms,
        p1_0.b2b_custom_pricing_enabled,
        p1_0.b2b_delivery_lead_time,
        p1_0.b2b_minimum_order_value,
        p1_0.b2b_payment_methods,
        p1_0.b2b_volume_discount_enabled,
        p1_0.b2c_display_in_catalog,
        p1_0.b2c_featured,
        p1_0.b2c_loyalty_points_multiplier,
        p1_0.b2c_promo_end_date,
        p1_0.b2c_promo_price,
        p1_0.b2c_promo_start_date,
        p1_0.b2c_rating,
        p1_0.b2c_retail_price,
        p1_0.b2c_review_count,
        p1_0.barcode,
        p1_0.bulk_discount_percentage,
        p1_0.bulk_discount_threshold,
        p1_0.bulk_package_size,
        p1_0.bulk_package_unit,
        p1_0.certification,
        p1_0.country_of_origin,
        p1_0.created_at,
        p1_0.custom_attributes,
        p1_0.customer_segments,
        p1_0.deliverable,
        p1_0.description,
        p1_0.dimensions,
        p1_0.inactive,
        p1_0.is_bulk_item,
        p1_0.is_perishable,
        p1_0.is_wholesale_only,
        p1_0.maximum_order_quantity,
        p1_0.minimum_order_quantity,
        p1_0.package_quantity,
        p1_0.package_size,
        p1_0.photo,
        p1_0.price_including_tax,
        p1_0.family_code,
        p1_0.promo_sku_points,
        p1_0.reference,
        p1_0.requires_approval,
        p1_0.requires_cold_storage,
        p1_0.requires_contract,
        p1_0.sale_price,
        p1_0.sale_unit,
        p1_0.seasonality,
        p1_0.sku,
        p1_0.stock_tracking,
        p1_0.supplier_code,
        p1_0.supplier_name,
        p1_0.target_market,
        p1_0.tax_rate,
        p1_0.title,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.vendable,
        p1_0.visible,
        p1_0.weight,
        p1_0.weight_unit,
        p1_0.wholesale_discount_percentage,
        p1_0.wholesale_minimum_quantity,
        p1_0.wholesale_price,
        p1_0.wholesale_tier_1_price,
        p1_0.wholesale_tier_1_quantity,
        p1_0.wholesale_tier_2_price,
        p1_0.wholesale_tier_2_quantity,
        p1_0.wholesale_tier_3_price,
        p1_0.wholesale_tier_3_quantity 
    from
        products p1_0 
    where
        not(p1_0.inactive)
2025-06-14 13:55:50 [main] INFO  m.f.o.s.p.s.CacheWarmingService - Warmed up active products cache
2025-06-14 13:55:50 [main] INFO  m.f.o.s.p.s.CacheWarmingService - Cache warm-up completed
2025-06-14 13:56:15 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-06-14 13:56:15 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-06-14 13:56:15 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-06-14 13:56:15 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-06-14 13:56:15 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-06-14 13:59:31 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - Starting FoodPlusOrderingApplication using Java 21.0.7 with PID 300225 (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes started by louki in /home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system)
2025-06-14 13:59:31 [main] DEBUG m.f.o.s.FoodPlusOrderingApplication - Running with Spring Boot v3.5.0, Spring v6.2.7
2025-06-14 13:59:31 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - The following 1 profile is active: "dev"
2025-06-14 13:59:31 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-14 13:59:31 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-14 13:59:31 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 83 ms. Found 10 JPA repository interfaces.
2025-06-14 13:59:32 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-14 13:59:32 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-06-14 13:59:32 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.common.repository.CategoryTarifRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 13:59:32 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.CustomerGroupRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 13:59:32 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.CustomerRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 13:59:32 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.ProductCustomerRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 13:59:32 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.DepotRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 13:59:32 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.ProductStockRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 13:59:32 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.SiteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 13:59:32 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.order.repository.OrderRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 13:59:32 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.product.repository.ProductRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 13:59:32 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.promos.repository.PromotionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 13:59:32 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 18 ms. Found 0 Redis repository interfaces.
2025-06-14 13:59:32 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8087 (http)
2025-06-14 13:59:32 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-14 13:59:32 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.41]
2025-06-14 13:59:32 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-14 13:59:32 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1751 ms
2025-06-14 13:59:33 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-06-14 13:59:33 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@4a6ef712
2025-06-14 13:59:33 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-06-14 13:59:33 [main] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://10.113.181.84:5432/foodplus_ordering (PostgreSQL 17.5)
2025-06-14 13:59:33 [main] INFO  o.f.c.i.s.JdbcTableSchemaHistory - Schema history table "public"."flyway_schema_history" does not exist yet
2025-06-14 13:59:33 [main] INFO  o.f.core.internal.command.DbValidate - Successfully validated 3 migrations (execution time 00:00.017s)
2025-06-14 13:59:33 [main] INFO  org.flywaydb.core.Flyway - All configured schemas are empty; baseline operation skipped. A baseline or migration script with a lower version than the baseline version may execute if available. Check the Schemas parameter if this is not intended.
2025-06-14 13:59:33 [main] INFO  o.f.c.i.s.JdbcTableSchemaHistory - Creating Schema History table "public"."flyway_schema_history" ...
2025-06-14 13:59:33 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "public": << Empty Schema >>
2025-06-14 13:59:33 [main] WARN  o.f.core.internal.command.DbMigrate - outOfOrder mode is active. Migration of schema "public" may not be reproducible.
2025-06-14 13:59:33 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "public" to version "1.0.0 - create base tables"
2025-06-14 13:59:33 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "public" to version "1.0.4 - add performance indexes"
2025-06-14 13:59:33 [main] ERROR o.f.core.internal.command.DbMigrate - Migration of schema "public" to version "1.0.4 - add performance indexes" failed! Changes successfully rolled back.
2025-06-14 13:59:33 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Script V1.0.4__add_performance_indexes.sql failed
-------------------------------------------------
SQL State  : 42703
Error Code : 0
Message    : ERROR: column "code" does not exist
Location   : db/migration/V1.0.4__add_performance_indexes.sql (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/db/migration/V1.0.4__add_performance_indexes.sql)
Line       : 4
Statement  : Run Flyway with -X option to see the actual statement causing the problem

2025-06-14 13:59:33 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-06-14 13:59:33 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-06-14 13:59:33 [main] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-06-14 13:59:33 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-06-14 13:59:33 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Script V1.0.4__add_performance_indexes.sql failed
-------------------------------------------------
SQL State  : 42703
Error Code : 0
Message    : ERROR: column "code" does not exist
Location   : db/migration/V1.0.4__add_performance_indexes.sql (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/db/migration/V1.0.4__add_performance_indexes.sql)
Line       : 4
Statement  : Run Flyway with -X option to see the actual statement causing the problem

	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:328)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:753)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1362)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1351)
	at ma.foodplus.ordering.system.FoodPlusOrderingApplication.main(FoodPlusOrderingApplication.java:22)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Script V1.0.4__add_performance_indexes.sql failed
-------------------------------------------------
SQL State  : 42703
Error Code : 0
Message    : ERROR: column "code" does not exist
Location   : db/migration/V1.0.4__add_performance_indexes.sql (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/db/migration/V1.0.4__add_performance_indexes.sql)
Line       : 4
Statement  : Run Flyway with -X option to see the actual statement causing the problem

	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1826)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:607)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315)
	... 10 common frames omitted
Caused by: org.flywaydb.core.internal.exception.FlywayMigrateException: Script V1.0.4__add_performance_indexes.sql failed
-------------------------------------------------
SQL State  : 42703
Error Code : 0
Message    : ERROR: column "code" does not exist
Location   : db/migration/V1.0.4__add_performance_indexes.sql (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/db/migration/V1.0.4__add_performance_indexes.sql)
Line       : 4
Statement  : Run Flyway with -X option to see the actual statement causing the problem

	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:399)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$applyMigrations$1(DbMigrate.java:283)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:59)
	at org.flywaydb.core.internal.command.DbMigrate.applyMigrations(DbMigrate.java:282)
	at org.flywaydb.core.internal.command.DbMigrate.migrateGroup(DbMigrate.java:255)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$migrateAll$0(DbMigrate.java:153)
	at org.flywaydb.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:77)
	at org.flywaydb.database.postgresql.PostgreSQLAdvisoryLockTemplate.lambda$execute$0(PostgreSQLAdvisoryLockTemplate.java:60)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:59)
	at org.flywaydb.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:60)
	at org.flywaydb.database.postgresql.PostgreSQLConnection.lock(PostgreSQLConnection.java:105)
	at org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory.lock(JdbcTableSchemaHistory.java:164)
	at org.flywaydb.core.internal.command.DbMigrate.migrateAll(DbMigrate.java:153)
	at org.flywaydb.core.internal.command.DbMigrate.migrate(DbMigrate.java:104)
	at org.flywaydb.core.Flyway.lambda$migrate$1(Flyway.java:247)
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:210)
	at org.flywaydb.core.Flyway.migrate(Flyway.java:188)
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1873)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1822)
	... 17 common frames omitted
Caused by: org.flywaydb.core.internal.sqlscript.FlywaySqlScriptException: Script V1.0.4__add_performance_indexes.sql failed
-------------------------------------------------
SQL State  : 42703
Error Code : 0
Message    : ERROR: column "code" does not exist
Location   : db/migration/V1.0.4__add_performance_indexes.sql (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/db/migration/V1.0.4__add_performance_indexes.sql)
Line       : 4
Statement  : Run Flyway with -X option to see the actual statement causing the problem

	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.handleException(DefaultSqlScriptExecutor.java:256)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:217)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.execute(DefaultSqlScriptExecutor.java:137)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.executeOnce(SqlMigrationExecutor.java:75)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.lambda$execute$0(SqlMigrationExecutor.java:66)
	at org.flywaydb.core.internal.database.DefaultExecutionStrategy.execute(DefaultExecutionStrategy.java:31)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.execute(SqlMigrationExecutor.java:65)
	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:391)
	... 36 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERROR: column "code" does not exist
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:356)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:341)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:317)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:312)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.flywaydb.core.internal.jdbc.JdbcTemplate.executeStatement(JdbcTemplate.java:215)
	at org.flywaydb.core.internal.sqlscript.ParsedSqlStatement.execute(ParsedSqlStatement.java:88)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:212)
	... 42 common frames omitted
2025-06-14 14:02:20 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - Starting FoodPlusOrderingApplication using Java 21.0.7 with PID 302392 (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes started by louki in /home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system)
2025-06-14 14:02:20 [main] DEBUG m.f.o.s.FoodPlusOrderingApplication - Running with Spring Boot v3.5.0, Spring v6.2.7
2025-06-14 14:02:20 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - The following 1 profile is active: "dev"
2025-06-14 14:02:21 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-14 14:02:21 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-14 14:02:21 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 89 ms. Found 10 JPA repository interfaces.
2025-06-14 14:02:21 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-14 14:02:21 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-06-14 14:02:21 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.common.repository.CategoryTarifRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:02:21 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.CustomerGroupRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:02:21 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.CustomerRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:02:21 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.ProductCustomerRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:02:21 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.DepotRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:02:21 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.ProductStockRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:02:21 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.SiteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:02:21 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.order.repository.OrderRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:02:21 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.product.repository.ProductRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:02:21 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.promos.repository.PromotionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:02:21 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 23 ms. Found 0 Redis repository interfaces.
2025-06-14 14:02:22 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8087 (http)
2025-06-14 14:02:22 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-14 14:02:22 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.41]
2025-06-14 14:02:22 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-14 14:02:22 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1794 ms
2025-06-14 14:02:22 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-06-14 14:02:23 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@696298ea
2025-06-14 14:02:23 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-06-14 14:02:23 [main] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://10.113.181.84:5432/foodplus_ordering (PostgreSQL 17.5)
2025-06-14 14:02:23 [main] INFO  o.f.c.i.s.JdbcTableSchemaHistory - Schema history table "public"."flyway_schema_history" does not exist yet
2025-06-14 14:02:23 [main] INFO  o.f.core.internal.command.DbValidate - Successfully validated 3 migrations (execution time 00:00.013s)
2025-06-14 14:02:23 [main] INFO  org.flywaydb.core.Flyway - All configured schemas are empty; baseline operation skipped. A baseline or migration script with a lower version than the baseline version may execute if available. Check the Schemas parameter if this is not intended.
2025-06-14 14:02:23 [main] INFO  o.f.c.i.s.JdbcTableSchemaHistory - Creating Schema History table "public"."flyway_schema_history" ...
2025-06-14 14:02:23 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "public": << Empty Schema >>
2025-06-14 14:02:23 [main] WARN  o.f.core.internal.command.DbMigrate - outOfOrder mode is active. Migration of schema "public" may not be reproducible.
2025-06-14 14:02:23 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "public" to version "1.0.0 - create base tables"
2025-06-14 14:02:23 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "public" to version "1.0.4 - add performance indexes"
2025-06-14 14:02:23 [main] ERROR o.f.core.internal.command.DbMigrate - Migration of schema "public" to version "1.0.4 - add performance indexes" failed! Changes successfully rolled back.
2025-06-14 14:02:23 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Script V1.0.4__add_performance_indexes.sql failed
-------------------------------------------------
SQL State  : 42703
Error Code : 0
Message    : ERROR: column "code" does not exist
Location   : db/migration/V1.0.4__add_performance_indexes.sql (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/db/migration/V1.0.4__add_performance_indexes.sql)
Line       : 4
Statement  : Run Flyway with -X option to see the actual statement causing the problem

2025-06-14 14:02:23 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-06-14 14:02:23 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-06-14 14:02:23 [main] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-06-14 14:02:23 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-06-14 14:02:23 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Script V1.0.4__add_performance_indexes.sql failed
-------------------------------------------------
SQL State  : 42703
Error Code : 0
Message    : ERROR: column "code" does not exist
Location   : db/migration/V1.0.4__add_performance_indexes.sql (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/db/migration/V1.0.4__add_performance_indexes.sql)
Line       : 4
Statement  : Run Flyway with -X option to see the actual statement causing the problem

	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:328)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:753)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1362)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1351)
	at ma.foodplus.ordering.system.FoodPlusOrderingApplication.main(FoodPlusOrderingApplication.java:22)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Script V1.0.4__add_performance_indexes.sql failed
-------------------------------------------------
SQL State  : 42703
Error Code : 0
Message    : ERROR: column "code" does not exist
Location   : db/migration/V1.0.4__add_performance_indexes.sql (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/db/migration/V1.0.4__add_performance_indexes.sql)
Line       : 4
Statement  : Run Flyway with -X option to see the actual statement causing the problem

	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1826)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:607)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315)
	... 10 common frames omitted
Caused by: org.flywaydb.core.internal.exception.FlywayMigrateException: Script V1.0.4__add_performance_indexes.sql failed
-------------------------------------------------
SQL State  : 42703
Error Code : 0
Message    : ERROR: column "code" does not exist
Location   : db/migration/V1.0.4__add_performance_indexes.sql (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/db/migration/V1.0.4__add_performance_indexes.sql)
Line       : 4
Statement  : Run Flyway with -X option to see the actual statement causing the problem

	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:399)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$applyMigrations$1(DbMigrate.java:283)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:59)
	at org.flywaydb.core.internal.command.DbMigrate.applyMigrations(DbMigrate.java:282)
	at org.flywaydb.core.internal.command.DbMigrate.migrateGroup(DbMigrate.java:255)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$migrateAll$0(DbMigrate.java:153)
	at org.flywaydb.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:77)
	at org.flywaydb.database.postgresql.PostgreSQLAdvisoryLockTemplate.lambda$execute$0(PostgreSQLAdvisoryLockTemplate.java:60)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:59)
	at org.flywaydb.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:60)
	at org.flywaydb.database.postgresql.PostgreSQLConnection.lock(PostgreSQLConnection.java:105)
	at org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory.lock(JdbcTableSchemaHistory.java:164)
	at org.flywaydb.core.internal.command.DbMigrate.migrateAll(DbMigrate.java:153)
	at org.flywaydb.core.internal.command.DbMigrate.migrate(DbMigrate.java:104)
	at org.flywaydb.core.Flyway.lambda$migrate$1(Flyway.java:247)
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:210)
	at org.flywaydb.core.Flyway.migrate(Flyway.java:188)
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1873)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1822)
	... 17 common frames omitted
Caused by: org.flywaydb.core.internal.sqlscript.FlywaySqlScriptException: Script V1.0.4__add_performance_indexes.sql failed
-------------------------------------------------
SQL State  : 42703
Error Code : 0
Message    : ERROR: column "code" does not exist
Location   : db/migration/V1.0.4__add_performance_indexes.sql (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/db/migration/V1.0.4__add_performance_indexes.sql)
Line       : 4
Statement  : Run Flyway with -X option to see the actual statement causing the problem

	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.handleException(DefaultSqlScriptExecutor.java:256)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:217)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.execute(DefaultSqlScriptExecutor.java:137)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.executeOnce(SqlMigrationExecutor.java:75)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.lambda$execute$0(SqlMigrationExecutor.java:66)
	at org.flywaydb.core.internal.database.DefaultExecutionStrategy.execute(DefaultExecutionStrategy.java:31)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.execute(SqlMigrationExecutor.java:65)
	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:391)
	... 36 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERROR: column "code" does not exist
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:356)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:341)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:317)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:312)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.flywaydb.core.internal.jdbc.JdbcTemplate.executeStatement(JdbcTemplate.java:215)
	at org.flywaydb.core.internal.sqlscript.ParsedSqlStatement.execute(ParsedSqlStatement.java:88)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:212)
	... 42 common frames omitted
2025-06-14 14:03:26 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - Starting FoodPlusOrderingApplication using Java 21.0.7 with PID 303334 (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes started by louki in /home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system)
2025-06-14 14:03:26 [main] DEBUG m.f.o.s.FoodPlusOrderingApplication - Running with Spring Boot v3.5.0, Spring v6.2.7
2025-06-14 14:03:26 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - The following 1 profile is active: "dev"
2025-06-14 14:03:27 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-14 14:03:27 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-14 14:03:27 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 82 ms. Found 10 JPA repository interfaces.
2025-06-14 14:03:28 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-14 14:03:28 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-06-14 14:03:28 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.common.repository.CategoryTarifRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:03:28 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.CustomerGroupRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:03:28 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.CustomerRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:03:28 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.ProductCustomerRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:03:28 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.DepotRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:03:28 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.ProductStockRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:03:28 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.SiteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:03:28 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.order.repository.OrderRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:03:28 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.product.repository.ProductRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:03:28 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.promos.repository.PromotionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:03:28 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 22 ms. Found 0 Redis repository interfaces.
2025-06-14 14:03:28 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8087 (http)
2025-06-14 14:03:28 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-14 14:03:28 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.41]
2025-06-14 14:03:28 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-14 14:03:28 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1944 ms
2025-06-14 14:03:29 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-06-14 14:03:29 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@3b8d2abe
2025-06-14 14:03:29 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-06-14 14:03:29 [main] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://10.113.181.84:5432/foodplus_ordering (PostgreSQL 17.5)
2025-06-14 14:03:29 [main] INFO  o.f.core.internal.command.DbValidate - Successfully validated 3 migrations (execution time 00:00.020s)
2025-06-14 14:03:29 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "public": 1.0.0
2025-06-14 14:03:29 [main] WARN  o.f.core.internal.command.DbMigrate - outOfOrder mode is active. Migration of schema "public" may not be reproducible.
2025-06-14 14:03:29 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "public" to version "1.0.4 - add performance indexes"
2025-06-14 14:03:29 [main] ERROR o.f.core.internal.command.DbMigrate - Migration of schema "public" to version "1.0.4 - add performance indexes" failed! Changes successfully rolled back.
2025-06-14 14:03:29 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Script V1.0.4__add_performance_indexes.sql failed
-------------------------------------------------
SQL State  : 42703
Error Code : 0
Message    : ERROR: column "is_active" does not exist
Location   : db/migration/V1.0.4__add_performance_indexes.sql (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/db/migration/V1.0.4__add_performance_indexes.sql)
Line       : 14
Statement  : Run Flyway with -X option to see the actual statement causing the problem

2025-06-14 14:03:29 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-06-14 14:03:29 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-06-14 14:03:29 [main] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-06-14 14:03:29 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-06-14 14:03:29 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Script V1.0.4__add_performance_indexes.sql failed
-------------------------------------------------
SQL State  : 42703
Error Code : 0
Message    : ERROR: column "is_active" does not exist
Location   : db/migration/V1.0.4__add_performance_indexes.sql (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/db/migration/V1.0.4__add_performance_indexes.sql)
Line       : 14
Statement  : Run Flyway with -X option to see the actual statement causing the problem

	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:328)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:753)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1362)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1351)
	at ma.foodplus.ordering.system.FoodPlusOrderingApplication.main(FoodPlusOrderingApplication.java:22)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Script V1.0.4__add_performance_indexes.sql failed
-------------------------------------------------
SQL State  : 42703
Error Code : 0
Message    : ERROR: column "is_active" does not exist
Location   : db/migration/V1.0.4__add_performance_indexes.sql (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/db/migration/V1.0.4__add_performance_indexes.sql)
Line       : 14
Statement  : Run Flyway with -X option to see the actual statement causing the problem

	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1826)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:607)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315)
	... 10 common frames omitted
Caused by: org.flywaydb.core.internal.exception.FlywayMigrateException: Script V1.0.4__add_performance_indexes.sql failed
-------------------------------------------------
SQL State  : 42703
Error Code : 0
Message    : ERROR: column "is_active" does not exist
Location   : db/migration/V1.0.4__add_performance_indexes.sql (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/db/migration/V1.0.4__add_performance_indexes.sql)
Line       : 14
Statement  : Run Flyway with -X option to see the actual statement causing the problem

	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:399)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$applyMigrations$1(DbMigrate.java:283)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:59)
	at org.flywaydb.core.internal.command.DbMigrate.applyMigrations(DbMigrate.java:282)
	at org.flywaydb.core.internal.command.DbMigrate.migrateGroup(DbMigrate.java:255)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$migrateAll$0(DbMigrate.java:153)
	at org.flywaydb.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:77)
	at org.flywaydb.database.postgresql.PostgreSQLAdvisoryLockTemplate.lambda$execute$0(PostgreSQLAdvisoryLockTemplate.java:60)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:59)
	at org.flywaydb.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:60)
	at org.flywaydb.database.postgresql.PostgreSQLConnection.lock(PostgreSQLConnection.java:105)
	at org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory.lock(JdbcTableSchemaHistory.java:164)
	at org.flywaydb.core.internal.command.DbMigrate.migrateAll(DbMigrate.java:153)
	at org.flywaydb.core.internal.command.DbMigrate.migrate(DbMigrate.java:104)
	at org.flywaydb.core.Flyway.lambda$migrate$1(Flyway.java:247)
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:210)
	at org.flywaydb.core.Flyway.migrate(Flyway.java:188)
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1873)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1822)
	... 17 common frames omitted
Caused by: org.flywaydb.core.internal.sqlscript.FlywaySqlScriptException: Script V1.0.4__add_performance_indexes.sql failed
-------------------------------------------------
SQL State  : 42703
Error Code : 0
Message    : ERROR: column "is_active" does not exist
Location   : db/migration/V1.0.4__add_performance_indexes.sql (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/db/migration/V1.0.4__add_performance_indexes.sql)
Line       : 14
Statement  : Run Flyway with -X option to see the actual statement causing the problem

	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.handleException(DefaultSqlScriptExecutor.java:256)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:217)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.execute(DefaultSqlScriptExecutor.java:137)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.executeOnce(SqlMigrationExecutor.java:75)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.lambda$execute$0(SqlMigrationExecutor.java:66)
	at org.flywaydb.core.internal.database.DefaultExecutionStrategy.execute(DefaultExecutionStrategy.java:31)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.execute(SqlMigrationExecutor.java:65)
	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:391)
	... 36 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERROR: column "is_active" does not exist
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:356)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:341)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:317)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:312)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.flywaydb.core.internal.jdbc.JdbcTemplate.executeStatement(JdbcTemplate.java:215)
	at org.flywaydb.core.internal.sqlscript.ParsedSqlStatement.execute(ParsedSqlStatement.java:88)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:212)
	... 42 common frames omitted
2025-06-14 14:04:27 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - Starting FoodPlusOrderingApplication using Java 21.0.7 with PID 304237 (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes started by louki in /home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system)
2025-06-14 14:04:27 [main] DEBUG m.f.o.s.FoodPlusOrderingApplication - Running with Spring Boot v3.5.0, Spring v6.2.7
2025-06-14 14:04:27 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - The following 1 profile is active: "dev"
2025-06-14 14:04:28 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-14 14:04:28 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-14 14:04:28 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 134 ms. Found 10 JPA repository interfaces.
2025-06-14 14:04:29 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-14 14:04:29 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-06-14 14:04:29 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.common.repository.CategoryTarifRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:04:29 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.CustomerGroupRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:04:29 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.CustomerRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:04:29 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.ProductCustomerRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:04:29 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.DepotRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:04:29 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.ProductStockRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:04:29 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.SiteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:04:29 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.order.repository.OrderRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:04:29 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.product.repository.ProductRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:04:29 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.promos.repository.PromotionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:04:29 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 20 ms. Found 0 Redis repository interfaces.
2025-06-14 14:04:29 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8087 (http)
2025-06-14 14:04:29 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-14 14:04:29 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.41]
2025-06-14 14:04:29 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-14 14:04:29 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1980 ms
2025-06-14 14:04:30 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-06-14 14:04:30 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@7d80e1b3
2025-06-14 14:04:30 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-06-14 14:04:30 [main] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://10.113.181.84:5432/foodplus_ordering (PostgreSQL 17.5)
2025-06-14 14:04:30 [main] INFO  o.f.core.internal.command.DbValidate - Successfully validated 3 migrations (execution time 00:00.020s)
2025-06-14 14:04:30 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "public": 1.0.0
2025-06-14 14:04:30 [main] WARN  o.f.core.internal.command.DbMigrate - outOfOrder mode is active. Migration of schema "public" may not be reproducible.
2025-06-14 14:04:30 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "public" to version "1.0.4 - add performance indexes"
2025-06-14 14:04:30 [main] ERROR o.f.core.internal.command.DbMigrate - Migration of schema "public" to version "1.0.4 - add performance indexes" failed! Changes successfully rolled back.
2025-06-14 14:04:30 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Script V1.0.4__add_performance_indexes.sql failed
-------------------------------------------------
SQL State  : 42703
Error Code : 0
Message    : ERROR: column "cat_tarif_id" does not exist
Location   : db/migration/V1.0.4__add_performance_indexes.sql (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/db/migration/V1.0.4__add_performance_indexes.sql)
Line       : 16
Statement  : Run Flyway with -X option to see the actual statement causing the problem

2025-06-14 14:04:30 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-06-14 14:04:30 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-06-14 14:04:30 [main] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-06-14 14:04:30 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-06-14 14:04:30 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Script V1.0.4__add_performance_indexes.sql failed
-------------------------------------------------
SQL State  : 42703
Error Code : 0
Message    : ERROR: column "cat_tarif_id" does not exist
Location   : db/migration/V1.0.4__add_performance_indexes.sql (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/db/migration/V1.0.4__add_performance_indexes.sql)
Line       : 16
Statement  : Run Flyway with -X option to see the actual statement causing the problem

	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:328)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:753)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1362)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1351)
	at ma.foodplus.ordering.system.FoodPlusOrderingApplication.main(FoodPlusOrderingApplication.java:22)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Script V1.0.4__add_performance_indexes.sql failed
-------------------------------------------------
SQL State  : 42703
Error Code : 0
Message    : ERROR: column "cat_tarif_id" does not exist
Location   : db/migration/V1.0.4__add_performance_indexes.sql (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/db/migration/V1.0.4__add_performance_indexes.sql)
Line       : 16
Statement  : Run Flyway with -X option to see the actual statement causing the problem

	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1826)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:607)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315)
	... 10 common frames omitted
Caused by: org.flywaydb.core.internal.exception.FlywayMigrateException: Script V1.0.4__add_performance_indexes.sql failed
-------------------------------------------------
SQL State  : 42703
Error Code : 0
Message    : ERROR: column "cat_tarif_id" does not exist
Location   : db/migration/V1.0.4__add_performance_indexes.sql (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/db/migration/V1.0.4__add_performance_indexes.sql)
Line       : 16
Statement  : Run Flyway with -X option to see the actual statement causing the problem

	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:399)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$applyMigrations$1(DbMigrate.java:283)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:59)
	at org.flywaydb.core.internal.command.DbMigrate.applyMigrations(DbMigrate.java:282)
	at org.flywaydb.core.internal.command.DbMigrate.migrateGroup(DbMigrate.java:255)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$migrateAll$0(DbMigrate.java:153)
	at org.flywaydb.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:77)
	at org.flywaydb.database.postgresql.PostgreSQLAdvisoryLockTemplate.lambda$execute$0(PostgreSQLAdvisoryLockTemplate.java:60)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:59)
	at org.flywaydb.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:60)
	at org.flywaydb.database.postgresql.PostgreSQLConnection.lock(PostgreSQLConnection.java:105)
	at org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory.lock(JdbcTableSchemaHistory.java:164)
	at org.flywaydb.core.internal.command.DbMigrate.migrateAll(DbMigrate.java:153)
	at org.flywaydb.core.internal.command.DbMigrate.migrate(DbMigrate.java:104)
	at org.flywaydb.core.Flyway.lambda$migrate$1(Flyway.java:247)
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:210)
	at org.flywaydb.core.Flyway.migrate(Flyway.java:188)
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1873)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1822)
	... 17 common frames omitted
Caused by: org.flywaydb.core.internal.sqlscript.FlywaySqlScriptException: Script V1.0.4__add_performance_indexes.sql failed
-------------------------------------------------
SQL State  : 42703
Error Code : 0
Message    : ERROR: column "cat_tarif_id" does not exist
Location   : db/migration/V1.0.4__add_performance_indexes.sql (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/db/migration/V1.0.4__add_performance_indexes.sql)
Line       : 16
Statement  : Run Flyway with -X option to see the actual statement causing the problem

	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.handleException(DefaultSqlScriptExecutor.java:256)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:217)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.execute(DefaultSqlScriptExecutor.java:137)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.executeOnce(SqlMigrationExecutor.java:75)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.lambda$execute$0(SqlMigrationExecutor.java:66)
	at org.flywaydb.core.internal.database.DefaultExecutionStrategy.execute(DefaultExecutionStrategy.java:31)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.execute(SqlMigrationExecutor.java:65)
	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:391)
	... 36 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERROR: column "cat_tarif_id" does not exist
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:356)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:341)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:317)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:312)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.flywaydb.core.internal.jdbc.JdbcTemplate.executeStatement(JdbcTemplate.java:215)
	at org.flywaydb.core.internal.sqlscript.ParsedSqlStatement.execute(ParsedSqlStatement.java:88)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:212)
	... 42 common frames omitted
2025-06-14 14:05:20 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - Starting FoodPlusOrderingApplication using Java 21.0.7 with PID 304965 (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes started by louki in /home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system)
2025-06-14 14:05:20 [main] DEBUG m.f.o.s.FoodPlusOrderingApplication - Running with Spring Boot v3.5.0, Spring v6.2.7
2025-06-14 14:05:20 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - The following 1 profile is active: "dev"
2025-06-14 14:05:21 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-14 14:05:21 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-14 14:05:21 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 84 ms. Found 10 JPA repository interfaces.
2025-06-14 14:05:21 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-14 14:05:21 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-06-14 14:05:21 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.common.repository.CategoryTarifRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:05:21 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.CustomerGroupRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:05:21 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.CustomerRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:05:21 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.ProductCustomerRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:05:21 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.DepotRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:05:21 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.ProductStockRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:05:21 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.SiteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:05:21 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.order.repository.OrderRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:05:21 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.product.repository.ProductRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:05:21 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.promos.repository.PromotionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:05:21 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 30 ms. Found 0 Redis repository interfaces.
2025-06-14 14:05:22 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8087 (http)
2025-06-14 14:05:22 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-14 14:05:22 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.41]
2025-06-14 14:05:22 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-14 14:05:22 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1781 ms
2025-06-14 14:05:22 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-06-14 14:05:22 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@d08f85a
2025-06-14 14:05:22 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-06-14 14:05:22 [main] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://10.113.181.84:5432/foodplus_ordering (PostgreSQL 17.5)
2025-06-14 14:05:22 [main] INFO  o.f.core.internal.command.DbValidate - Successfully validated 3 migrations (execution time 00:00.020s)
2025-06-14 14:05:22 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "public": 1.0.0
2025-06-14 14:05:22 [main] WARN  o.f.core.internal.command.DbMigrate - outOfOrder mode is active. Migration of schema "public" may not be reproducible.
2025-06-14 14:05:22 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "public" to version "1.0.4 - add performance indexes"
2025-06-14 14:05:22 [main] ERROR o.f.core.internal.command.DbMigrate - Migration of schema "public" to version "1.0.4 - add performance indexes" failed! Changes successfully rolled back.
2025-06-14 14:05:22 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Script V1.0.4__add_performance_indexes.sql failed
-------------------------------------------------
SQL State  : 42703
Error Code : 0
Message    : ERROR: column "phone" does not exist
Location   : db/migration/V1.0.4__add_performance_indexes.sql (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/db/migration/V1.0.4__add_performance_indexes.sql)
Line       : 19
Statement  : Run Flyway with -X option to see the actual statement causing the problem

2025-06-14 14:05:22 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-06-14 14:05:22 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-06-14 14:05:22 [main] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-06-14 14:05:22 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-06-14 14:05:22 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Script V1.0.4__add_performance_indexes.sql failed
-------------------------------------------------
SQL State  : 42703
Error Code : 0
Message    : ERROR: column "phone" does not exist
Location   : db/migration/V1.0.4__add_performance_indexes.sql (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/db/migration/V1.0.4__add_performance_indexes.sql)
Line       : 19
Statement  : Run Flyway with -X option to see the actual statement causing the problem

	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:328)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:753)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1362)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1351)
	at ma.foodplus.ordering.system.FoodPlusOrderingApplication.main(FoodPlusOrderingApplication.java:22)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Script V1.0.4__add_performance_indexes.sql failed
-------------------------------------------------
SQL State  : 42703
Error Code : 0
Message    : ERROR: column "phone" does not exist
Location   : db/migration/V1.0.4__add_performance_indexes.sql (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/db/migration/V1.0.4__add_performance_indexes.sql)
Line       : 19
Statement  : Run Flyway with -X option to see the actual statement causing the problem

	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1826)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:607)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315)
	... 10 common frames omitted
Caused by: org.flywaydb.core.internal.exception.FlywayMigrateException: Script V1.0.4__add_performance_indexes.sql failed
-------------------------------------------------
SQL State  : 42703
Error Code : 0
Message    : ERROR: column "phone" does not exist
Location   : db/migration/V1.0.4__add_performance_indexes.sql (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/db/migration/V1.0.4__add_performance_indexes.sql)
Line       : 19
Statement  : Run Flyway with -X option to see the actual statement causing the problem

	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:399)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$applyMigrations$1(DbMigrate.java:283)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:59)
	at org.flywaydb.core.internal.command.DbMigrate.applyMigrations(DbMigrate.java:282)
	at org.flywaydb.core.internal.command.DbMigrate.migrateGroup(DbMigrate.java:255)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$migrateAll$0(DbMigrate.java:153)
	at org.flywaydb.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:77)
	at org.flywaydb.database.postgresql.PostgreSQLAdvisoryLockTemplate.lambda$execute$0(PostgreSQLAdvisoryLockTemplate.java:60)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:59)
	at org.flywaydb.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:60)
	at org.flywaydb.database.postgresql.PostgreSQLConnection.lock(PostgreSQLConnection.java:105)
	at org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory.lock(JdbcTableSchemaHistory.java:164)
	at org.flywaydb.core.internal.command.DbMigrate.migrateAll(DbMigrate.java:153)
	at org.flywaydb.core.internal.command.DbMigrate.migrate(DbMigrate.java:104)
	at org.flywaydb.core.Flyway.lambda$migrate$1(Flyway.java:247)
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:210)
	at org.flywaydb.core.Flyway.migrate(Flyway.java:188)
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1873)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1822)
	... 17 common frames omitted
Caused by: org.flywaydb.core.internal.sqlscript.FlywaySqlScriptException: Script V1.0.4__add_performance_indexes.sql failed
-------------------------------------------------
SQL State  : 42703
Error Code : 0
Message    : ERROR: column "phone" does not exist
Location   : db/migration/V1.0.4__add_performance_indexes.sql (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/db/migration/V1.0.4__add_performance_indexes.sql)
Line       : 19
Statement  : Run Flyway with -X option to see the actual statement causing the problem

	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.handleException(DefaultSqlScriptExecutor.java:256)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:217)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.execute(DefaultSqlScriptExecutor.java:137)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.executeOnce(SqlMigrationExecutor.java:75)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.lambda$execute$0(SqlMigrationExecutor.java:66)
	at org.flywaydb.core.internal.database.DefaultExecutionStrategy.execute(DefaultExecutionStrategy.java:31)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.execute(SqlMigrationExecutor.java:65)
	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:391)
	... 36 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERROR: column "phone" does not exist
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:356)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:341)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:317)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:312)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.flywaydb.core.internal.jdbc.JdbcTemplate.executeStatement(JdbcTemplate.java:215)
	at org.flywaydb.core.internal.sqlscript.ParsedSqlStatement.execute(ParsedSqlStatement.java:88)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:212)
	... 42 common frames omitted
2025-06-14 14:06:11 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - Starting FoodPlusOrderingApplication using Java 21.0.7 with PID 305758 (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes started by louki in /home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system)
2025-06-14 14:06:12 [main] DEBUG m.f.o.s.FoodPlusOrderingApplication - Running with Spring Boot v3.5.0, Spring v6.2.7
2025-06-14 14:06:12 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - The following 1 profile is active: "dev"
2025-06-14 14:06:12 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-14 14:06:12 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-14 14:06:12 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 85 ms. Found 10 JPA repository interfaces.
2025-06-14 14:06:13 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-14 14:06:13 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-06-14 14:06:13 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.common.repository.CategoryTarifRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:06:13 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.CustomerGroupRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:06:13 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.CustomerRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:06:13 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.ProductCustomerRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:06:13 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.DepotRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:06:13 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.ProductStockRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:06:13 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.SiteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:06:13 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.order.repository.OrderRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:06:13 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.product.repository.ProductRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:06:13 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.promos.repository.PromotionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:06:13 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 20 ms. Found 0 Redis repository interfaces.
2025-06-14 14:06:13 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8087 (http)
2025-06-14 14:06:13 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-14 14:06:13 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.41]
2025-06-14 14:06:13 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-14 14:06:13 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1734 ms
2025-06-14 14:06:14 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-06-14 14:06:14 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@23d060c2
2025-06-14 14:06:14 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-06-14 14:06:14 [main] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://10.113.181.84:5432/foodplus_ordering (PostgreSQL 17.5)
2025-06-14 14:06:14 [main] INFO  o.f.core.internal.command.DbValidate - Successfully validated 3 migrations (execution time 00:00.021s)
2025-06-14 14:06:14 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "public": 1.0.0
2025-06-14 14:06:14 [main] WARN  o.f.core.internal.command.DbMigrate - outOfOrder mode is active. Migration of schema "public" may not be reproducible.
2025-06-14 14:06:14 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "public" to version "1.0.4 - add performance indexes"
2025-06-14 14:06:14 [main] ERROR o.f.core.internal.command.DbMigrate - Migration of schema "public" to version "1.0.4 - add performance indexes" failed! Changes successfully rolled back.
2025-06-14 14:06:14 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Script V1.0.4__add_performance_indexes.sql failed
-------------------------------------------------
SQL State  : 42703
Error Code : 0
Message    : ERROR: column "first_name" does not exist
Location   : db/migration/V1.0.4__add_performance_indexes.sql (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/db/migration/V1.0.4__add_performance_indexes.sql)
Line       : 20
Statement  : Run Flyway with -X option to see the actual statement causing the problem

2025-06-14 14:06:14 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-06-14 14:06:14 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-06-14 14:06:14 [main] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-06-14 14:06:14 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-06-14 14:06:14 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Script V1.0.4__add_performance_indexes.sql failed
-------------------------------------------------
SQL State  : 42703
Error Code : 0
Message    : ERROR: column "first_name" does not exist
Location   : db/migration/V1.0.4__add_performance_indexes.sql (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/db/migration/V1.0.4__add_performance_indexes.sql)
Line       : 20
Statement  : Run Flyway with -X option to see the actual statement causing the problem

	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:328)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:753)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1362)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1351)
	at ma.foodplus.ordering.system.FoodPlusOrderingApplication.main(FoodPlusOrderingApplication.java:22)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Script V1.0.4__add_performance_indexes.sql failed
-------------------------------------------------
SQL State  : 42703
Error Code : 0
Message    : ERROR: column "first_name" does not exist
Location   : db/migration/V1.0.4__add_performance_indexes.sql (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/db/migration/V1.0.4__add_performance_indexes.sql)
Line       : 20
Statement  : Run Flyway with -X option to see the actual statement causing the problem

	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1826)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:607)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315)
	... 10 common frames omitted
Caused by: org.flywaydb.core.internal.exception.FlywayMigrateException: Script V1.0.4__add_performance_indexes.sql failed
-------------------------------------------------
SQL State  : 42703
Error Code : 0
Message    : ERROR: column "first_name" does not exist
Location   : db/migration/V1.0.4__add_performance_indexes.sql (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/db/migration/V1.0.4__add_performance_indexes.sql)
Line       : 20
Statement  : Run Flyway with -X option to see the actual statement causing the problem

	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:399)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$applyMigrations$1(DbMigrate.java:283)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:59)
	at org.flywaydb.core.internal.command.DbMigrate.applyMigrations(DbMigrate.java:282)
	at org.flywaydb.core.internal.command.DbMigrate.migrateGroup(DbMigrate.java:255)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$migrateAll$0(DbMigrate.java:153)
	at org.flywaydb.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:77)
	at org.flywaydb.database.postgresql.PostgreSQLAdvisoryLockTemplate.lambda$execute$0(PostgreSQLAdvisoryLockTemplate.java:60)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:59)
	at org.flywaydb.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:60)
	at org.flywaydb.database.postgresql.PostgreSQLConnection.lock(PostgreSQLConnection.java:105)
	at org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory.lock(JdbcTableSchemaHistory.java:164)
	at org.flywaydb.core.internal.command.DbMigrate.migrateAll(DbMigrate.java:153)
	at org.flywaydb.core.internal.command.DbMigrate.migrate(DbMigrate.java:104)
	at org.flywaydb.core.Flyway.lambda$migrate$1(Flyway.java:247)
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:210)
	at org.flywaydb.core.Flyway.migrate(Flyway.java:188)
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1873)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1822)
	... 17 common frames omitted
Caused by: org.flywaydb.core.internal.sqlscript.FlywaySqlScriptException: Script V1.0.4__add_performance_indexes.sql failed
-------------------------------------------------
SQL State  : 42703
Error Code : 0
Message    : ERROR: column "first_name" does not exist
Location   : db/migration/V1.0.4__add_performance_indexes.sql (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/db/migration/V1.0.4__add_performance_indexes.sql)
Line       : 20
Statement  : Run Flyway with -X option to see the actual statement causing the problem

	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.handleException(DefaultSqlScriptExecutor.java:256)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:217)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.execute(DefaultSqlScriptExecutor.java:137)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.executeOnce(SqlMigrationExecutor.java:75)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.lambda$execute$0(SqlMigrationExecutor.java:66)
	at org.flywaydb.core.internal.database.DefaultExecutionStrategy.execute(DefaultExecutionStrategy.java:31)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.execute(SqlMigrationExecutor.java:65)
	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:391)
	... 36 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERROR: column "first_name" does not exist
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:356)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:341)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:317)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:312)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.flywaydb.core.internal.jdbc.JdbcTemplate.executeStatement(JdbcTemplate.java:215)
	at org.flywaydb.core.internal.sqlscript.ParsedSqlStatement.execute(ParsedSqlStatement.java:88)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:212)
	... 42 common frames omitted
2025-06-14 14:08:16 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - Starting FoodPlusOrderingApplication using Java 21.0.7 with PID 307538 (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes started by louki in /home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system)
2025-06-14 14:08:16 [main] DEBUG m.f.o.s.FoodPlusOrderingApplication - Running with Spring Boot v3.5.0, Spring v6.2.7
2025-06-14 14:08:16 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - The following 1 profile is active: "dev"
2025-06-14 14:08:17 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-14 14:08:17 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-14 14:08:17 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 118 ms. Found 10 JPA repository interfaces.
2025-06-14 14:08:18 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-14 14:08:18 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-06-14 14:08:18 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.common.repository.CategoryTarifRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:08:18 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.CustomerGroupRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:08:18 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.CustomerRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:08:18 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.ProductCustomerRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:08:18 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.DepotRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:08:18 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.ProductStockRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:08:18 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.SiteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:08:18 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.order.repository.OrderRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:08:18 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.product.repository.ProductRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:08:18 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.promos.repository.PromotionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:08:18 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 20 ms. Found 0 Redis repository interfaces.
2025-06-14 14:08:18 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8087 (http)
2025-06-14 14:08:18 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-14 14:08:18 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.41]
2025-06-14 14:08:18 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-14 14:08:18 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2028 ms
2025-06-14 14:08:19 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-06-14 14:08:19 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@369fb99a
2025-06-14 14:08:19 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-06-14 14:08:19 [main] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://10.113.181.84:5432/foodplus_ordering (PostgreSQL 17.5)
2025-06-14 14:08:19 [main] INFO  o.f.core.internal.command.DbValidate - Successfully validated 3 migrations (execution time 00:00.031s)
2025-06-14 14:08:19 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "public": 1.0.0
2025-06-14 14:08:19 [main] WARN  o.f.core.internal.command.DbMigrate - outOfOrder mode is active. Migration of schema "public" may not be reproducible.
2025-06-14 14:08:19 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "public" to version "1.0.4 - add performance indexes"
2025-06-14 14:08:19 [main] ERROR o.f.core.internal.command.DbMigrate - Migration of schema "public" to version "1.0.4 - add performance indexes" failed! Changes successfully rolled back.
2025-06-14 14:08:19 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Script V1.0.4__add_performance_indexes.sql failed
-------------------------------------------------
SQL State  : 42703
Error Code : 0
Message    : ERROR: column "product_id" does not exist
Location   : db/migration/V1.0.4__add_performance_indexes.sql (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/db/migration/V1.0.4__add_performance_indexes.sql)
Line       : 54
Statement  : Run Flyway with -X option to see the actual statement causing the problem

2025-06-14 14:08:19 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-06-14 14:08:19 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-06-14 14:08:19 [main] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-06-14 14:08:19 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-06-14 14:08:19 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Script V1.0.4__add_performance_indexes.sql failed
-------------------------------------------------
SQL State  : 42703
Error Code : 0
Message    : ERROR: column "product_id" does not exist
Location   : db/migration/V1.0.4__add_performance_indexes.sql (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/db/migration/V1.0.4__add_performance_indexes.sql)
Line       : 54
Statement  : Run Flyway with -X option to see the actual statement causing the problem

	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:328)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:753)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1362)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1351)
	at ma.foodplus.ordering.system.FoodPlusOrderingApplication.main(FoodPlusOrderingApplication.java:22)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Script V1.0.4__add_performance_indexes.sql failed
-------------------------------------------------
SQL State  : 42703
Error Code : 0
Message    : ERROR: column "product_id" does not exist
Location   : db/migration/V1.0.4__add_performance_indexes.sql (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/db/migration/V1.0.4__add_performance_indexes.sql)
Line       : 54
Statement  : Run Flyway with -X option to see the actual statement causing the problem

	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1826)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:607)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315)
	... 10 common frames omitted
Caused by: org.flywaydb.core.internal.exception.FlywayMigrateException: Script V1.0.4__add_performance_indexes.sql failed
-------------------------------------------------
SQL State  : 42703
Error Code : 0
Message    : ERROR: column "product_id" does not exist
Location   : db/migration/V1.0.4__add_performance_indexes.sql (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/db/migration/V1.0.4__add_performance_indexes.sql)
Line       : 54
Statement  : Run Flyway with -X option to see the actual statement causing the problem

	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:399)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$applyMigrations$1(DbMigrate.java:283)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:59)
	at org.flywaydb.core.internal.command.DbMigrate.applyMigrations(DbMigrate.java:282)
	at org.flywaydb.core.internal.command.DbMigrate.migrateGroup(DbMigrate.java:255)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$migrateAll$0(DbMigrate.java:153)
	at org.flywaydb.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:77)
	at org.flywaydb.database.postgresql.PostgreSQLAdvisoryLockTemplate.lambda$execute$0(PostgreSQLAdvisoryLockTemplate.java:60)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:59)
	at org.flywaydb.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:60)
	at org.flywaydb.database.postgresql.PostgreSQLConnection.lock(PostgreSQLConnection.java:105)
	at org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory.lock(JdbcTableSchemaHistory.java:164)
	at org.flywaydb.core.internal.command.DbMigrate.migrateAll(DbMigrate.java:153)
	at org.flywaydb.core.internal.command.DbMigrate.migrate(DbMigrate.java:104)
	at org.flywaydb.core.Flyway.lambda$migrate$1(Flyway.java:247)
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:210)
	at org.flywaydb.core.Flyway.migrate(Flyway.java:188)
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1873)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1822)
	... 17 common frames omitted
Caused by: org.flywaydb.core.internal.sqlscript.FlywaySqlScriptException: Script V1.0.4__add_performance_indexes.sql failed
-------------------------------------------------
SQL State  : 42703
Error Code : 0
Message    : ERROR: column "product_id" does not exist
Location   : db/migration/V1.0.4__add_performance_indexes.sql (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/db/migration/V1.0.4__add_performance_indexes.sql)
Line       : 54
Statement  : Run Flyway with -X option to see the actual statement causing the problem

	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.handleException(DefaultSqlScriptExecutor.java:256)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:217)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.execute(DefaultSqlScriptExecutor.java:137)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.executeOnce(SqlMigrationExecutor.java:75)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.lambda$execute$0(SqlMigrationExecutor.java:66)
	at org.flywaydb.core.internal.database.DefaultExecutionStrategy.execute(DefaultExecutionStrategy.java:31)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.execute(SqlMigrationExecutor.java:65)
	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:391)
	... 36 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERROR: column "product_id" does not exist
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:356)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:341)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:317)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:312)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.flywaydb.core.internal.jdbc.JdbcTemplate.executeStatement(JdbcTemplate.java:215)
	at org.flywaydb.core.internal.sqlscript.ParsedSqlStatement.execute(ParsedSqlStatement.java:88)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:212)
	... 42 common frames omitted
2025-06-14 14:09:36 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - Starting FoodPlusOrderingApplication using Java 21.0.7 with PID 308929 (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes started by louki in /home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system)
2025-06-14 14:09:36 [main] DEBUG m.f.o.s.FoodPlusOrderingApplication - Running with Spring Boot v3.5.0, Spring v6.2.7
2025-06-14 14:09:36 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - The following 1 profile is active: "dev"
2025-06-14 14:09:37 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-14 14:09:37 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-14 14:09:37 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 90 ms. Found 10 JPA repository interfaces.
2025-06-14 14:09:37 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-14 14:09:37 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-06-14 14:09:37 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.common.repository.CategoryTarifRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:09:37 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.CustomerGroupRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:09:37 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.CustomerRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:09:37 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.ProductCustomerRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:09:37 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.DepotRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:09:37 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.ProductStockRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:09:37 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.SiteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:09:37 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.order.repository.OrderRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:09:37 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.product.repository.ProductRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:09:37 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.promos.repository.PromotionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:09:37 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 20 ms. Found 0 Redis repository interfaces.
2025-06-14 14:09:38 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8087 (http)
2025-06-14 14:09:38 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-14 14:09:38 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.41]
2025-06-14 14:09:38 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-14 14:09:38 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1930 ms
2025-06-14 14:09:39 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-06-14 14:09:39 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@d08f85a
2025-06-14 14:09:39 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-06-14 14:09:39 [main] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://10.113.181.84:5432/foodplus_ordering (PostgreSQL 17.5)
2025-06-14 14:09:39 [main] INFO  o.f.core.internal.command.DbValidate - Successfully validated 3 migrations (execution time 00:00.039s)
2025-06-14 14:09:39 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "public": 1.0.0
2025-06-14 14:09:39 [main] WARN  o.f.core.internal.command.DbMigrate - outOfOrder mode is active. Migration of schema "public" may not be reproducible.
2025-06-14 14:09:39 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "public" to version "1.0.4 - add performance indexes"
2025-06-14 14:09:39 [main] ERROR o.f.core.internal.command.DbMigrate - Migration of schema "public" to version "1.0.4 - add performance indexes" failed! Changes successfully rolled back.
2025-06-14 14:09:39 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Script V1.0.4__add_performance_indexes.sql failed
-------------------------------------------------
SQL State  : 42703
Error Code : 0
Message    : ERROR: column "code" does not exist
Location   : db/migration/V1.0.4__add_performance_indexes.sql (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/db/migration/V1.0.4__add_performance_indexes.sql)
Line       : 60
Statement  : Run Flyway with -X option to see the actual statement causing the problem

2025-06-14 14:09:39 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-06-14 14:09:39 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-06-14 14:09:39 [main] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-06-14 14:09:39 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-06-14 14:09:39 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Script V1.0.4__add_performance_indexes.sql failed
-------------------------------------------------
SQL State  : 42703
Error Code : 0
Message    : ERROR: column "code" does not exist
Location   : db/migration/V1.0.4__add_performance_indexes.sql (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/db/migration/V1.0.4__add_performance_indexes.sql)
Line       : 60
Statement  : Run Flyway with -X option to see the actual statement causing the problem

	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:328)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:753)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1362)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1351)
	at ma.foodplus.ordering.system.FoodPlusOrderingApplication.main(FoodPlusOrderingApplication.java:22)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Script V1.0.4__add_performance_indexes.sql failed
-------------------------------------------------
SQL State  : 42703
Error Code : 0
Message    : ERROR: column "code" does not exist
Location   : db/migration/V1.0.4__add_performance_indexes.sql (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/db/migration/V1.0.4__add_performance_indexes.sql)
Line       : 60
Statement  : Run Flyway with -X option to see the actual statement causing the problem

	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1826)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:607)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315)
	... 10 common frames omitted
Caused by: org.flywaydb.core.internal.exception.FlywayMigrateException: Script V1.0.4__add_performance_indexes.sql failed
-------------------------------------------------
SQL State  : 42703
Error Code : 0
Message    : ERROR: column "code" does not exist
Location   : db/migration/V1.0.4__add_performance_indexes.sql (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/db/migration/V1.0.4__add_performance_indexes.sql)
Line       : 60
Statement  : Run Flyway with -X option to see the actual statement causing the problem

	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:399)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$applyMigrations$1(DbMigrate.java:283)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:59)
	at org.flywaydb.core.internal.command.DbMigrate.applyMigrations(DbMigrate.java:282)
	at org.flywaydb.core.internal.command.DbMigrate.migrateGroup(DbMigrate.java:255)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$migrateAll$0(DbMigrate.java:153)
	at org.flywaydb.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:77)
	at org.flywaydb.database.postgresql.PostgreSQLAdvisoryLockTemplate.lambda$execute$0(PostgreSQLAdvisoryLockTemplate.java:60)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:59)
	at org.flywaydb.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:60)
	at org.flywaydb.database.postgresql.PostgreSQLConnection.lock(PostgreSQLConnection.java:105)
	at org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory.lock(JdbcTableSchemaHistory.java:164)
	at org.flywaydb.core.internal.command.DbMigrate.migrateAll(DbMigrate.java:153)
	at org.flywaydb.core.internal.command.DbMigrate.migrate(DbMigrate.java:104)
	at org.flywaydb.core.Flyway.lambda$migrate$1(Flyway.java:247)
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:210)
	at org.flywaydb.core.Flyway.migrate(Flyway.java:188)
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1873)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1822)
	... 17 common frames omitted
Caused by: org.flywaydb.core.internal.sqlscript.FlywaySqlScriptException: Script V1.0.4__add_performance_indexes.sql failed
-------------------------------------------------
SQL State  : 42703
Error Code : 0
Message    : ERROR: column "code" does not exist
Location   : db/migration/V1.0.4__add_performance_indexes.sql (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/db/migration/V1.0.4__add_performance_indexes.sql)
Line       : 60
Statement  : Run Flyway with -X option to see the actual statement causing the problem

	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.handleException(DefaultSqlScriptExecutor.java:256)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:217)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.execute(DefaultSqlScriptExecutor.java:137)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.executeOnce(SqlMigrationExecutor.java:75)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.lambda$execute$0(SqlMigrationExecutor.java:66)
	at org.flywaydb.core.internal.database.DefaultExecutionStrategy.execute(DefaultExecutionStrategy.java:31)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.execute(SqlMigrationExecutor.java:65)
	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:391)
	... 36 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERROR: column "code" does not exist
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:356)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:341)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:317)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:312)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.flywaydb.core.internal.jdbc.JdbcTemplate.executeStatement(JdbcTemplate.java:215)
	at org.flywaydb.core.internal.sqlscript.ParsedSqlStatement.execute(ParsedSqlStatement.java:88)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:212)
	... 42 common frames omitted
2025-06-14 14:13:49 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - Starting FoodPlusOrderingApplication using Java 21.0.7 with PID 312228 (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes started by louki in /home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system)
2025-06-14 14:13:49 [main] DEBUG m.f.o.s.FoodPlusOrderingApplication - Running with Spring Boot v3.5.0, Spring v6.2.7
2025-06-14 14:13:49 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - The following 1 profile is active: "dev"
2025-06-14 14:13:50 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-14 14:13:50 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-14 14:13:50 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 116 ms. Found 10 JPA repository interfaces.
2025-06-14 14:13:51 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-14 14:13:51 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-06-14 14:13:51 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.common.repository.CategoryTarifRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:13:51 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.CustomerGroupRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:13:51 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.CustomerRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:13:51 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.ProductCustomerRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:13:51 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.DepotRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:13:51 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.ProductStockRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:13:51 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.SiteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:13:51 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.order.repository.OrderRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:13:51 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.product.repository.ProductRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:13:51 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.promos.repository.PromotionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:13:51 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 20 ms. Found 0 Redis repository interfaces.
2025-06-14 14:13:52 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8087 (http)
2025-06-14 14:13:52 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-14 14:13:52 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.41]
2025-06-14 14:13:52 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-14 14:13:52 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2263 ms
2025-06-14 14:13:52 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-06-14 14:13:52 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@3d05435c
2025-06-14 14:13:52 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-06-14 14:13:52 [main] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://10.113.181.84:5432/foodplus_ordering (PostgreSQL 17.5)
2025-06-14 14:13:52 [main] INFO  o.f.core.internal.command.DbValidate - Successfully validated 3 migrations (execution time 00:00.024s)
2025-06-14 14:13:52 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "public": 1.0.0
2025-06-14 14:13:52 [main] WARN  o.f.core.internal.command.DbMigrate - outOfOrder mode is active. Migration of schema "public" may not be reproducible.
2025-06-14 14:13:53 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "public" to version "1.0.4 - add performance indexes"
2025-06-14 14:13:53 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "public" to version "1.7.1 - insert dummy data"
2025-06-14 14:13:53 [main] ERROR o.f.core.internal.command.DbMigrate - Migration of schema "public" to version "1.7.1 - insert dummy data" failed! Changes successfully rolled back.
2025-06-14 14:13:53 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Script V1.7.1__insert_dummy_data.sql failed
-------------------------------------------
SQL State  : 42703
Error Code : 0
Message    : ERROR: column "code" of relation "sites" does not exist
  Position: 125
Location   : db/migration/data/V1.7.1__insert_dummy_data.sql (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/db/migration/data/V1.7.1__insert_dummy_data.sql)
Line       : 4
Statement  : Run Flyway with -X option to see the actual statement causing the problem

2025-06-14 14:13:53 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-06-14 14:13:53 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-06-14 14:13:53 [main] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-06-14 14:13:53 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-06-14 14:13:53 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Script V1.7.1__insert_dummy_data.sql failed
-------------------------------------------
SQL State  : 42703
Error Code : 0
Message    : ERROR: column "code" of relation "sites" does not exist
  Position: 125
Location   : db/migration/data/V1.7.1__insert_dummy_data.sql (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/db/migration/data/V1.7.1__insert_dummy_data.sql)
Line       : 4
Statement  : Run Flyway with -X option to see the actual statement causing the problem

	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:328)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:753)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1362)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1351)
	at ma.foodplus.ordering.system.FoodPlusOrderingApplication.main(FoodPlusOrderingApplication.java:22)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Script V1.7.1__insert_dummy_data.sql failed
-------------------------------------------
SQL State  : 42703
Error Code : 0
Message    : ERROR: column "code" of relation "sites" does not exist
  Position: 125
Location   : db/migration/data/V1.7.1__insert_dummy_data.sql (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/db/migration/data/V1.7.1__insert_dummy_data.sql)
Line       : 4
Statement  : Run Flyway with -X option to see the actual statement causing the problem

	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1826)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:607)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315)
	... 10 common frames omitted
Caused by: org.flywaydb.core.internal.exception.FlywayMigrateException: Script V1.7.1__insert_dummy_data.sql failed
-------------------------------------------
SQL State  : 42703
Error Code : 0
Message    : ERROR: column "code" of relation "sites" does not exist
  Position: 125
Location   : db/migration/data/V1.7.1__insert_dummy_data.sql (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/db/migration/data/V1.7.1__insert_dummy_data.sql)
Line       : 4
Statement  : Run Flyway with -X option to see the actual statement causing the problem

	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:399)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$applyMigrations$1(DbMigrate.java:283)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:59)
	at org.flywaydb.core.internal.command.DbMigrate.applyMigrations(DbMigrate.java:282)
	at org.flywaydb.core.internal.command.DbMigrate.migrateGroup(DbMigrate.java:255)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$migrateAll$0(DbMigrate.java:153)
	at org.flywaydb.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:77)
	at org.flywaydb.database.postgresql.PostgreSQLAdvisoryLockTemplate.lambda$execute$0(PostgreSQLAdvisoryLockTemplate.java:60)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:59)
	at org.flywaydb.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:60)
	at org.flywaydb.database.postgresql.PostgreSQLConnection.lock(PostgreSQLConnection.java:105)
	at org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory.lock(JdbcTableSchemaHistory.java:164)
	at org.flywaydb.core.internal.command.DbMigrate.migrateAll(DbMigrate.java:153)
	at org.flywaydb.core.internal.command.DbMigrate.migrate(DbMigrate.java:104)
	at org.flywaydb.core.Flyway.lambda$migrate$1(Flyway.java:247)
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:210)
	at org.flywaydb.core.Flyway.migrate(Flyway.java:188)
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1873)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1822)
	... 17 common frames omitted
Caused by: org.flywaydb.core.internal.sqlscript.FlywaySqlScriptException: Script V1.7.1__insert_dummy_data.sql failed
-------------------------------------------
SQL State  : 42703
Error Code : 0
Message    : ERROR: column "code" of relation "sites" does not exist
  Position: 125
Location   : db/migration/data/V1.7.1__insert_dummy_data.sql (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/db/migration/data/V1.7.1__insert_dummy_data.sql)
Line       : 4
Statement  : Run Flyway with -X option to see the actual statement causing the problem

	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.handleException(DefaultSqlScriptExecutor.java:256)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:217)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.execute(DefaultSqlScriptExecutor.java:137)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.executeOnce(SqlMigrationExecutor.java:75)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.lambda$execute$0(SqlMigrationExecutor.java:66)
	at org.flywaydb.core.internal.database.DefaultExecutionStrategy.execute(DefaultExecutionStrategy.java:31)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.execute(SqlMigrationExecutor.java:65)
	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:391)
	... 36 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERROR: column "code" of relation "sites" does not exist
  Position: 125
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:356)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:341)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:317)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:312)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.flywaydb.core.internal.jdbc.JdbcTemplate.executeStatement(JdbcTemplate.java:215)
	at org.flywaydb.core.internal.sqlscript.ParsedSqlStatement.execute(ParsedSqlStatement.java:88)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:212)
	... 42 common frames omitted
2025-06-14 14:16:51 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - Starting FoodPlusOrderingApplication using Java 21.0.7 with PID 314681 (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes started by louki in /home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system)
2025-06-14 14:16:51 [main] DEBUG m.f.o.s.FoodPlusOrderingApplication - Running with Spring Boot v3.5.0, Spring v6.2.7
2025-06-14 14:16:51 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - The following 1 profile is active: "dev"
2025-06-14 14:16:51 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-14 14:16:51 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-14 14:16:51 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 85 ms. Found 10 JPA repository interfaces.
2025-06-14 14:16:52 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-14 14:16:52 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-06-14 14:16:52 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.common.repository.CategoryTarifRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:16:52 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.CustomerGroupRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:16:52 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.CustomerRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:16:52 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.ProductCustomerRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:16:52 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.DepotRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:16:52 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.ProductStockRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:16:52 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.SiteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:16:52 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.order.repository.OrderRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:16:52 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.product.repository.ProductRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:16:52 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.promos.repository.PromotionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:16:52 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 35 ms. Found 0 Redis repository interfaces.
2025-06-14 14:16:53 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8087 (http)
2025-06-14 14:16:53 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-14 14:16:53 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.41]
2025-06-14 14:16:53 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-14 14:16:53 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1781 ms
2025-06-14 14:16:53 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-06-14 14:16:53 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@d08f85a
2025-06-14 14:16:53 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-06-14 14:16:53 [main] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://10.113.181.84:5432/foodplus_ordering (PostgreSQL 17.5)
2025-06-14 14:16:53 [main] INFO  o.f.core.internal.command.DbValidate - Successfully validated 3 migrations (execution time 00:00.021s)
2025-06-14 14:16:53 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "public": 1.0.4
2025-06-14 14:16:53 [main] WARN  o.f.core.internal.command.DbMigrate - outOfOrder mode is active. Migration of schema "public" may not be reproducible.
2025-06-14 14:16:53 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "public" to version "1.7.1 - insert dummy data"
2025-06-14 14:16:53 [main] ERROR o.f.core.internal.command.DbMigrate - Migration of schema "public" to version "1.7.1 - insert dummy data" failed! Changes successfully rolled back.
2025-06-14 14:16:53 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Script V1.7.1__insert_dummy_data.sql failed
-------------------------------------------
SQL State  : 42703
Error Code : 0
Message    : ERROR: column "name" of relation "sites" does not exist
  Position: 149
Location   : db/migration/data/V1.7.1__insert_dummy_data.sql (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/db/migration/data/V1.7.1__insert_dummy_data.sql)
Line       : 4
Statement  : Run Flyway with -X option to see the actual statement causing the problem

2025-06-14 14:16:53 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-06-14 14:16:53 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-06-14 14:16:53 [main] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-06-14 14:16:53 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-06-14 14:16:53 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Script V1.7.1__insert_dummy_data.sql failed
-------------------------------------------
SQL State  : 42703
Error Code : 0
Message    : ERROR: column "name" of relation "sites" does not exist
  Position: 149
Location   : db/migration/data/V1.7.1__insert_dummy_data.sql (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/db/migration/data/V1.7.1__insert_dummy_data.sql)
Line       : 4
Statement  : Run Flyway with -X option to see the actual statement causing the problem

	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:328)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:753)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1362)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1351)
	at ma.foodplus.ordering.system.FoodPlusOrderingApplication.main(FoodPlusOrderingApplication.java:22)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Script V1.7.1__insert_dummy_data.sql failed
-------------------------------------------
SQL State  : 42703
Error Code : 0
Message    : ERROR: column "name" of relation "sites" does not exist
  Position: 149
Location   : db/migration/data/V1.7.1__insert_dummy_data.sql (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/db/migration/data/V1.7.1__insert_dummy_data.sql)
Line       : 4
Statement  : Run Flyway with -X option to see the actual statement causing the problem

	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1826)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:607)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315)
	... 10 common frames omitted
Caused by: org.flywaydb.core.internal.exception.FlywayMigrateException: Script V1.7.1__insert_dummy_data.sql failed
-------------------------------------------
SQL State  : 42703
Error Code : 0
Message    : ERROR: column "name" of relation "sites" does not exist
  Position: 149
Location   : db/migration/data/V1.7.1__insert_dummy_data.sql (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/db/migration/data/V1.7.1__insert_dummy_data.sql)
Line       : 4
Statement  : Run Flyway with -X option to see the actual statement causing the problem

	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:399)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$applyMigrations$1(DbMigrate.java:283)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:59)
	at org.flywaydb.core.internal.command.DbMigrate.applyMigrations(DbMigrate.java:282)
	at org.flywaydb.core.internal.command.DbMigrate.migrateGroup(DbMigrate.java:255)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$migrateAll$0(DbMigrate.java:153)
	at org.flywaydb.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:77)
	at org.flywaydb.database.postgresql.PostgreSQLAdvisoryLockTemplate.lambda$execute$0(PostgreSQLAdvisoryLockTemplate.java:60)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:59)
	at org.flywaydb.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:60)
	at org.flywaydb.database.postgresql.PostgreSQLConnection.lock(PostgreSQLConnection.java:105)
	at org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory.lock(JdbcTableSchemaHistory.java:164)
	at org.flywaydb.core.internal.command.DbMigrate.migrateAll(DbMigrate.java:153)
	at org.flywaydb.core.internal.command.DbMigrate.migrate(DbMigrate.java:104)
	at org.flywaydb.core.Flyway.lambda$migrate$1(Flyway.java:247)
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:210)
	at org.flywaydb.core.Flyway.migrate(Flyway.java:188)
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1873)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1822)
	... 17 common frames omitted
Caused by: org.flywaydb.core.internal.sqlscript.FlywaySqlScriptException: Script V1.7.1__insert_dummy_data.sql failed
-------------------------------------------
SQL State  : 42703
Error Code : 0
Message    : ERROR: column "name" of relation "sites" does not exist
  Position: 149
Location   : db/migration/data/V1.7.1__insert_dummy_data.sql (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/db/migration/data/V1.7.1__insert_dummy_data.sql)
Line       : 4
Statement  : Run Flyway with -X option to see the actual statement causing the problem

	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.handleException(DefaultSqlScriptExecutor.java:256)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:217)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.execute(DefaultSqlScriptExecutor.java:137)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.executeOnce(SqlMigrationExecutor.java:75)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.lambda$execute$0(SqlMigrationExecutor.java:66)
	at org.flywaydb.core.internal.database.DefaultExecutionStrategy.execute(DefaultExecutionStrategy.java:31)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.execute(SqlMigrationExecutor.java:65)
	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:391)
	... 36 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERROR: column "name" of relation "sites" does not exist
  Position: 149
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:356)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:341)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:317)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:312)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.flywaydb.core.internal.jdbc.JdbcTemplate.executeStatement(JdbcTemplate.java:215)
	at org.flywaydb.core.internal.sqlscript.ParsedSqlStatement.execute(ParsedSqlStatement.java:88)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:212)
	... 42 common frames omitted
2025-06-14 14:22:01 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - Starting FoodPlusOrderingApplication using Java 21.0.7 with PID 318953 (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes started by louki in /home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system)
2025-06-14 14:22:01 [main] DEBUG m.f.o.s.FoodPlusOrderingApplication - Running with Spring Boot v3.5.0, Spring v6.2.7
2025-06-14 14:22:01 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - The following 1 profile is active: "dev"
2025-06-14 14:22:02 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-14 14:22:02 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-14 14:22:02 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 150 ms. Found 10 JPA repository interfaces.
2025-06-14 14:22:02 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-14 14:22:02 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-06-14 14:22:02 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.common.repository.CategoryTarifRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:22:02 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.CustomerGroupRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:22:02 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.CustomerRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:22:02 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.ProductCustomerRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:22:02 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.DepotRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:22:02 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.ProductStockRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:22:02 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.SiteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:22:02 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.order.repository.OrderRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:22:02 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.product.repository.ProductRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:22:02 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.promos.repository.PromotionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:22:02 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 27 ms. Found 0 Redis repository interfaces.
2025-06-14 14:22:03 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8087 (http)
2025-06-14 14:22:03 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-14 14:22:03 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.41]
2025-06-14 14:22:03 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-14 14:22:03 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2088 ms
2025-06-14 14:22:03 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-06-14 14:22:04 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@33373f70
2025-06-14 14:22:04 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-06-14 14:22:04 [main] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://10.113.181.84:5432/foodplus_ordering (PostgreSQL 17.5)
2025-06-14 14:22:04 [main] INFO  o.f.core.internal.command.DbValidate - Successfully validated 3 migrations (execution time 00:00.026s)
2025-06-14 14:22:04 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "public": 1.0.4
2025-06-14 14:22:04 [main] WARN  o.f.core.internal.command.DbMigrate - outOfOrder mode is active. Migration of schema "public" may not be reproducible.
2025-06-14 14:22:04 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "public" to version "1.7.1 - insert dummy data"
2025-06-14 14:22:04 [main] ERROR o.f.core.internal.command.DbMigrate - Migration of schema "public" to version "1.7.1 - insert dummy data" failed! Changes successfully rolled back.
2025-06-14 14:22:04 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Script V1.7.1__insert_dummy_data.sql failed
-------------------------------------------
SQL State  : 23502
Error Code : 0
Message    : ERROR: null value in column "level" of relation "categories" violates not-null constraint
  Detail: Failing row contains (t, null, 2025-06-14 14:22:04.392759+01, 1, null, 2025-06-14 14:22:04.392759+01, Fresh Food, CAT001, Fresh Food).
Location   : db/migration/data/V1.7.1__insert_dummy_data.sql (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/db/migration/data/V1.7.1__insert_dummy_data.sql)
Line       : 18
Statement  : Run Flyway with -X option to see the actual statement causing the problem

2025-06-14 14:22:04 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-06-14 14:22:04 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-06-14 14:22:04 [main] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-06-14 14:22:04 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-06-14 14:22:04 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Script V1.7.1__insert_dummy_data.sql failed
-------------------------------------------
SQL State  : 23502
Error Code : 0
Message    : ERROR: null value in column "level" of relation "categories" violates not-null constraint
  Detail: Failing row contains (t, null, 2025-06-14 14:22:04.392759+01, 1, null, 2025-06-14 14:22:04.392759+01, Fresh Food, CAT001, Fresh Food).
Location   : db/migration/data/V1.7.1__insert_dummy_data.sql (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/db/migration/data/V1.7.1__insert_dummy_data.sql)
Line       : 18
Statement  : Run Flyway with -X option to see the actual statement causing the problem

	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:328)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:753)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1362)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1351)
	at ma.foodplus.ordering.system.FoodPlusOrderingApplication.main(FoodPlusOrderingApplication.java:22)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Script V1.7.1__insert_dummy_data.sql failed
-------------------------------------------
SQL State  : 23502
Error Code : 0
Message    : ERROR: null value in column "level" of relation "categories" violates not-null constraint
  Detail: Failing row contains (t, null, 2025-06-14 14:22:04.392759+01, 1, null, 2025-06-14 14:22:04.392759+01, Fresh Food, CAT001, Fresh Food).
Location   : db/migration/data/V1.7.1__insert_dummy_data.sql (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/db/migration/data/V1.7.1__insert_dummy_data.sql)
Line       : 18
Statement  : Run Flyway with -X option to see the actual statement causing the problem

	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1826)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:607)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315)
	... 10 common frames omitted
Caused by: org.flywaydb.core.internal.exception.FlywayMigrateException: Script V1.7.1__insert_dummy_data.sql failed
-------------------------------------------
SQL State  : 23502
Error Code : 0
Message    : ERROR: null value in column "level" of relation "categories" violates not-null constraint
  Detail: Failing row contains (t, null, 2025-06-14 14:22:04.392759+01, 1, null, 2025-06-14 14:22:04.392759+01, Fresh Food, CAT001, Fresh Food).
Location   : db/migration/data/V1.7.1__insert_dummy_data.sql (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/db/migration/data/V1.7.1__insert_dummy_data.sql)
Line       : 18
Statement  : Run Flyway with -X option to see the actual statement causing the problem

	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:399)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$applyMigrations$1(DbMigrate.java:283)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:59)
	at org.flywaydb.core.internal.command.DbMigrate.applyMigrations(DbMigrate.java:282)
	at org.flywaydb.core.internal.command.DbMigrate.migrateGroup(DbMigrate.java:255)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$migrateAll$0(DbMigrate.java:153)
	at org.flywaydb.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:77)
	at org.flywaydb.database.postgresql.PostgreSQLAdvisoryLockTemplate.lambda$execute$0(PostgreSQLAdvisoryLockTemplate.java:60)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:59)
	at org.flywaydb.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:60)
	at org.flywaydb.database.postgresql.PostgreSQLConnection.lock(PostgreSQLConnection.java:105)
	at org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory.lock(JdbcTableSchemaHistory.java:164)
	at org.flywaydb.core.internal.command.DbMigrate.migrateAll(DbMigrate.java:153)
	at org.flywaydb.core.internal.command.DbMigrate.migrate(DbMigrate.java:104)
	at org.flywaydb.core.Flyway.lambda$migrate$1(Flyway.java:247)
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:210)
	at org.flywaydb.core.Flyway.migrate(Flyway.java:188)
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1873)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1822)
	... 17 common frames omitted
Caused by: org.flywaydb.core.internal.sqlscript.FlywaySqlScriptException: Script V1.7.1__insert_dummy_data.sql failed
-------------------------------------------
SQL State  : 23502
Error Code : 0
Message    : ERROR: null value in column "level" of relation "categories" violates not-null constraint
  Detail: Failing row contains (t, null, 2025-06-14 14:22:04.392759+01, 1, null, 2025-06-14 14:22:04.392759+01, Fresh Food, CAT001, Fresh Food).
Location   : db/migration/data/V1.7.1__insert_dummy_data.sql (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/db/migration/data/V1.7.1__insert_dummy_data.sql)
Line       : 18
Statement  : Run Flyway with -X option to see the actual statement causing the problem

	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.handleException(DefaultSqlScriptExecutor.java:256)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:217)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.execute(DefaultSqlScriptExecutor.java:137)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.executeOnce(SqlMigrationExecutor.java:75)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.lambda$execute$0(SqlMigrationExecutor.java:66)
	at org.flywaydb.core.internal.database.DefaultExecutionStrategy.execute(DefaultExecutionStrategy.java:31)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.execute(SqlMigrationExecutor.java:65)
	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:391)
	... 36 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERROR: null value in column "level" of relation "categories" violates not-null constraint
  Detail: Failing row contains (t, null, 2025-06-14 14:22:04.392759+01, 1, null, 2025-06-14 14:22:04.392759+01, Fresh Food, CAT001, Fresh Food).
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:356)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:341)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:317)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:312)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.flywaydb.core.internal.jdbc.JdbcTemplate.executeStatement(JdbcTemplate.java:215)
	at org.flywaydb.core.internal.sqlscript.ParsedSqlStatement.execute(ParsedSqlStatement.java:88)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:212)
	... 42 common frames omitted
2025-06-14 14:23:13 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - Starting FoodPlusOrderingApplication using Java 21.0.7 with PID 319936 (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes started by louki in /home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system)
2025-06-14 14:23:13 [main] DEBUG m.f.o.s.FoodPlusOrderingApplication - Running with Spring Boot v3.5.0, Spring v6.2.7
2025-06-14 14:23:13 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - The following 1 profile is active: "dev"
2025-06-14 14:23:14 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-14 14:23:14 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-14 14:23:14 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 115 ms. Found 10 JPA repository interfaces.
2025-06-14 14:23:14 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-14 14:23:14 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-06-14 14:23:14 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.common.repository.CategoryTarifRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:23:14 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.CustomerGroupRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:23:14 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.CustomerRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:23:14 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.ProductCustomerRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:23:14 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.DepotRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:23:14 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.ProductStockRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:23:14 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.SiteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:23:14 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.order.repository.OrderRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:23:14 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.product.repository.ProductRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:23:14 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.promos.repository.PromotionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:23:14 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 22 ms. Found 0 Redis repository interfaces.
2025-06-14 14:23:15 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8087 (http)
2025-06-14 14:23:15 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-14 14:23:15 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.41]
2025-06-14 14:23:15 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-14 14:23:15 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2396 ms
2025-06-14 14:23:15 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-06-14 14:23:16 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@59278072
2025-06-14 14:23:16 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-06-14 14:23:16 [main] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://10.113.181.84:5432/foodplus_ordering (PostgreSQL 17.5)
2025-06-14 14:23:16 [main] INFO  o.f.core.internal.command.DbValidate - Successfully validated 3 migrations (execution time 00:00.023s)
2025-06-14 14:23:16 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "public": 1.0.4
2025-06-14 14:23:16 [main] WARN  o.f.core.internal.command.DbMigrate - outOfOrder mode is active. Migration of schema "public" may not be reproducible.
2025-06-14 14:23:16 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "public" to version "1.7.1 - insert dummy data"
2025-06-14 14:23:16 [main] ERROR o.f.core.internal.command.DbMigrate - Migration of schema "public" to version "1.7.1 - insert dummy data" failed! Changes successfully rolled back.
2025-06-14 14:23:16 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Script V1.7.1__insert_dummy_data.sql failed
-------------------------------------------
SQL State  : 42703
Error Code : 0
Message    : ERROR: column "is_active" of relation "customer_groups" does not exist
  Position: 84
Location   : db/migration/data/V1.7.1__insert_dummy_data.sql (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/db/migration/data/V1.7.1__insert_dummy_data.sql)
Line       : 27
Statement  : Run Flyway with -X option to see the actual statement causing the problem

2025-06-14 14:23:16 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-06-14 14:23:16 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-06-14 14:23:16 [main] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-06-14 14:23:16 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-06-14 14:23:16 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Script V1.7.1__insert_dummy_data.sql failed
-------------------------------------------
SQL State  : 42703
Error Code : 0
Message    : ERROR: column "is_active" of relation "customer_groups" does not exist
  Position: 84
Location   : db/migration/data/V1.7.1__insert_dummy_data.sql (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/db/migration/data/V1.7.1__insert_dummy_data.sql)
Line       : 27
Statement  : Run Flyway with -X option to see the actual statement causing the problem

	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:328)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:753)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1362)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1351)
	at ma.foodplus.ordering.system.FoodPlusOrderingApplication.main(FoodPlusOrderingApplication.java:22)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Script V1.7.1__insert_dummy_data.sql failed
-------------------------------------------
SQL State  : 42703
Error Code : 0
Message    : ERROR: column "is_active" of relation "customer_groups" does not exist
  Position: 84
Location   : db/migration/data/V1.7.1__insert_dummy_data.sql (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/db/migration/data/V1.7.1__insert_dummy_data.sql)
Line       : 27
Statement  : Run Flyway with -X option to see the actual statement causing the problem

	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1826)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:607)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315)
	... 10 common frames omitted
Caused by: org.flywaydb.core.internal.exception.FlywayMigrateException: Script V1.7.1__insert_dummy_data.sql failed
-------------------------------------------
SQL State  : 42703
Error Code : 0
Message    : ERROR: column "is_active" of relation "customer_groups" does not exist
  Position: 84
Location   : db/migration/data/V1.7.1__insert_dummy_data.sql (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/db/migration/data/V1.7.1__insert_dummy_data.sql)
Line       : 27
Statement  : Run Flyway with -X option to see the actual statement causing the problem

	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:399)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$applyMigrations$1(DbMigrate.java:283)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:59)
	at org.flywaydb.core.internal.command.DbMigrate.applyMigrations(DbMigrate.java:282)
	at org.flywaydb.core.internal.command.DbMigrate.migrateGroup(DbMigrate.java:255)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$migrateAll$0(DbMigrate.java:153)
	at org.flywaydb.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:77)
	at org.flywaydb.database.postgresql.PostgreSQLAdvisoryLockTemplate.lambda$execute$0(PostgreSQLAdvisoryLockTemplate.java:60)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:59)
	at org.flywaydb.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:60)
	at org.flywaydb.database.postgresql.PostgreSQLConnection.lock(PostgreSQLConnection.java:105)
	at org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory.lock(JdbcTableSchemaHistory.java:164)
	at org.flywaydb.core.internal.command.DbMigrate.migrateAll(DbMigrate.java:153)
	at org.flywaydb.core.internal.command.DbMigrate.migrate(DbMigrate.java:104)
	at org.flywaydb.core.Flyway.lambda$migrate$1(Flyway.java:247)
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:210)
	at org.flywaydb.core.Flyway.migrate(Flyway.java:188)
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1873)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1822)
	... 17 common frames omitted
Caused by: org.flywaydb.core.internal.sqlscript.FlywaySqlScriptException: Script V1.7.1__insert_dummy_data.sql failed
-------------------------------------------
SQL State  : 42703
Error Code : 0
Message    : ERROR: column "is_active" of relation "customer_groups" does not exist
  Position: 84
Location   : db/migration/data/V1.7.1__insert_dummy_data.sql (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/db/migration/data/V1.7.1__insert_dummy_data.sql)
Line       : 27
Statement  : Run Flyway with -X option to see the actual statement causing the problem

	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.handleException(DefaultSqlScriptExecutor.java:256)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:217)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.execute(DefaultSqlScriptExecutor.java:137)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.executeOnce(SqlMigrationExecutor.java:75)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.lambda$execute$0(SqlMigrationExecutor.java:66)
	at org.flywaydb.core.internal.database.DefaultExecutionStrategy.execute(DefaultExecutionStrategy.java:31)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.execute(SqlMigrationExecutor.java:65)
	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:391)
	... 36 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERROR: column "is_active" of relation "customer_groups" does not exist
  Position: 84
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:356)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:341)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:317)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:312)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.flywaydb.core.internal.jdbc.JdbcTemplate.executeStatement(JdbcTemplate.java:215)
	at org.flywaydb.core.internal.sqlscript.ParsedSqlStatement.execute(ParsedSqlStatement.java:88)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:212)
	... 42 common frames omitted
2025-06-14 14:24:03 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - Starting FoodPlusOrderingApplication using Java 21.0.7 with PID 320680 (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes started by louki in /home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system)
2025-06-14 14:24:03 [main] DEBUG m.f.o.s.FoodPlusOrderingApplication - Running with Spring Boot v3.5.0, Spring v6.2.7
2025-06-14 14:24:03 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - The following 1 profile is active: "dev"
2025-06-14 14:24:04 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-14 14:24:04 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-14 14:24:04 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 88 ms. Found 10 JPA repository interfaces.
2025-06-14 14:24:05 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-14 14:24:05 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-06-14 14:24:05 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.common.repository.CategoryTarifRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:24:05 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.CustomerGroupRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:24:05 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.CustomerRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:24:05 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.ProductCustomerRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:24:05 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.DepotRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:24:05 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.ProductStockRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:24:05 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.SiteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:24:05 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.order.repository.OrderRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:24:05 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.product.repository.ProductRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:24:05 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.promos.repository.PromotionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:24:05 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 24 ms. Found 0 Redis repository interfaces.
2025-06-14 14:24:06 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8087 (http)
2025-06-14 14:24:06 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-14 14:24:06 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.41]
2025-06-14 14:24:06 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-14 14:24:06 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2192 ms
2025-06-14 14:24:06 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-06-14 14:24:06 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@59278072
2025-06-14 14:24:06 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-06-14 14:24:06 [main] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://10.113.181.84:5432/foodplus_ordering (PostgreSQL 17.5)
2025-06-14 14:24:06 [main] INFO  o.f.core.internal.command.DbValidate - Successfully validated 3 migrations (execution time 00:00.030s)
2025-06-14 14:24:07 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "public": 1.0.4
2025-06-14 14:24:07 [main] WARN  o.f.core.internal.command.DbMigrate - outOfOrder mode is active. Migration of schema "public" may not be reproducible.
2025-06-14 14:24:07 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "public" to version "1.7.1 - insert dummy data"
2025-06-14 14:24:07 [main] ERROR o.f.core.internal.command.DbMigrate - Migration of schema "public" to version "1.7.1 - insert dummy data" failed! Changes successfully rolled back.
2025-06-14 14:24:07 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Script V1.7.1__insert_dummy_data.sql failed
-------------------------------------------
SQL State  : 42703
Error Code : 0
Message    : ERROR: column "code" of relation "customer_groups" does not exist
  Position: 84
Location   : db/migration/data/V1.7.1__insert_dummy_data.sql (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/db/migration/data/V1.7.1__insert_dummy_data.sql)
Line       : 27
Statement  : Run Flyway with -X option to see the actual statement causing the problem

2025-06-14 14:24:07 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-06-14 14:24:07 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-06-14 14:24:07 [main] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-06-14 14:24:07 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-06-14 14:24:07 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Script V1.7.1__insert_dummy_data.sql failed
-------------------------------------------
SQL State  : 42703
Error Code : 0
Message    : ERROR: column "code" of relation "customer_groups" does not exist
  Position: 84
Location   : db/migration/data/V1.7.1__insert_dummy_data.sql (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/db/migration/data/V1.7.1__insert_dummy_data.sql)
Line       : 27
Statement  : Run Flyway with -X option to see the actual statement causing the problem

	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:328)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:753)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1362)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1351)
	at ma.foodplus.ordering.system.FoodPlusOrderingApplication.main(FoodPlusOrderingApplication.java:22)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Script V1.7.1__insert_dummy_data.sql failed
-------------------------------------------
SQL State  : 42703
Error Code : 0
Message    : ERROR: column "code" of relation "customer_groups" does not exist
  Position: 84
Location   : db/migration/data/V1.7.1__insert_dummy_data.sql (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/db/migration/data/V1.7.1__insert_dummy_data.sql)
Line       : 27
Statement  : Run Flyway with -X option to see the actual statement causing the problem

	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1826)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:607)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315)
	... 10 common frames omitted
Caused by: org.flywaydb.core.internal.exception.FlywayMigrateException: Script V1.7.1__insert_dummy_data.sql failed
-------------------------------------------
SQL State  : 42703
Error Code : 0
Message    : ERROR: column "code" of relation "customer_groups" does not exist
  Position: 84
Location   : db/migration/data/V1.7.1__insert_dummy_data.sql (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/db/migration/data/V1.7.1__insert_dummy_data.sql)
Line       : 27
Statement  : Run Flyway with -X option to see the actual statement causing the problem

	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:399)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$applyMigrations$1(DbMigrate.java:283)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:59)
	at org.flywaydb.core.internal.command.DbMigrate.applyMigrations(DbMigrate.java:282)
	at org.flywaydb.core.internal.command.DbMigrate.migrateGroup(DbMigrate.java:255)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$migrateAll$0(DbMigrate.java:153)
	at org.flywaydb.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:77)
	at org.flywaydb.database.postgresql.PostgreSQLAdvisoryLockTemplate.lambda$execute$0(PostgreSQLAdvisoryLockTemplate.java:60)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:59)
	at org.flywaydb.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:60)
	at org.flywaydb.database.postgresql.PostgreSQLConnection.lock(PostgreSQLConnection.java:105)
	at org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory.lock(JdbcTableSchemaHistory.java:164)
	at org.flywaydb.core.internal.command.DbMigrate.migrateAll(DbMigrate.java:153)
	at org.flywaydb.core.internal.command.DbMigrate.migrate(DbMigrate.java:104)
	at org.flywaydb.core.Flyway.lambda$migrate$1(Flyway.java:247)
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:210)
	at org.flywaydb.core.Flyway.migrate(Flyway.java:188)
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1873)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1822)
	... 17 common frames omitted
Caused by: org.flywaydb.core.internal.sqlscript.FlywaySqlScriptException: Script V1.7.1__insert_dummy_data.sql failed
-------------------------------------------
SQL State  : 42703
Error Code : 0
Message    : ERROR: column "code" of relation "customer_groups" does not exist
  Position: 84
Location   : db/migration/data/V1.7.1__insert_dummy_data.sql (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/db/migration/data/V1.7.1__insert_dummy_data.sql)
Line       : 27
Statement  : Run Flyway with -X option to see the actual statement causing the problem

	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.handleException(DefaultSqlScriptExecutor.java:256)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:217)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.execute(DefaultSqlScriptExecutor.java:137)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.executeOnce(SqlMigrationExecutor.java:75)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.lambda$execute$0(SqlMigrationExecutor.java:66)
	at org.flywaydb.core.internal.database.DefaultExecutionStrategy.execute(DefaultExecutionStrategy.java:31)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.execute(SqlMigrationExecutor.java:65)
	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:391)
	... 36 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERROR: column "code" of relation "customer_groups" does not exist
  Position: 84
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:356)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:341)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:317)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:312)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.flywaydb.core.internal.jdbc.JdbcTemplate.executeStatement(JdbcTemplate.java:215)
	at org.flywaydb.core.internal.sqlscript.ParsedSqlStatement.execute(ParsedSqlStatement.java:88)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:212)
	... 42 common frames omitted
2025-06-14 14:25:46 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - Starting FoodPlusOrderingApplication using Java 21.0.7 with PID 322148 (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes started by louki in /home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system)
2025-06-14 14:25:46 [main] DEBUG m.f.o.s.FoodPlusOrderingApplication - Running with Spring Boot v3.5.0, Spring v6.2.7
2025-06-14 14:25:46 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - The following 1 profile is active: "dev"
2025-06-14 14:25:47 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-14 14:25:47 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-14 14:25:47 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 103 ms. Found 10 JPA repository interfaces.
2025-06-14 14:25:48 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-14 14:25:48 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-06-14 14:25:48 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.common.repository.CategoryTarifRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:25:48 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.CustomerGroupRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:25:48 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.CustomerRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:25:48 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.ProductCustomerRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:25:48 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.DepotRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:25:48 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.ProductStockRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:25:48 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.SiteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:25:48 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.order.repository.OrderRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:25:48 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.product.repository.ProductRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:25:48 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.promos.repository.PromotionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:25:48 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 24 ms. Found 0 Redis repository interfaces.
2025-06-14 14:25:48 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8087 (http)
2025-06-14 14:25:49 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-14 14:25:49 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.41]
2025-06-14 14:25:49 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-14 14:25:49 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2593 ms
2025-06-14 14:25:49 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-06-14 14:25:49 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@23d060c2
2025-06-14 14:25:49 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-06-14 14:25:49 [main] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://10.113.181.84:5432/foodplus_ordering (PostgreSQL 17.5)
2025-06-14 14:25:49 [main] INFO  o.f.core.internal.command.DbValidate - Successfully validated 3 migrations (execution time 00:00.031s)
2025-06-14 14:25:49 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "public": 1.0.4
2025-06-14 14:25:49 [main] WARN  o.f.core.internal.command.DbMigrate - outOfOrder mode is active. Migration of schema "public" may not be reproducible.
2025-06-14 14:25:49 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "public" to version "1.7.1 - insert dummy data"
2025-06-14 14:25:49 [main] ERROR o.f.core.internal.command.DbMigrate - Migration of schema "public" to version "1.7.1 - insert dummy data" failed! Changes successfully rolled back.
2025-06-14 14:25:49 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Script V1.7.1__insert_dummy_data.sql failed
-------------------------------------------
SQL State  : 42703
Error Code : 0
Message    : ERROR: column "cat_tarif_id" of relation "customers" does not exist
  Position: 83
Location   : db/migration/data/V1.7.1__insert_dummy_data.sql (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/db/migration/data/V1.7.1__insert_dummy_data.sql)
Line       : 34
Statement  : Run Flyway with -X option to see the actual statement causing the problem

2025-06-14 14:25:49 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-06-14 14:25:49 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-06-14 14:25:49 [main] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-06-14 14:25:49 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-06-14 14:25:49 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Script V1.7.1__insert_dummy_data.sql failed
-------------------------------------------
SQL State  : 42703
Error Code : 0
Message    : ERROR: column "cat_tarif_id" of relation "customers" does not exist
  Position: 83
Location   : db/migration/data/V1.7.1__insert_dummy_data.sql (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/db/migration/data/V1.7.1__insert_dummy_data.sql)
Line       : 34
Statement  : Run Flyway with -X option to see the actual statement causing the problem

	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:328)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:753)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1362)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1351)
	at ma.foodplus.ordering.system.FoodPlusOrderingApplication.main(FoodPlusOrderingApplication.java:22)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Script V1.7.1__insert_dummy_data.sql failed
-------------------------------------------
SQL State  : 42703
Error Code : 0
Message    : ERROR: column "cat_tarif_id" of relation "customers" does not exist
  Position: 83
Location   : db/migration/data/V1.7.1__insert_dummy_data.sql (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/db/migration/data/V1.7.1__insert_dummy_data.sql)
Line       : 34
Statement  : Run Flyway with -X option to see the actual statement causing the problem

	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1826)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:607)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315)
	... 10 common frames omitted
Caused by: org.flywaydb.core.internal.exception.FlywayMigrateException: Script V1.7.1__insert_dummy_data.sql failed
-------------------------------------------
SQL State  : 42703
Error Code : 0
Message    : ERROR: column "cat_tarif_id" of relation "customers" does not exist
  Position: 83
Location   : db/migration/data/V1.7.1__insert_dummy_data.sql (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/db/migration/data/V1.7.1__insert_dummy_data.sql)
Line       : 34
Statement  : Run Flyway with -X option to see the actual statement causing the problem

	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:399)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$applyMigrations$1(DbMigrate.java:283)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:59)
	at org.flywaydb.core.internal.command.DbMigrate.applyMigrations(DbMigrate.java:282)
	at org.flywaydb.core.internal.command.DbMigrate.migrateGroup(DbMigrate.java:255)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$migrateAll$0(DbMigrate.java:153)
	at org.flywaydb.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:77)
	at org.flywaydb.database.postgresql.PostgreSQLAdvisoryLockTemplate.lambda$execute$0(PostgreSQLAdvisoryLockTemplate.java:60)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:59)
	at org.flywaydb.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:60)
	at org.flywaydb.database.postgresql.PostgreSQLConnection.lock(PostgreSQLConnection.java:105)
	at org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory.lock(JdbcTableSchemaHistory.java:164)
	at org.flywaydb.core.internal.command.DbMigrate.migrateAll(DbMigrate.java:153)
	at org.flywaydb.core.internal.command.DbMigrate.migrate(DbMigrate.java:104)
	at org.flywaydb.core.Flyway.lambda$migrate$1(Flyway.java:247)
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:210)
	at org.flywaydb.core.Flyway.migrate(Flyway.java:188)
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1873)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1822)
	... 17 common frames omitted
Caused by: org.flywaydb.core.internal.sqlscript.FlywaySqlScriptException: Script V1.7.1__insert_dummy_data.sql failed
-------------------------------------------
SQL State  : 42703
Error Code : 0
Message    : ERROR: column "cat_tarif_id" of relation "customers" does not exist
  Position: 83
Location   : db/migration/data/V1.7.1__insert_dummy_data.sql (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/db/migration/data/V1.7.1__insert_dummy_data.sql)
Line       : 34
Statement  : Run Flyway with -X option to see the actual statement causing the problem

	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.handleException(DefaultSqlScriptExecutor.java:256)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:217)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.execute(DefaultSqlScriptExecutor.java:137)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.executeOnce(SqlMigrationExecutor.java:75)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.lambda$execute$0(SqlMigrationExecutor.java:66)
	at org.flywaydb.core.internal.database.DefaultExecutionStrategy.execute(DefaultExecutionStrategy.java:31)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.execute(SqlMigrationExecutor.java:65)
	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:391)
	... 36 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERROR: column "cat_tarif_id" of relation "customers" does not exist
  Position: 83
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:356)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:341)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:317)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:312)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.flywaydb.core.internal.jdbc.JdbcTemplate.executeStatement(JdbcTemplate.java:215)
	at org.flywaydb.core.internal.sqlscript.ParsedSqlStatement.execute(ParsedSqlStatement.java:88)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:212)
	... 42 common frames omitted
2025-06-14 14:34:19 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - Starting FoodPlusOrderingApplication using Java 21.0.7 with PID 329836 (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes started by louki in /home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system)
2025-06-14 14:34:19 [main] DEBUG m.f.o.s.FoodPlusOrderingApplication - Running with Spring Boot v3.5.0, Spring v6.2.7
2025-06-14 14:34:19 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - The following 1 profile is active: "dev"
2025-06-14 14:34:20 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-14 14:34:20 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-14 14:34:20 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 111 ms. Found 10 JPA repository interfaces.
2025-06-14 14:34:21 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-14 14:34:21 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-06-14 14:34:21 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.common.repository.CategoryTarifRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:34:21 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.CustomerGroupRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:34:21 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.CustomerRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:34:21 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.ProductCustomerRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:34:21 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.DepotRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:34:21 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.ProductStockRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:34:21 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.SiteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:34:21 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.order.repository.OrderRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:34:21 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.product.repository.ProductRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:34:21 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.promos.repository.PromotionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:34:21 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 20 ms. Found 0 Redis repository interfaces.
2025-06-14 14:34:21 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8087 (http)
2025-06-14 14:34:22 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-14 14:34:22 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.41]
2025-06-14 14:34:22 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-14 14:34:22 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2131 ms
2025-06-14 14:34:22 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-06-14 14:34:22 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@d08f85a
2025-06-14 14:34:22 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-06-14 14:34:22 [main] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://10.113.181.84:5432/foodplus_ordering (PostgreSQL 17.5)
2025-06-14 14:34:22 [main] INFO  o.f.core.internal.command.DbValidate - Successfully validated 3 migrations (execution time 00:00.024s)
2025-06-14 14:34:22 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "public": 1.0.4
2025-06-14 14:34:22 [main] WARN  o.f.core.internal.command.DbMigrate - outOfOrder mode is active. Migration of schema "public" may not be reproducible.
2025-06-14 14:34:22 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "public" to version "1.7.1 - insert dummy data"
2025-06-14 14:34:23 [main] ERROR o.f.core.internal.command.DbMigrate - Migration of schema "public" to version "1.7.1 - insert dummy data" failed! Changes successfully rolled back.
2025-06-14 14:34:23 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Script V1.7.1__insert_dummy_data.sql failed
-------------------------------------------
SQL State  : 42703
Error Code : 0
Message    : ERROR: column "is_active" of relation "products" does not exist
  Position: 70
Location   : db/migration/data/V1.7.1__insert_dummy_data.sql (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/db/migration/data/V1.7.1__insert_dummy_data.sql)
Line       : 62
Statement  : Run Flyway with -X option to see the actual statement causing the problem

2025-06-14 14:34:23 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-06-14 14:34:23 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-06-14 14:34:23 [main] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-06-14 14:34:23 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-06-14 14:34:23 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Script V1.7.1__insert_dummy_data.sql failed
-------------------------------------------
SQL State  : 42703
Error Code : 0
Message    : ERROR: column "is_active" of relation "products" does not exist
  Position: 70
Location   : db/migration/data/V1.7.1__insert_dummy_data.sql (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/db/migration/data/V1.7.1__insert_dummy_data.sql)
Line       : 62
Statement  : Run Flyway with -X option to see the actual statement causing the problem

	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:328)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:753)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1362)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1351)
	at ma.foodplus.ordering.system.FoodPlusOrderingApplication.main(FoodPlusOrderingApplication.java:22)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Script V1.7.1__insert_dummy_data.sql failed
-------------------------------------------
SQL State  : 42703
Error Code : 0
Message    : ERROR: column "is_active" of relation "products" does not exist
  Position: 70
Location   : db/migration/data/V1.7.1__insert_dummy_data.sql (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/db/migration/data/V1.7.1__insert_dummy_data.sql)
Line       : 62
Statement  : Run Flyway with -X option to see the actual statement causing the problem

	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1826)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:607)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315)
	... 10 common frames omitted
Caused by: org.flywaydb.core.internal.exception.FlywayMigrateException: Script V1.7.1__insert_dummy_data.sql failed
-------------------------------------------
SQL State  : 42703
Error Code : 0
Message    : ERROR: column "is_active" of relation "products" does not exist
  Position: 70
Location   : db/migration/data/V1.7.1__insert_dummy_data.sql (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/db/migration/data/V1.7.1__insert_dummy_data.sql)
Line       : 62
Statement  : Run Flyway with -X option to see the actual statement causing the problem

	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:399)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$applyMigrations$1(DbMigrate.java:283)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:59)
	at org.flywaydb.core.internal.command.DbMigrate.applyMigrations(DbMigrate.java:282)
	at org.flywaydb.core.internal.command.DbMigrate.migrateGroup(DbMigrate.java:255)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$migrateAll$0(DbMigrate.java:153)
	at org.flywaydb.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:77)
	at org.flywaydb.database.postgresql.PostgreSQLAdvisoryLockTemplate.lambda$execute$0(PostgreSQLAdvisoryLockTemplate.java:60)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:59)
	at org.flywaydb.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:60)
	at org.flywaydb.database.postgresql.PostgreSQLConnection.lock(PostgreSQLConnection.java:105)
	at org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory.lock(JdbcTableSchemaHistory.java:164)
	at org.flywaydb.core.internal.command.DbMigrate.migrateAll(DbMigrate.java:153)
	at org.flywaydb.core.internal.command.DbMigrate.migrate(DbMigrate.java:104)
	at org.flywaydb.core.Flyway.lambda$migrate$1(Flyway.java:247)
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:210)
	at org.flywaydb.core.Flyway.migrate(Flyway.java:188)
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1873)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1822)
	... 17 common frames omitted
Caused by: org.flywaydb.core.internal.sqlscript.FlywaySqlScriptException: Script V1.7.1__insert_dummy_data.sql failed
-------------------------------------------
SQL State  : 42703
Error Code : 0
Message    : ERROR: column "is_active" of relation "products" does not exist
  Position: 70
Location   : db/migration/data/V1.7.1__insert_dummy_data.sql (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/db/migration/data/V1.7.1__insert_dummy_data.sql)
Line       : 62
Statement  : Run Flyway with -X option to see the actual statement causing the problem

	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.handleException(DefaultSqlScriptExecutor.java:256)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:217)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.execute(DefaultSqlScriptExecutor.java:137)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.executeOnce(SqlMigrationExecutor.java:75)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.lambda$execute$0(SqlMigrationExecutor.java:66)
	at org.flywaydb.core.internal.database.DefaultExecutionStrategy.execute(DefaultExecutionStrategy.java:31)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.execute(SqlMigrationExecutor.java:65)
	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:391)
	... 36 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERROR: column "is_active" of relation "products" does not exist
  Position: 70
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:356)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:341)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:317)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:312)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.flywaydb.core.internal.jdbc.JdbcTemplate.executeStatement(JdbcTemplate.java:215)
	at org.flywaydb.core.internal.sqlscript.ParsedSqlStatement.execute(ParsedSqlStatement.java:88)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:212)
	... 42 common frames omitted
2025-06-14 14:38:00 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - Starting FoodPlusOrderingApplication using Java 21.0.7 with PID 332519 (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes started by louki in /home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system)
2025-06-14 14:38:00 [main] DEBUG m.f.o.s.FoodPlusOrderingApplication - Running with Spring Boot v3.5.0, Spring v6.2.7
2025-06-14 14:38:00 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - The following 1 profile is active: "dev"
2025-06-14 14:38:01 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-14 14:38:01 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-14 14:38:01 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 212 ms. Found 10 JPA repository interfaces.
2025-06-14 14:38:02 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-14 14:38:02 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-06-14 14:38:02 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.common.repository.CategoryTarifRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:38:02 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.CustomerGroupRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:38:02 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.CustomerRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:38:02 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.ProductCustomerRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:38:02 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.DepotRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:38:02 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.ProductStockRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:38:02 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.SiteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:38:02 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.order.repository.OrderRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:38:02 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.product.repository.ProductRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:38:02 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.promos.repository.PromotionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:38:02 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 82 ms. Found 0 Redis repository interfaces.
2025-06-14 14:38:03 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8087 (http)
2025-06-14 14:38:04 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-14 14:38:04 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.41]
2025-06-14 14:38:04 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-14 14:38:04 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3910 ms
2025-06-14 14:38:04 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-06-14 14:38:05 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@23d060c2
2025-06-14 14:38:05 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-06-14 14:38:05 [main] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://10.113.181.84:5432/foodplus_ordering (PostgreSQL 17.5)
2025-06-14 14:38:05 [main] INFO  o.f.core.internal.command.DbValidate - Successfully validated 3 migrations (execution time 00:00.024s)
2025-06-14 14:38:05 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "public": 1.0.4
2025-06-14 14:38:05 [main] WARN  o.f.core.internal.command.DbMigrate - outOfOrder mode is active. Migration of schema "public" may not be reproducible.
2025-06-14 14:38:05 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "public" to version "1.7.1 - insert dummy data"
2025-06-14 14:38:05 [main] ERROR o.f.core.internal.command.DbMigrate - Migration of schema "public" to version "1.7.1 - insert dummy data" failed! Changes successfully rolled back.
2025-06-14 14:38:05 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Script V1.7.1__insert_dummy_data.sql failed
-------------------------------------------
SQL State  : 23502
Error Code : 0
Message    : ERROR: null value in column "promo_sku_points" of relation "products" violates not-null constraint
  Detail: Failing row contains (null, null, null, null, null, null, null, t, f, null, null, null, null, null, null, null, null, t, f, f, t, f, null, null, null, 3.59, null, null, t, null, 2.99, null, null, null, t, null, null, null, null, null, null, null, null, null, null, null, null, 2025-06-14 14:38:05.249784+01, 1, 2025-06-14 14:38:05.249784+01, null, null, null, BAR001, null, null, null, null, null, null, null, null, null, null, Fresh Apples, null, null, null, null, Fresh Red Delicious Apples, FAM001, PROD001, SKU001, null).
Location   : db/migration/data/V1.7.1__insert_dummy_data.sql (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/db/migration/data/V1.7.1__insert_dummy_data.sql)
Line       : 62
Statement  : Run Flyway with -X option to see the actual statement causing the problem

2025-06-14 14:38:05 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-06-14 14:38:05 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-06-14 14:38:05 [main] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-06-14 14:38:05 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-06-14 14:38:05 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Script V1.7.1__insert_dummy_data.sql failed
-------------------------------------------
SQL State  : 23502
Error Code : 0
Message    : ERROR: null value in column "promo_sku_points" of relation "products" violates not-null constraint
  Detail: Failing row contains (null, null, null, null, null, null, null, t, f, null, null, null, null, null, null, null, null, t, f, f, t, f, null, null, null, 3.59, null, null, t, null, 2.99, null, null, null, t, null, null, null, null, null, null, null, null, null, null, null, null, 2025-06-14 14:38:05.249784+01, 1, 2025-06-14 14:38:05.249784+01, null, null, null, BAR001, null, null, null, null, null, null, null, null, null, null, Fresh Apples, null, null, null, null, Fresh Red Delicious Apples, FAM001, PROD001, SKU001, null).
Location   : db/migration/data/V1.7.1__insert_dummy_data.sql (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/db/migration/data/V1.7.1__insert_dummy_data.sql)
Line       : 62
Statement  : Run Flyway with -X option to see the actual statement causing the problem

	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:328)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:753)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1362)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1351)
	at ma.foodplus.ordering.system.FoodPlusOrderingApplication.main(FoodPlusOrderingApplication.java:22)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Script V1.7.1__insert_dummy_data.sql failed
-------------------------------------------
SQL State  : 23502
Error Code : 0
Message    : ERROR: null value in column "promo_sku_points" of relation "products" violates not-null constraint
  Detail: Failing row contains (null, null, null, null, null, null, null, t, f, null, null, null, null, null, null, null, null, t, f, f, t, f, null, null, null, 3.59, null, null, t, null, 2.99, null, null, null, t, null, null, null, null, null, null, null, null, null, null, null, null, 2025-06-14 14:38:05.249784+01, 1, 2025-06-14 14:38:05.249784+01, null, null, null, BAR001, null, null, null, null, null, null, null, null, null, null, Fresh Apples, null, null, null, null, Fresh Red Delicious Apples, FAM001, PROD001, SKU001, null).
Location   : db/migration/data/V1.7.1__insert_dummy_data.sql (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/db/migration/data/V1.7.1__insert_dummy_data.sql)
Line       : 62
Statement  : Run Flyway with -X option to see the actual statement causing the problem

	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1826)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:607)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315)
	... 10 common frames omitted
Caused by: org.flywaydb.core.internal.exception.FlywayMigrateException: Script V1.7.1__insert_dummy_data.sql failed
-------------------------------------------
SQL State  : 23502
Error Code : 0
Message    : ERROR: null value in column "promo_sku_points" of relation "products" violates not-null constraint
  Detail: Failing row contains (null, null, null, null, null, null, null, t, f, null, null, null, null, null, null, null, null, t, f, f, t, f, null, null, null, 3.59, null, null, t, null, 2.99, null, null, null, t, null, null, null, null, null, null, null, null, null, null, null, null, 2025-06-14 14:38:05.249784+01, 1, 2025-06-14 14:38:05.249784+01, null, null, null, BAR001, null, null, null, null, null, null, null, null, null, null, Fresh Apples, null, null, null, null, Fresh Red Delicious Apples, FAM001, PROD001, SKU001, null).
Location   : db/migration/data/V1.7.1__insert_dummy_data.sql (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/db/migration/data/V1.7.1__insert_dummy_data.sql)
Line       : 62
Statement  : Run Flyway with -X option to see the actual statement causing the problem

	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:399)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$applyMigrations$1(DbMigrate.java:283)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:59)
	at org.flywaydb.core.internal.command.DbMigrate.applyMigrations(DbMigrate.java:282)
	at org.flywaydb.core.internal.command.DbMigrate.migrateGroup(DbMigrate.java:255)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$migrateAll$0(DbMigrate.java:153)
	at org.flywaydb.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:77)
	at org.flywaydb.database.postgresql.PostgreSQLAdvisoryLockTemplate.lambda$execute$0(PostgreSQLAdvisoryLockTemplate.java:60)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:59)
	at org.flywaydb.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:60)
	at org.flywaydb.database.postgresql.PostgreSQLConnection.lock(PostgreSQLConnection.java:105)
	at org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory.lock(JdbcTableSchemaHistory.java:164)
	at org.flywaydb.core.internal.command.DbMigrate.migrateAll(DbMigrate.java:153)
	at org.flywaydb.core.internal.command.DbMigrate.migrate(DbMigrate.java:104)
	at org.flywaydb.core.Flyway.lambda$migrate$1(Flyway.java:247)
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:210)
	at org.flywaydb.core.Flyway.migrate(Flyway.java:188)
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1873)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1822)
	... 17 common frames omitted
Caused by: org.flywaydb.core.internal.sqlscript.FlywaySqlScriptException: Script V1.7.1__insert_dummy_data.sql failed
-------------------------------------------
SQL State  : 23502
Error Code : 0
Message    : ERROR: null value in column "promo_sku_points" of relation "products" violates not-null constraint
  Detail: Failing row contains (null, null, null, null, null, null, null, t, f, null, null, null, null, null, null, null, null, t, f, f, t, f, null, null, null, 3.59, null, null, t, null, 2.99, null, null, null, t, null, null, null, null, null, null, null, null, null, null, null, null, 2025-06-14 14:38:05.249784+01, 1, 2025-06-14 14:38:05.249784+01, null, null, null, BAR001, null, null, null, null, null, null, null, null, null, null, Fresh Apples, null, null, null, null, Fresh Red Delicious Apples, FAM001, PROD001, SKU001, null).
Location   : db/migration/data/V1.7.1__insert_dummy_data.sql (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/db/migration/data/V1.7.1__insert_dummy_data.sql)
Line       : 62
Statement  : Run Flyway with -X option to see the actual statement causing the problem

	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.handleException(DefaultSqlScriptExecutor.java:256)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:217)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.execute(DefaultSqlScriptExecutor.java:137)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.executeOnce(SqlMigrationExecutor.java:75)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.lambda$execute$0(SqlMigrationExecutor.java:66)
	at org.flywaydb.core.internal.database.DefaultExecutionStrategy.execute(DefaultExecutionStrategy.java:31)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.execute(SqlMigrationExecutor.java:65)
	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:391)
	... 36 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERROR: null value in column "promo_sku_points" of relation "products" violates not-null constraint
  Detail: Failing row contains (null, null, null, null, null, null, null, t, f, null, null, null, null, null, null, null, null, t, f, f, t, f, null, null, null, 3.59, null, null, t, null, 2.99, null, null, null, t, null, null, null, null, null, null, null, null, null, null, null, null, 2025-06-14 14:38:05.249784+01, 1, 2025-06-14 14:38:05.249784+01, null, null, null, BAR001, null, null, null, null, null, null, null, null, null, null, Fresh Apples, null, null, null, null, Fresh Red Delicious Apples, FAM001, PROD001, SKU001, null).
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:356)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:341)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:317)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:312)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.flywaydb.core.internal.jdbc.JdbcTemplate.executeStatement(JdbcTemplate.java:215)
	at org.flywaydb.core.internal.sqlscript.ParsedSqlStatement.execute(ParsedSqlStatement.java:88)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:212)
	... 42 common frames omitted
2025-06-14 14:39:15 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - Starting FoodPlusOrderingApplication using Java 21.0.7 with PID 333787 (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes started by louki in /home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system)
2025-06-14 14:39:15 [main] DEBUG m.f.o.s.FoodPlusOrderingApplication - Running with Spring Boot v3.5.0, Spring v6.2.7
2025-06-14 14:39:15 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - The following 1 profile is active: "dev"
2025-06-14 14:39:15 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-14 14:39:15 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-14 14:39:16 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 119 ms. Found 10 JPA repository interfaces.
2025-06-14 14:39:16 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-14 14:39:16 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-06-14 14:39:16 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.common.repository.CategoryTarifRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:39:16 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.CustomerGroupRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:39:16 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.CustomerRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:39:16 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.ProductCustomerRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:39:16 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.DepotRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:39:16 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.ProductStockRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:39:16 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.SiteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:39:16 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.order.repository.OrderRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:39:16 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.product.repository.ProductRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:39:16 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.promos.repository.PromotionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:39:16 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 18 ms. Found 0 Redis repository interfaces.
2025-06-14 14:39:17 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8087 (http)
2025-06-14 14:39:17 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-14 14:39:17 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.41]
2025-06-14 14:39:17 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-14 14:39:17 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2057 ms
2025-06-14 14:39:17 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-06-14 14:39:17 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@d08f85a
2025-06-14 14:39:17 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-06-14 14:39:17 [main] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://10.113.181.84:5432/foodplus_ordering (PostgreSQL 17.5)
2025-06-14 14:39:17 [main] INFO  o.f.core.internal.command.DbValidate - Successfully validated 3 migrations (execution time 00:00.022s)
2025-06-14 14:39:17 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "public": 1.0.4
2025-06-14 14:39:17 [main] WARN  o.f.core.internal.command.DbMigrate - outOfOrder mode is active. Migration of schema "public" may not be reproducible.
2025-06-14 14:39:17 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "public" to version "1.7.1 - insert dummy data"
2025-06-14 14:39:17 [main] ERROR o.f.core.internal.command.DbMigrate - Migration of schema "public" to version "1.7.1 - insert dummy data" failed! Changes successfully rolled back.
2025-06-14 14:39:17 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Script V1.7.1__insert_dummy_data.sql failed
-------------------------------------------
SQL State  : 23502
Error Code : 0
Message    : ERROR: null value in column "requires_approval" of relation "products" violates not-null constraint
  Detail: Failing row contains (null, null, null, null, null, null, null, t, f, null, null, null, null, null, null, null, null, t, f, f, t, f, null, null, null, 3.59, 0.00, null, t, null, 2.99, null, null, null, t, null, null, null, null, null, null, null, null, null, null, null, null, 2025-06-14 14:39:17.946984+01, 1, 2025-06-14 14:39:17.946984+01, null, null, null, BAR001, null, null, null, null, null, null, null, null, null, null, Fresh Apples, null, null, null, null, Fresh Red Delicious Apples, FAM001, PROD001, SKU001, null).
Location   : db/migration/data/V1.7.1__insert_dummy_data.sql (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/db/migration/data/V1.7.1__insert_dummy_data.sql)
Line       : 62
Statement  : Run Flyway with -X option to see the actual statement causing the problem

2025-06-14 14:39:17 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-06-14 14:39:18 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-06-14 14:39:18 [main] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-06-14 14:39:18 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-06-14 14:39:18 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Script V1.7.1__insert_dummy_data.sql failed
-------------------------------------------
SQL State  : 23502
Error Code : 0
Message    : ERROR: null value in column "requires_approval" of relation "products" violates not-null constraint
  Detail: Failing row contains (null, null, null, null, null, null, null, t, f, null, null, null, null, null, null, null, null, t, f, f, t, f, null, null, null, 3.59, 0.00, null, t, null, 2.99, null, null, null, t, null, null, null, null, null, null, null, null, null, null, null, null, 2025-06-14 14:39:17.946984+01, 1, 2025-06-14 14:39:17.946984+01, null, null, null, BAR001, null, null, null, null, null, null, null, null, null, null, Fresh Apples, null, null, null, null, Fresh Red Delicious Apples, FAM001, PROD001, SKU001, null).
Location   : db/migration/data/V1.7.1__insert_dummy_data.sql (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/db/migration/data/V1.7.1__insert_dummy_data.sql)
Line       : 62
Statement  : Run Flyway with -X option to see the actual statement causing the problem

	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:328)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:753)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1362)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1351)
	at ma.foodplus.ordering.system.FoodPlusOrderingApplication.main(FoodPlusOrderingApplication.java:22)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Script V1.7.1__insert_dummy_data.sql failed
-------------------------------------------
SQL State  : 23502
Error Code : 0
Message    : ERROR: null value in column "requires_approval" of relation "products" violates not-null constraint
  Detail: Failing row contains (null, null, null, null, null, null, null, t, f, null, null, null, null, null, null, null, null, t, f, f, t, f, null, null, null, 3.59, 0.00, null, t, null, 2.99, null, null, null, t, null, null, null, null, null, null, null, null, null, null, null, null, 2025-06-14 14:39:17.946984+01, 1, 2025-06-14 14:39:17.946984+01, null, null, null, BAR001, null, null, null, null, null, null, null, null, null, null, Fresh Apples, null, null, null, null, Fresh Red Delicious Apples, FAM001, PROD001, SKU001, null).
Location   : db/migration/data/V1.7.1__insert_dummy_data.sql (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/db/migration/data/V1.7.1__insert_dummy_data.sql)
Line       : 62
Statement  : Run Flyway with -X option to see the actual statement causing the problem

	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1826)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:607)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315)
	... 10 common frames omitted
Caused by: org.flywaydb.core.internal.exception.FlywayMigrateException: Script V1.7.1__insert_dummy_data.sql failed
-------------------------------------------
SQL State  : 23502
Error Code : 0
Message    : ERROR: null value in column "requires_approval" of relation "products" violates not-null constraint
  Detail: Failing row contains (null, null, null, null, null, null, null, t, f, null, null, null, null, null, null, null, null, t, f, f, t, f, null, null, null, 3.59, 0.00, null, t, null, 2.99, null, null, null, t, null, null, null, null, null, null, null, null, null, null, null, null, 2025-06-14 14:39:17.946984+01, 1, 2025-06-14 14:39:17.946984+01, null, null, null, BAR001, null, null, null, null, null, null, null, null, null, null, Fresh Apples, null, null, null, null, Fresh Red Delicious Apples, FAM001, PROD001, SKU001, null).
Location   : db/migration/data/V1.7.1__insert_dummy_data.sql (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/db/migration/data/V1.7.1__insert_dummy_data.sql)
Line       : 62
Statement  : Run Flyway with -X option to see the actual statement causing the problem

	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:399)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$applyMigrations$1(DbMigrate.java:283)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:59)
	at org.flywaydb.core.internal.command.DbMigrate.applyMigrations(DbMigrate.java:282)
	at org.flywaydb.core.internal.command.DbMigrate.migrateGroup(DbMigrate.java:255)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$migrateAll$0(DbMigrate.java:153)
	at org.flywaydb.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:77)
	at org.flywaydb.database.postgresql.PostgreSQLAdvisoryLockTemplate.lambda$execute$0(PostgreSQLAdvisoryLockTemplate.java:60)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:59)
	at org.flywaydb.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:60)
	at org.flywaydb.database.postgresql.PostgreSQLConnection.lock(PostgreSQLConnection.java:105)
	at org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory.lock(JdbcTableSchemaHistory.java:164)
	at org.flywaydb.core.internal.command.DbMigrate.migrateAll(DbMigrate.java:153)
	at org.flywaydb.core.internal.command.DbMigrate.migrate(DbMigrate.java:104)
	at org.flywaydb.core.Flyway.lambda$migrate$1(Flyway.java:247)
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:210)
	at org.flywaydb.core.Flyway.migrate(Flyway.java:188)
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1873)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1822)
	... 17 common frames omitted
Caused by: org.flywaydb.core.internal.sqlscript.FlywaySqlScriptException: Script V1.7.1__insert_dummy_data.sql failed
-------------------------------------------
SQL State  : 23502
Error Code : 0
Message    : ERROR: null value in column "requires_approval" of relation "products" violates not-null constraint
  Detail: Failing row contains (null, null, null, null, null, null, null, t, f, null, null, null, null, null, null, null, null, t, f, f, t, f, null, null, null, 3.59, 0.00, null, t, null, 2.99, null, null, null, t, null, null, null, null, null, null, null, null, null, null, null, null, 2025-06-14 14:39:17.946984+01, 1, 2025-06-14 14:39:17.946984+01, null, null, null, BAR001, null, null, null, null, null, null, null, null, null, null, Fresh Apples, null, null, null, null, Fresh Red Delicious Apples, FAM001, PROD001, SKU001, null).
Location   : db/migration/data/V1.7.1__insert_dummy_data.sql (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/db/migration/data/V1.7.1__insert_dummy_data.sql)
Line       : 62
Statement  : Run Flyway with -X option to see the actual statement causing the problem

	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.handleException(DefaultSqlScriptExecutor.java:256)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:217)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.execute(DefaultSqlScriptExecutor.java:137)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.executeOnce(SqlMigrationExecutor.java:75)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.lambda$execute$0(SqlMigrationExecutor.java:66)
	at org.flywaydb.core.internal.database.DefaultExecutionStrategy.execute(DefaultExecutionStrategy.java:31)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.execute(SqlMigrationExecutor.java:65)
	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:391)
	... 36 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERROR: null value in column "requires_approval" of relation "products" violates not-null constraint
  Detail: Failing row contains (null, null, null, null, null, null, null, t, f, null, null, null, null, null, null, null, null, t, f, f, t, f, null, null, null, 3.59, 0.00, null, t, null, 2.99, null, null, null, t, null, null, null, null, null, null, null, null, null, null, null, null, 2025-06-14 14:39:17.946984+01, 1, 2025-06-14 14:39:17.946984+01, null, null, null, BAR001, null, null, null, null, null, null, null, null, null, null, Fresh Apples, null, null, null, null, Fresh Red Delicious Apples, FAM001, PROD001, SKU001, null).
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:356)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:341)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:317)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:312)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.flywaydb.core.internal.jdbc.JdbcTemplate.executeStatement(JdbcTemplate.java:215)
	at org.flywaydb.core.internal.sqlscript.ParsedSqlStatement.execute(ParsedSqlStatement.java:88)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:212)
	... 42 common frames omitted
2025-06-14 14:40:21 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - Starting FoodPlusOrderingApplication using Java 21.0.7 with PID 334754 (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes started by louki in /home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system)
2025-06-14 14:40:21 [main] DEBUG m.f.o.s.FoodPlusOrderingApplication - Running with Spring Boot v3.5.0, Spring v6.2.7
2025-06-14 14:40:21 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - The following 1 profile is active: "dev"
2025-06-14 14:40:22 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-14 14:40:22 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-14 14:40:22 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 94 ms. Found 10 JPA repository interfaces.
2025-06-14 14:40:23 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-14 14:40:23 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-06-14 14:40:23 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.common.repository.CategoryTarifRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:40:23 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.CustomerGroupRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:40:23 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.CustomerRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:40:23 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.ProductCustomerRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:40:23 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.DepotRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:40:23 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.ProductStockRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:40:23 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.SiteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:40:23 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.order.repository.OrderRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:40:23 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.product.repository.ProductRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:40:23 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.promos.repository.PromotionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:40:23 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 23 ms. Found 0 Redis repository interfaces.
2025-06-14 14:40:23 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8087 (http)
2025-06-14 14:40:23 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-14 14:40:23 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.41]
2025-06-14 14:40:23 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-14 14:40:23 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1967 ms
2025-06-14 14:40:24 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-06-14 14:40:24 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@d08f85a
2025-06-14 14:40:24 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-06-14 14:40:24 [main] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://10.113.181.84:5432/foodplus_ordering (PostgreSQL 17.5)
2025-06-14 14:40:24 [main] INFO  o.f.core.internal.command.DbValidate - Successfully validated 3 migrations (execution time 00:00.026s)
2025-06-14 14:40:24 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "public": 1.0.4
2025-06-14 14:40:24 [main] WARN  o.f.core.internal.command.DbMigrate - outOfOrder mode is active. Migration of schema "public" may not be reproducible.
2025-06-14 14:40:24 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "public" to version "1.7.1 - insert dummy data"
2025-06-14 14:40:24 [main] ERROR o.f.core.internal.command.DbMigrate - Migration of schema "public" to version "1.7.1 - insert dummy data" failed! Changes successfully rolled back.
2025-06-14 14:40:24 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Script V1.7.1__insert_dummy_data.sql failed
-------------------------------------------
SQL State  : 23502
Error Code : 0
Message    : ERROR: null value in column "requires_contract" of relation "products" violates not-null constraint
  Detail: Failing row contains (null, null, null, null, null, null, null, t, f, null, null, null, null, null, null, null, null, t, f, f, t, f, null, null, null, 3.59, 0.00, f, t, null, 2.99, null, null, null, t, null, null, null, null, null, null, null, null, null, null, null, null, 2025-06-14 14:40:24.496823+01, 1, 2025-06-14 14:40:24.496823+01, null, null, null, BAR001, null, null, null, null, null, null, null, null, null, null, Fresh Apples, null, null, null, null, Fresh Red Delicious Apples, FAM001, PROD001, SKU001, null).
Location   : db/migration/data/V1.7.1__insert_dummy_data.sql (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/db/migration/data/V1.7.1__insert_dummy_data.sql)
Line       : 62
Statement  : Run Flyway with -X option to see the actual statement causing the problem

2025-06-14 14:40:24 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-06-14 14:40:24 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-06-14 14:40:24 [main] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-06-14 14:40:24 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-06-14 14:40:24 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Script V1.7.1__insert_dummy_data.sql failed
-------------------------------------------
SQL State  : 23502
Error Code : 0
Message    : ERROR: null value in column "requires_contract" of relation "products" violates not-null constraint
  Detail: Failing row contains (null, null, null, null, null, null, null, t, f, null, null, null, null, null, null, null, null, t, f, f, t, f, null, null, null, 3.59, 0.00, f, t, null, 2.99, null, null, null, t, null, null, null, null, null, null, null, null, null, null, null, null, 2025-06-14 14:40:24.496823+01, 1, 2025-06-14 14:40:24.496823+01, null, null, null, BAR001, null, null, null, null, null, null, null, null, null, null, Fresh Apples, null, null, null, null, Fresh Red Delicious Apples, FAM001, PROD001, SKU001, null).
Location   : db/migration/data/V1.7.1__insert_dummy_data.sql (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/db/migration/data/V1.7.1__insert_dummy_data.sql)
Line       : 62
Statement  : Run Flyway with -X option to see the actual statement causing the problem

	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:328)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:753)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1362)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1351)
	at ma.foodplus.ordering.system.FoodPlusOrderingApplication.main(FoodPlusOrderingApplication.java:22)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Script V1.7.1__insert_dummy_data.sql failed
-------------------------------------------
SQL State  : 23502
Error Code : 0
Message    : ERROR: null value in column "requires_contract" of relation "products" violates not-null constraint
  Detail: Failing row contains (null, null, null, null, null, null, null, t, f, null, null, null, null, null, null, null, null, t, f, f, t, f, null, null, null, 3.59, 0.00, f, t, null, 2.99, null, null, null, t, null, null, null, null, null, null, null, null, null, null, null, null, 2025-06-14 14:40:24.496823+01, 1, 2025-06-14 14:40:24.496823+01, null, null, null, BAR001, null, null, null, null, null, null, null, null, null, null, Fresh Apples, null, null, null, null, Fresh Red Delicious Apples, FAM001, PROD001, SKU001, null).
Location   : db/migration/data/V1.7.1__insert_dummy_data.sql (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/db/migration/data/V1.7.1__insert_dummy_data.sql)
Line       : 62
Statement  : Run Flyway with -X option to see the actual statement causing the problem

	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1826)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:607)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315)
	... 10 common frames omitted
Caused by: org.flywaydb.core.internal.exception.FlywayMigrateException: Script V1.7.1__insert_dummy_data.sql failed
-------------------------------------------
SQL State  : 23502
Error Code : 0
Message    : ERROR: null value in column "requires_contract" of relation "products" violates not-null constraint
  Detail: Failing row contains (null, null, null, null, null, null, null, t, f, null, null, null, null, null, null, null, null, t, f, f, t, f, null, null, null, 3.59, 0.00, f, t, null, 2.99, null, null, null, t, null, null, null, null, null, null, null, null, null, null, null, null, 2025-06-14 14:40:24.496823+01, 1, 2025-06-14 14:40:24.496823+01, null, null, null, BAR001, null, null, null, null, null, null, null, null, null, null, Fresh Apples, null, null, null, null, Fresh Red Delicious Apples, FAM001, PROD001, SKU001, null).
Location   : db/migration/data/V1.7.1__insert_dummy_data.sql (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/db/migration/data/V1.7.1__insert_dummy_data.sql)
Line       : 62
Statement  : Run Flyway with -X option to see the actual statement causing the problem

	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:399)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$applyMigrations$1(DbMigrate.java:283)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:59)
	at org.flywaydb.core.internal.command.DbMigrate.applyMigrations(DbMigrate.java:282)
	at org.flywaydb.core.internal.command.DbMigrate.migrateGroup(DbMigrate.java:255)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$migrateAll$0(DbMigrate.java:153)
	at org.flywaydb.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:77)
	at org.flywaydb.database.postgresql.PostgreSQLAdvisoryLockTemplate.lambda$execute$0(PostgreSQLAdvisoryLockTemplate.java:60)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:59)
	at org.flywaydb.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:60)
	at org.flywaydb.database.postgresql.PostgreSQLConnection.lock(PostgreSQLConnection.java:105)
	at org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory.lock(JdbcTableSchemaHistory.java:164)
	at org.flywaydb.core.internal.command.DbMigrate.migrateAll(DbMigrate.java:153)
	at org.flywaydb.core.internal.command.DbMigrate.migrate(DbMigrate.java:104)
	at org.flywaydb.core.Flyway.lambda$migrate$1(Flyway.java:247)
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:210)
	at org.flywaydb.core.Flyway.migrate(Flyway.java:188)
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1873)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1822)
	... 17 common frames omitted
Caused by: org.flywaydb.core.internal.sqlscript.FlywaySqlScriptException: Script V1.7.1__insert_dummy_data.sql failed
-------------------------------------------
SQL State  : 23502
Error Code : 0
Message    : ERROR: null value in column "requires_contract" of relation "products" violates not-null constraint
  Detail: Failing row contains (null, null, null, null, null, null, null, t, f, null, null, null, null, null, null, null, null, t, f, f, t, f, null, null, null, 3.59, 0.00, f, t, null, 2.99, null, null, null, t, null, null, null, null, null, null, null, null, null, null, null, null, 2025-06-14 14:40:24.496823+01, 1, 2025-06-14 14:40:24.496823+01, null, null, null, BAR001, null, null, null, null, null, null, null, null, null, null, Fresh Apples, null, null, null, null, Fresh Red Delicious Apples, FAM001, PROD001, SKU001, null).
Location   : db/migration/data/V1.7.1__insert_dummy_data.sql (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/db/migration/data/V1.7.1__insert_dummy_data.sql)
Line       : 62
Statement  : Run Flyway with -X option to see the actual statement causing the problem

	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.handleException(DefaultSqlScriptExecutor.java:256)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:217)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.execute(DefaultSqlScriptExecutor.java:137)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.executeOnce(SqlMigrationExecutor.java:75)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.lambda$execute$0(SqlMigrationExecutor.java:66)
	at org.flywaydb.core.internal.database.DefaultExecutionStrategy.execute(DefaultExecutionStrategy.java:31)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.execute(SqlMigrationExecutor.java:65)
	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:391)
	... 36 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERROR: null value in column "requires_contract" of relation "products" violates not-null constraint
  Detail: Failing row contains (null, null, null, null, null, null, null, t, f, null, null, null, null, null, null, null, null, t, f, f, t, f, null, null, null, 3.59, 0.00, f, t, null, 2.99, null, null, null, t, null, null, null, null, null, null, null, null, null, null, null, null, 2025-06-14 14:40:24.496823+01, 1, 2025-06-14 14:40:24.496823+01, null, null, null, BAR001, null, null, null, null, null, null, null, null, null, null, Fresh Apples, null, null, null, null, Fresh Red Delicious Apples, FAM001, PROD001, SKU001, null).
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:356)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:341)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:317)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:312)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.flywaydb.core.internal.jdbc.JdbcTemplate.executeStatement(JdbcTemplate.java:215)
	at org.flywaydb.core.internal.sqlscript.ParsedSqlStatement.execute(ParsedSqlStatement.java:88)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:212)
	... 42 common frames omitted
2025-06-14 14:43:12 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - Starting FoodPlusOrderingApplication using Java 21.0.7 with PID 336948 (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes started by louki in /home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system)
2025-06-14 14:43:12 [main] DEBUG m.f.o.s.FoodPlusOrderingApplication - Running with Spring Boot v3.5.0, Spring v6.2.7
2025-06-14 14:43:12 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - The following 1 profile is active: "dev"
2025-06-14 14:43:13 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-14 14:43:13 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-14 14:43:13 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 96 ms. Found 10 JPA repository interfaces.
2025-06-14 14:43:13 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-14 14:43:13 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-06-14 14:43:14 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.common.repository.CategoryTarifRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:43:14 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.CustomerGroupRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:43:14 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.CustomerRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:43:14 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.ProductCustomerRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:43:14 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.DepotRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:43:14 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.ProductStockRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:43:14 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.SiteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:43:14 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.order.repository.OrderRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:43:14 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.product.repository.ProductRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:43:14 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.promos.repository.PromotionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:43:14 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 20 ms. Found 0 Redis repository interfaces.
2025-06-14 14:43:14 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8087 (http)
2025-06-14 14:43:14 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-14 14:43:14 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.41]
2025-06-14 14:43:14 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-14 14:43:14 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1863 ms
2025-06-14 14:43:14 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-06-14 14:43:15 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@369fb99a
2025-06-14 14:43:15 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-06-14 14:43:15 [main] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://10.113.181.84:5432/foodplus_ordering (PostgreSQL 17.5)
2025-06-14 14:43:15 [main] INFO  o.f.core.internal.command.DbValidate - Successfully validated 3 migrations (execution time 00:00.024s)
2025-06-14 14:43:15 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "public": 1.0.4
2025-06-14 14:43:15 [main] WARN  o.f.core.internal.command.DbMigrate - outOfOrder mode is active. Migration of schema "public" may not be reproducible.
2025-06-14 14:43:15 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "public" to version "1.7.1 - insert dummy data"
2025-06-14 14:43:15 [main] ERROR o.f.core.internal.command.DbMigrate - Migration of schema "public" to version "1.7.1 - insert dummy data" failed! Changes successfully rolled back.
2025-06-14 14:43:15 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Script V1.7.1__insert_dummy_data.sql failed
-------------------------------------------
SQL State  : 23502
Error Code : 0
Message    : ERROR: null value in column "unit_price" of relation "products" violates not-null constraint
  Detail: Failing row contains (null, null, null, null, null, null, null, t, f, null, null, null, null, null, null, null, null, t, f, f, t, f, null, null, null, 3.59, 0.00, f, t, f, 2.99, null, null, null, t, null, null, null, null, null, null, null, null, null, null, null, null, 2025-06-14 14:43:15.328953+01, 1, 2025-06-14 14:43:15.328953+01, null, null, null, BAR001, null, null, null, null, null, null, null, null, null, null, Fresh Apples, null, null, null, null, Fresh Red Delicious Apples, FAM001, PROD001, SKU001, null).
Location   : db/migration/data/V1.7.1__insert_dummy_data.sql (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/db/migration/data/V1.7.1__insert_dummy_data.sql)
Line       : 62
Statement  : Run Flyway with -X option to see the actual statement causing the problem

2025-06-14 14:43:15 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-06-14 14:43:15 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-06-14 14:43:15 [main] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-06-14 14:43:15 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-06-14 14:43:15 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Script V1.7.1__insert_dummy_data.sql failed
-------------------------------------------
SQL State  : 23502
Error Code : 0
Message    : ERROR: null value in column "unit_price" of relation "products" violates not-null constraint
  Detail: Failing row contains (null, null, null, null, null, null, null, t, f, null, null, null, null, null, null, null, null, t, f, f, t, f, null, null, null, 3.59, 0.00, f, t, f, 2.99, null, null, null, t, null, null, null, null, null, null, null, null, null, null, null, null, 2025-06-14 14:43:15.328953+01, 1, 2025-06-14 14:43:15.328953+01, null, null, null, BAR001, null, null, null, null, null, null, null, null, null, null, Fresh Apples, null, null, null, null, Fresh Red Delicious Apples, FAM001, PROD001, SKU001, null).
Location   : db/migration/data/V1.7.1__insert_dummy_data.sql (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/db/migration/data/V1.7.1__insert_dummy_data.sql)
Line       : 62
Statement  : Run Flyway with -X option to see the actual statement causing the problem

	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:328)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:753)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1362)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1351)
	at ma.foodplus.ordering.system.FoodPlusOrderingApplication.main(FoodPlusOrderingApplication.java:22)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Script V1.7.1__insert_dummy_data.sql failed
-------------------------------------------
SQL State  : 23502
Error Code : 0
Message    : ERROR: null value in column "unit_price" of relation "products" violates not-null constraint
  Detail: Failing row contains (null, null, null, null, null, null, null, t, f, null, null, null, null, null, null, null, null, t, f, f, t, f, null, null, null, 3.59, 0.00, f, t, f, 2.99, null, null, null, t, null, null, null, null, null, null, null, null, null, null, null, null, 2025-06-14 14:43:15.328953+01, 1, 2025-06-14 14:43:15.328953+01, null, null, null, BAR001, null, null, null, null, null, null, null, null, null, null, Fresh Apples, null, null, null, null, Fresh Red Delicious Apples, FAM001, PROD001, SKU001, null).
Location   : db/migration/data/V1.7.1__insert_dummy_data.sql (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/db/migration/data/V1.7.1__insert_dummy_data.sql)
Line       : 62
Statement  : Run Flyway with -X option to see the actual statement causing the problem

	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1826)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:607)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315)
	... 10 common frames omitted
Caused by: org.flywaydb.core.internal.exception.FlywayMigrateException: Script V1.7.1__insert_dummy_data.sql failed
-------------------------------------------
SQL State  : 23502
Error Code : 0
Message    : ERROR: null value in column "unit_price" of relation "products" violates not-null constraint
  Detail: Failing row contains (null, null, null, null, null, null, null, t, f, null, null, null, null, null, null, null, null, t, f, f, t, f, null, null, null, 3.59, 0.00, f, t, f, 2.99, null, null, null, t, null, null, null, null, null, null, null, null, null, null, null, null, 2025-06-14 14:43:15.328953+01, 1, 2025-06-14 14:43:15.328953+01, null, null, null, BAR001, null, null, null, null, null, null, null, null, null, null, Fresh Apples, null, null, null, null, Fresh Red Delicious Apples, FAM001, PROD001, SKU001, null).
Location   : db/migration/data/V1.7.1__insert_dummy_data.sql (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/db/migration/data/V1.7.1__insert_dummy_data.sql)
Line       : 62
Statement  : Run Flyway with -X option to see the actual statement causing the problem

	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:399)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$applyMigrations$1(DbMigrate.java:283)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:59)
	at org.flywaydb.core.internal.command.DbMigrate.applyMigrations(DbMigrate.java:282)
	at org.flywaydb.core.internal.command.DbMigrate.migrateGroup(DbMigrate.java:255)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$migrateAll$0(DbMigrate.java:153)
	at org.flywaydb.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:77)
	at org.flywaydb.database.postgresql.PostgreSQLAdvisoryLockTemplate.lambda$execute$0(PostgreSQLAdvisoryLockTemplate.java:60)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:59)
	at org.flywaydb.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:60)
	at org.flywaydb.database.postgresql.PostgreSQLConnection.lock(PostgreSQLConnection.java:105)
	at org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory.lock(JdbcTableSchemaHistory.java:164)
	at org.flywaydb.core.internal.command.DbMigrate.migrateAll(DbMigrate.java:153)
	at org.flywaydb.core.internal.command.DbMigrate.migrate(DbMigrate.java:104)
	at org.flywaydb.core.Flyway.lambda$migrate$1(Flyway.java:247)
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:210)
	at org.flywaydb.core.Flyway.migrate(Flyway.java:188)
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1873)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1822)
	... 17 common frames omitted
Caused by: org.flywaydb.core.internal.sqlscript.FlywaySqlScriptException: Script V1.7.1__insert_dummy_data.sql failed
-------------------------------------------
SQL State  : 23502
Error Code : 0
Message    : ERROR: null value in column "unit_price" of relation "products" violates not-null constraint
  Detail: Failing row contains (null, null, null, null, null, null, null, t, f, null, null, null, null, null, null, null, null, t, f, f, t, f, null, null, null, 3.59, 0.00, f, t, f, 2.99, null, null, null, t, null, null, null, null, null, null, null, null, null, null, null, null, 2025-06-14 14:43:15.328953+01, 1, 2025-06-14 14:43:15.328953+01, null, null, null, BAR001, null, null, null, null, null, null, null, null, null, null, Fresh Apples, null, null, null, null, Fresh Red Delicious Apples, FAM001, PROD001, SKU001, null).
Location   : db/migration/data/V1.7.1__insert_dummy_data.sql (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/db/migration/data/V1.7.1__insert_dummy_data.sql)
Line       : 62
Statement  : Run Flyway with -X option to see the actual statement causing the problem

	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.handleException(DefaultSqlScriptExecutor.java:256)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:217)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.execute(DefaultSqlScriptExecutor.java:137)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.executeOnce(SqlMigrationExecutor.java:75)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.lambda$execute$0(SqlMigrationExecutor.java:66)
	at org.flywaydb.core.internal.database.DefaultExecutionStrategy.execute(DefaultExecutionStrategy.java:31)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.execute(SqlMigrationExecutor.java:65)
	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:391)
	... 36 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERROR: null value in column "unit_price" of relation "products" violates not-null constraint
  Detail: Failing row contains (null, null, null, null, null, null, null, t, f, null, null, null, null, null, null, null, null, t, f, f, t, f, null, null, null, 3.59, 0.00, f, t, f, 2.99, null, null, null, t, null, null, null, null, null, null, null, null, null, null, null, null, 2025-06-14 14:43:15.328953+01, 1, 2025-06-14 14:43:15.328953+01, null, null, null, BAR001, null, null, null, null, null, null, null, null, null, null, Fresh Apples, null, null, null, null, Fresh Red Delicious Apples, FAM001, PROD001, SKU001, null).
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:356)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:341)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:317)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:312)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.flywaydb.core.internal.jdbc.JdbcTemplate.executeStatement(JdbcTemplate.java:215)
	at org.flywaydb.core.internal.sqlscript.ParsedSqlStatement.execute(ParsedSqlStatement.java:88)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:212)
	... 42 common frames omitted
2025-06-14 14:49:00 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - Starting FoodPlusOrderingApplication using Java 21.0.7 with PID 341466 (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes started by louki in /home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system)
2025-06-14 14:49:00 [main] DEBUG m.f.o.s.FoodPlusOrderingApplication - Running with Spring Boot v3.5.0, Spring v6.2.7
2025-06-14 14:49:00 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - The following 1 profile is active: "dev"
2025-06-14 14:49:01 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-14 14:49:01 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-14 14:49:01 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 90 ms. Found 10 JPA repository interfaces.
2025-06-14 14:49:01 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-14 14:49:01 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-06-14 14:49:01 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.common.repository.CategoryTarifRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:49:01 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.CustomerGroupRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:49:01 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.CustomerRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:49:01 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.ProductCustomerRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:49:01 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.DepotRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:49:01 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.ProductStockRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:49:01 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.SiteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:49:01 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.order.repository.OrderRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:49:01 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.product.repository.ProductRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:49:01 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.promos.repository.PromotionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:49:01 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 17 ms. Found 0 Redis repository interfaces.
2025-06-14 14:49:02 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8087 (http)
2025-06-14 14:49:02 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-14 14:49:02 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.41]
2025-06-14 14:49:02 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-14 14:49:02 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1687 ms
2025-06-14 14:49:02 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-06-14 14:49:02 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@3b8d2abe
2025-06-14 14:49:02 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-06-14 14:49:02 [main] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://10.113.181.84:5432/foodplus_ordering (PostgreSQL 17.5)
2025-06-14 14:49:02 [main] INFO  o.f.core.internal.command.DbValidate - Successfully validated 3 migrations (execution time 00:00.019s)
2025-06-14 14:49:02 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "public": 1.0.4
2025-06-14 14:49:02 [main] WARN  o.f.core.internal.command.DbMigrate - outOfOrder mode is active. Migration of schema "public" may not be reproducible.
2025-06-14 14:49:02 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "public" to version "1.7.1 - insert dummy data"
2025-06-14 14:49:03 [main] ERROR o.f.core.internal.command.DbMigrate - Migration of schema "public" to version "1.7.1 - insert dummy data" failed! Changes successfully rolled back.
2025-06-14 14:49:03 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Script V1.7.1__insert_dummy_data.sql failed
-------------------------------------------
SQL State  : 42703
Error Code : 0
Message    : ERROR: column "id" of relation "product_categories" does not exist
  Position: 62
Location   : db/migration/data/V1.7.1__insert_dummy_data.sql (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/db/migration/data/V1.7.1__insert_dummy_data.sql)
Line       : 84
Statement  : Run Flyway with -X option to see the actual statement causing the problem

2025-06-14 14:49:03 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-06-14 14:49:03 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-06-14 14:49:03 [main] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-06-14 14:49:03 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-06-14 14:49:03 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Script V1.7.1__insert_dummy_data.sql failed
-------------------------------------------
SQL State  : 42703
Error Code : 0
Message    : ERROR: column "id" of relation "product_categories" does not exist
  Position: 62
Location   : db/migration/data/V1.7.1__insert_dummy_data.sql (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/db/migration/data/V1.7.1__insert_dummy_data.sql)
Line       : 84
Statement  : Run Flyway with -X option to see the actual statement causing the problem

	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:328)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:753)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1362)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1351)
	at ma.foodplus.ordering.system.FoodPlusOrderingApplication.main(FoodPlusOrderingApplication.java:22)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Script V1.7.1__insert_dummy_data.sql failed
-------------------------------------------
SQL State  : 42703
Error Code : 0
Message    : ERROR: column "id" of relation "product_categories" does not exist
  Position: 62
Location   : db/migration/data/V1.7.1__insert_dummy_data.sql (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/db/migration/data/V1.7.1__insert_dummy_data.sql)
Line       : 84
Statement  : Run Flyway with -X option to see the actual statement causing the problem

	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1826)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:607)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315)
	... 10 common frames omitted
Caused by: org.flywaydb.core.internal.exception.FlywayMigrateException: Script V1.7.1__insert_dummy_data.sql failed
-------------------------------------------
SQL State  : 42703
Error Code : 0
Message    : ERROR: column "id" of relation "product_categories" does not exist
  Position: 62
Location   : db/migration/data/V1.7.1__insert_dummy_data.sql (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/db/migration/data/V1.7.1__insert_dummy_data.sql)
Line       : 84
Statement  : Run Flyway with -X option to see the actual statement causing the problem

	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:399)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$applyMigrations$1(DbMigrate.java:283)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:59)
	at org.flywaydb.core.internal.command.DbMigrate.applyMigrations(DbMigrate.java:282)
	at org.flywaydb.core.internal.command.DbMigrate.migrateGroup(DbMigrate.java:255)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$migrateAll$0(DbMigrate.java:153)
	at org.flywaydb.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:77)
	at org.flywaydb.database.postgresql.PostgreSQLAdvisoryLockTemplate.lambda$execute$0(PostgreSQLAdvisoryLockTemplate.java:60)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:59)
	at org.flywaydb.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:60)
	at org.flywaydb.database.postgresql.PostgreSQLConnection.lock(PostgreSQLConnection.java:105)
	at org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory.lock(JdbcTableSchemaHistory.java:164)
	at org.flywaydb.core.internal.command.DbMigrate.migrateAll(DbMigrate.java:153)
	at org.flywaydb.core.internal.command.DbMigrate.migrate(DbMigrate.java:104)
	at org.flywaydb.core.Flyway.lambda$migrate$1(Flyway.java:247)
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:210)
	at org.flywaydb.core.Flyway.migrate(Flyway.java:188)
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1873)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1822)
	... 17 common frames omitted
Caused by: org.flywaydb.core.internal.sqlscript.FlywaySqlScriptException: Script V1.7.1__insert_dummy_data.sql failed
-------------------------------------------
SQL State  : 42703
Error Code : 0
Message    : ERROR: column "id" of relation "product_categories" does not exist
  Position: 62
Location   : db/migration/data/V1.7.1__insert_dummy_data.sql (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/db/migration/data/V1.7.1__insert_dummy_data.sql)
Line       : 84
Statement  : Run Flyway with -X option to see the actual statement causing the problem

	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.handleException(DefaultSqlScriptExecutor.java:256)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:217)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.execute(DefaultSqlScriptExecutor.java:137)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.executeOnce(SqlMigrationExecutor.java:75)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.lambda$execute$0(SqlMigrationExecutor.java:66)
	at org.flywaydb.core.internal.database.DefaultExecutionStrategy.execute(DefaultExecutionStrategy.java:31)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.execute(SqlMigrationExecutor.java:65)
	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:391)
	... 36 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERROR: column "id" of relation "product_categories" does not exist
  Position: 62
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:356)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:341)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:317)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:312)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.flywaydb.core.internal.jdbc.JdbcTemplate.executeStatement(JdbcTemplate.java:215)
	at org.flywaydb.core.internal.sqlscript.ParsedSqlStatement.execute(ParsedSqlStatement.java:88)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:212)
	... 42 common frames omitted
2025-06-14 14:50:41 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - Starting FoodPlusOrderingApplication using Java 21.0.7 with PID 342843 (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes started by louki in /home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system)
2025-06-14 14:50:41 [main] DEBUG m.f.o.s.FoodPlusOrderingApplication - Running with Spring Boot v3.5.0, Spring v6.2.7
2025-06-14 14:50:41 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - The following 1 profile is active: "dev"
2025-06-14 14:50:42 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-14 14:50:42 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-14 14:50:42 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 96 ms. Found 10 JPA repository interfaces.
2025-06-14 14:50:43 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-14 14:50:43 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-06-14 14:50:43 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.common.repository.CategoryTarifRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:50:43 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.CustomerGroupRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:50:43 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.CustomerRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:50:43 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.ProductCustomerRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:50:43 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.DepotRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:50:43 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.ProductStockRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:50:43 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.SiteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:50:43 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.order.repository.OrderRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:50:43 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.product.repository.ProductRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:50:43 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.promos.repository.PromotionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:50:43 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 19 ms. Found 0 Redis repository interfaces.
2025-06-14 14:50:43 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8087 (http)
2025-06-14 14:50:43 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-14 14:50:43 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.41]
2025-06-14 14:50:43 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-14 14:50:43 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1999 ms
2025-06-14 14:50:44 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-06-14 14:50:44 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@23d060c2
2025-06-14 14:50:44 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-06-14 14:50:44 [main] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://10.113.181.84:5432/foodplus_ordering (PostgreSQL 17.5)
2025-06-14 14:50:44 [main] INFO  o.f.core.internal.command.DbValidate - Successfully validated 3 migrations (execution time 00:00.021s)
2025-06-14 14:50:44 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "public": 1.0.4
2025-06-14 14:50:44 [main] WARN  o.f.core.internal.command.DbMigrate - outOfOrder mode is active. Migration of schema "public" may not be reproducible.
2025-06-14 14:50:44 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "public" to version "1.7.1 - insert dummy data"
2025-06-14 14:50:44 [main] ERROR o.f.core.internal.command.DbMigrate - Migration of schema "public" to version "1.7.1 - insert dummy data" failed! Changes successfully rolled back.
2025-06-14 14:50:44 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Script V1.7.1__insert_dummy_data.sql failed
-------------------------------------------
SQL State  : 42703
Error Code : 0
Message    : ERROR: column "is_active" of relation "product_stocks" does not exist
  Position: 121
Location   : db/migration/data/V1.7.1__insert_dummy_data.sql (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/db/migration/data/V1.7.1__insert_dummy_data.sql)
Line       : 92
Statement  : Run Flyway with -X option to see the actual statement causing the problem

2025-06-14 14:50:44 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-06-14 14:50:44 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-06-14 14:50:44 [main] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-06-14 14:50:44 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-06-14 14:50:44 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Script V1.7.1__insert_dummy_data.sql failed
-------------------------------------------
SQL State  : 42703
Error Code : 0
Message    : ERROR: column "is_active" of relation "product_stocks" does not exist
  Position: 121
Location   : db/migration/data/V1.7.1__insert_dummy_data.sql (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/db/migration/data/V1.7.1__insert_dummy_data.sql)
Line       : 92
Statement  : Run Flyway with -X option to see the actual statement causing the problem

	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:328)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:753)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1362)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1351)
	at ma.foodplus.ordering.system.FoodPlusOrderingApplication.main(FoodPlusOrderingApplication.java:22)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Script V1.7.1__insert_dummy_data.sql failed
-------------------------------------------
SQL State  : 42703
Error Code : 0
Message    : ERROR: column "is_active" of relation "product_stocks" does not exist
  Position: 121
Location   : db/migration/data/V1.7.1__insert_dummy_data.sql (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/db/migration/data/V1.7.1__insert_dummy_data.sql)
Line       : 92
Statement  : Run Flyway with -X option to see the actual statement causing the problem

	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1826)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:607)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315)
	... 10 common frames omitted
Caused by: org.flywaydb.core.internal.exception.FlywayMigrateException: Script V1.7.1__insert_dummy_data.sql failed
-------------------------------------------
SQL State  : 42703
Error Code : 0
Message    : ERROR: column "is_active" of relation "product_stocks" does not exist
  Position: 121
Location   : db/migration/data/V1.7.1__insert_dummy_data.sql (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/db/migration/data/V1.7.1__insert_dummy_data.sql)
Line       : 92
Statement  : Run Flyway with -X option to see the actual statement causing the problem

	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:399)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$applyMigrations$1(DbMigrate.java:283)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:59)
	at org.flywaydb.core.internal.command.DbMigrate.applyMigrations(DbMigrate.java:282)
	at org.flywaydb.core.internal.command.DbMigrate.migrateGroup(DbMigrate.java:255)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$migrateAll$0(DbMigrate.java:153)
	at org.flywaydb.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:77)
	at org.flywaydb.database.postgresql.PostgreSQLAdvisoryLockTemplate.lambda$execute$0(PostgreSQLAdvisoryLockTemplate.java:60)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:59)
	at org.flywaydb.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:60)
	at org.flywaydb.database.postgresql.PostgreSQLConnection.lock(PostgreSQLConnection.java:105)
	at org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory.lock(JdbcTableSchemaHistory.java:164)
	at org.flywaydb.core.internal.command.DbMigrate.migrateAll(DbMigrate.java:153)
	at org.flywaydb.core.internal.command.DbMigrate.migrate(DbMigrate.java:104)
	at org.flywaydb.core.Flyway.lambda$migrate$1(Flyway.java:247)
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:210)
	at org.flywaydb.core.Flyway.migrate(Flyway.java:188)
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1873)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1822)
	... 17 common frames omitted
Caused by: org.flywaydb.core.internal.sqlscript.FlywaySqlScriptException: Script V1.7.1__insert_dummy_data.sql failed
-------------------------------------------
SQL State  : 42703
Error Code : 0
Message    : ERROR: column "is_active" of relation "product_stocks" does not exist
  Position: 121
Location   : db/migration/data/V1.7.1__insert_dummy_data.sql (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/db/migration/data/V1.7.1__insert_dummy_data.sql)
Line       : 92
Statement  : Run Flyway with -X option to see the actual statement causing the problem

	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.handleException(DefaultSqlScriptExecutor.java:256)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:217)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.execute(DefaultSqlScriptExecutor.java:137)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.executeOnce(SqlMigrationExecutor.java:75)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.lambda$execute$0(SqlMigrationExecutor.java:66)
	at org.flywaydb.core.internal.database.DefaultExecutionStrategy.execute(DefaultExecutionStrategy.java:31)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.execute(SqlMigrationExecutor.java:65)
	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:391)
	... 36 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERROR: column "is_active" of relation "product_stocks" does not exist
  Position: 121
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:356)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:341)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:317)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:312)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.flywaydb.core.internal.jdbc.JdbcTemplate.executeStatement(JdbcTemplate.java:215)
	at org.flywaydb.core.internal.sqlscript.ParsedSqlStatement.execute(ParsedSqlStatement.java:88)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:212)
	... 42 common frames omitted
2025-06-14 14:51:38 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - Starting FoodPlusOrderingApplication using Java 21.0.7 with PID 343605 (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes started by louki in /home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system)
2025-06-14 14:51:38 [main] DEBUG m.f.o.s.FoodPlusOrderingApplication - Running with Spring Boot v3.5.0, Spring v6.2.7
2025-06-14 14:51:38 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - The following 1 profile is active: "dev"
2025-06-14 14:51:39 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-14 14:51:39 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-14 14:51:39 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 100 ms. Found 10 JPA repository interfaces.
2025-06-14 14:51:40 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-14 14:51:40 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-06-14 14:51:40 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.common.repository.CategoryTarifRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:51:40 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.CustomerGroupRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:51:40 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.CustomerRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:51:40 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.ProductCustomerRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:51:40 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.DepotRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:51:40 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.ProductStockRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:51:40 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.SiteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:51:40 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.order.repository.OrderRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:51:40 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.product.repository.ProductRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:51:40 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.promos.repository.PromotionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:51:40 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 20 ms. Found 0 Redis repository interfaces.
2025-06-14 14:51:40 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8087 (http)
2025-06-14 14:51:40 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-14 14:51:40 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.41]
2025-06-14 14:51:40 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-14 14:51:40 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1937 ms
2025-06-14 14:51:41 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-06-14 14:51:41 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@696298ea
2025-06-14 14:51:41 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-06-14 14:51:41 [main] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://10.113.181.84:5432/foodplus_ordering (PostgreSQL 17.5)
2025-06-14 14:51:41 [main] INFO  o.f.core.internal.command.DbValidate - Successfully validated 3 migrations (execution time 00:00.021s)
2025-06-14 14:51:41 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "public": 1.0.4
2025-06-14 14:51:41 [main] WARN  o.f.core.internal.command.DbMigrate - outOfOrder mode is active. Migration of schema "public" may not be reproducible.
2025-06-14 14:51:41 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "public" to version "1.7.1 - insert dummy data"
2025-06-14 14:51:41 [main] ERROR o.f.core.internal.command.DbMigrate - Migration of schema "public" to version "1.7.1 - insert dummy data" failed! Changes successfully rolled back.
2025-06-14 14:51:41 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Script V1.7.1__insert_dummy_data.sql failed
-------------------------------------------
SQL State  : 42703
Error Code : 0
Message    : ERROR: column "price" of relation "products_customer" does not exist
  Position: 148
Location   : db/migration/data/V1.7.1__insert_dummy_data.sql (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/db/migration/data/V1.7.1__insert_dummy_data.sql)
Line       : 105
Statement  : Run Flyway with -X option to see the actual statement causing the problem

2025-06-14 14:51:41 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-06-14 14:51:41 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-06-14 14:51:41 [main] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-06-14 14:51:41 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-06-14 14:51:41 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Script V1.7.1__insert_dummy_data.sql failed
-------------------------------------------
SQL State  : 42703
Error Code : 0
Message    : ERROR: column "price" of relation "products_customer" does not exist
  Position: 148
Location   : db/migration/data/V1.7.1__insert_dummy_data.sql (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/db/migration/data/V1.7.1__insert_dummy_data.sql)
Line       : 105
Statement  : Run Flyway with -X option to see the actual statement causing the problem

	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:328)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:753)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1362)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1351)
	at ma.foodplus.ordering.system.FoodPlusOrderingApplication.main(FoodPlusOrderingApplication.java:22)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Script V1.7.1__insert_dummy_data.sql failed
-------------------------------------------
SQL State  : 42703
Error Code : 0
Message    : ERROR: column "price" of relation "products_customer" does not exist
  Position: 148
Location   : db/migration/data/V1.7.1__insert_dummy_data.sql (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/db/migration/data/V1.7.1__insert_dummy_data.sql)
Line       : 105
Statement  : Run Flyway with -X option to see the actual statement causing the problem

	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1826)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:607)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315)
	... 10 common frames omitted
Caused by: org.flywaydb.core.internal.exception.FlywayMigrateException: Script V1.7.1__insert_dummy_data.sql failed
-------------------------------------------
SQL State  : 42703
Error Code : 0
Message    : ERROR: column "price" of relation "products_customer" does not exist
  Position: 148
Location   : db/migration/data/V1.7.1__insert_dummy_data.sql (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/db/migration/data/V1.7.1__insert_dummy_data.sql)
Line       : 105
Statement  : Run Flyway with -X option to see the actual statement causing the problem

	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:399)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$applyMigrations$1(DbMigrate.java:283)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:59)
	at org.flywaydb.core.internal.command.DbMigrate.applyMigrations(DbMigrate.java:282)
	at org.flywaydb.core.internal.command.DbMigrate.migrateGroup(DbMigrate.java:255)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$migrateAll$0(DbMigrate.java:153)
	at org.flywaydb.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:77)
	at org.flywaydb.database.postgresql.PostgreSQLAdvisoryLockTemplate.lambda$execute$0(PostgreSQLAdvisoryLockTemplate.java:60)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:59)
	at org.flywaydb.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:60)
	at org.flywaydb.database.postgresql.PostgreSQLConnection.lock(PostgreSQLConnection.java:105)
	at org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory.lock(JdbcTableSchemaHistory.java:164)
	at org.flywaydb.core.internal.command.DbMigrate.migrateAll(DbMigrate.java:153)
	at org.flywaydb.core.internal.command.DbMigrate.migrate(DbMigrate.java:104)
	at org.flywaydb.core.Flyway.lambda$migrate$1(Flyway.java:247)
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:210)
	at org.flywaydb.core.Flyway.migrate(Flyway.java:188)
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1873)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1822)
	... 17 common frames omitted
Caused by: org.flywaydb.core.internal.sqlscript.FlywaySqlScriptException: Script V1.7.1__insert_dummy_data.sql failed
-------------------------------------------
SQL State  : 42703
Error Code : 0
Message    : ERROR: column "price" of relation "products_customer" does not exist
  Position: 148
Location   : db/migration/data/V1.7.1__insert_dummy_data.sql (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/db/migration/data/V1.7.1__insert_dummy_data.sql)
Line       : 105
Statement  : Run Flyway with -X option to see the actual statement causing the problem

	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.handleException(DefaultSqlScriptExecutor.java:256)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:217)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.execute(DefaultSqlScriptExecutor.java:137)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.executeOnce(SqlMigrationExecutor.java:75)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.lambda$execute$0(SqlMigrationExecutor.java:66)
	at org.flywaydb.core.internal.database.DefaultExecutionStrategy.execute(DefaultExecutionStrategy.java:31)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.execute(SqlMigrationExecutor.java:65)
	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:391)
	... 36 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERROR: column "price" of relation "products_customer" does not exist
  Position: 148
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:356)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:341)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:317)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:312)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.flywaydb.core.internal.jdbc.JdbcTemplate.executeStatement(JdbcTemplate.java:215)
	at org.flywaydb.core.internal.sqlscript.ParsedSqlStatement.execute(ParsedSqlStatement.java:88)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:212)
	... 42 common frames omitted
2025-06-14 14:54:35 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - Starting FoodPlusOrderingApplication using Java 21.0.7 with PID 345904 (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes started by louki in /home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system)
2025-06-14 14:54:35 [main] DEBUG m.f.o.s.FoodPlusOrderingApplication - Running with Spring Boot v3.5.0, Spring v6.2.7
2025-06-14 14:54:35 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - The following 1 profile is active: "dev"
2025-06-14 14:54:36 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-14 14:54:36 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-14 14:54:36 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 95 ms. Found 10 JPA repository interfaces.
2025-06-14 14:54:37 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-14 14:54:37 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-06-14 14:54:37 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.common.repository.CategoryTarifRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:54:37 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.CustomerGroupRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:54:37 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.CustomerRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:54:37 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.ProductCustomerRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:54:37 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.DepotRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:54:37 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.ProductStockRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:54:37 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.SiteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:54:37 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.order.repository.OrderRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:54:37 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.product.repository.ProductRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:54:37 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.promos.repository.PromotionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:54:37 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 57 ms. Found 0 Redis repository interfaces.
2025-06-14 14:54:37 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8087 (http)
2025-06-14 14:54:37 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-14 14:54:37 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.41]
2025-06-14 14:54:38 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-14 14:54:38 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2128 ms
2025-06-14 14:54:38 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-06-14 14:54:38 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@369fb99a
2025-06-14 14:54:38 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-06-14 14:54:38 [main] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://10.113.181.84:5432/foodplus_ordering (PostgreSQL 17.5)
2025-06-14 14:54:38 [main] INFO  o.f.core.internal.command.DbValidate - Successfully validated 3 migrations (execution time 00:00.023s)
2025-06-14 14:54:38 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "public": 1.0.4
2025-06-14 14:54:38 [main] WARN  o.f.core.internal.command.DbMigrate - outOfOrder mode is active. Migration of schema "public" may not be reproducible.
2025-06-14 14:54:38 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "public" to version "1.7.1 - insert dummy data"
2025-06-14 14:54:38 [main] ERROR o.f.core.internal.command.DbMigrate - Migration of schema "public" to version "1.7.1 - insert dummy data" failed! Changes successfully rolled back.
2025-06-14 14:54:38 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Script V1.7.1__insert_dummy_data.sql failed
-------------------------------------------
SQL State  : 42703
Error Code : 0
Message    : ERROR: column "created_at" of relation "promotions" does not exist
  Position: 50
Location   : db/migration/data/V1.7.1__insert_dummy_data.sql (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/db/migration/data/V1.7.1__insert_dummy_data.sql)
Line       : 116
Statement  : Run Flyway with -X option to see the actual statement causing the problem

2025-06-14 14:54:38 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-06-14 14:54:38 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-06-14 14:54:38 [main] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-06-14 14:54:38 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-06-14 14:54:38 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Script V1.7.1__insert_dummy_data.sql failed
-------------------------------------------
SQL State  : 42703
Error Code : 0
Message    : ERROR: column "created_at" of relation "promotions" does not exist
  Position: 50
Location   : db/migration/data/V1.7.1__insert_dummy_data.sql (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/db/migration/data/V1.7.1__insert_dummy_data.sql)
Line       : 116
Statement  : Run Flyway with -X option to see the actual statement causing the problem

	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:328)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:753)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1362)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1351)
	at ma.foodplus.ordering.system.FoodPlusOrderingApplication.main(FoodPlusOrderingApplication.java:22)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Script V1.7.1__insert_dummy_data.sql failed
-------------------------------------------
SQL State  : 42703
Error Code : 0
Message    : ERROR: column "created_at" of relation "promotions" does not exist
  Position: 50
Location   : db/migration/data/V1.7.1__insert_dummy_data.sql (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/db/migration/data/V1.7.1__insert_dummy_data.sql)
Line       : 116
Statement  : Run Flyway with -X option to see the actual statement causing the problem

	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1826)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:607)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315)
	... 10 common frames omitted
Caused by: org.flywaydb.core.internal.exception.FlywayMigrateException: Script V1.7.1__insert_dummy_data.sql failed
-------------------------------------------
SQL State  : 42703
Error Code : 0
Message    : ERROR: column "created_at" of relation "promotions" does not exist
  Position: 50
Location   : db/migration/data/V1.7.1__insert_dummy_data.sql (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/db/migration/data/V1.7.1__insert_dummy_data.sql)
Line       : 116
Statement  : Run Flyway with -X option to see the actual statement causing the problem

	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:399)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$applyMigrations$1(DbMigrate.java:283)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:59)
	at org.flywaydb.core.internal.command.DbMigrate.applyMigrations(DbMigrate.java:282)
	at org.flywaydb.core.internal.command.DbMigrate.migrateGroup(DbMigrate.java:255)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$migrateAll$0(DbMigrate.java:153)
	at org.flywaydb.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:77)
	at org.flywaydb.database.postgresql.PostgreSQLAdvisoryLockTemplate.lambda$execute$0(PostgreSQLAdvisoryLockTemplate.java:60)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:59)
	at org.flywaydb.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:60)
	at org.flywaydb.database.postgresql.PostgreSQLConnection.lock(PostgreSQLConnection.java:105)
	at org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory.lock(JdbcTableSchemaHistory.java:164)
	at org.flywaydb.core.internal.command.DbMigrate.migrateAll(DbMigrate.java:153)
	at org.flywaydb.core.internal.command.DbMigrate.migrate(DbMigrate.java:104)
	at org.flywaydb.core.Flyway.lambda$migrate$1(Flyway.java:247)
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:210)
	at org.flywaydb.core.Flyway.migrate(Flyway.java:188)
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1873)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1822)
	... 17 common frames omitted
Caused by: org.flywaydb.core.internal.sqlscript.FlywaySqlScriptException: Script V1.7.1__insert_dummy_data.sql failed
-------------------------------------------
SQL State  : 42703
Error Code : 0
Message    : ERROR: column "created_at" of relation "promotions" does not exist
  Position: 50
Location   : db/migration/data/V1.7.1__insert_dummy_data.sql (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/db/migration/data/V1.7.1__insert_dummy_data.sql)
Line       : 116
Statement  : Run Flyway with -X option to see the actual statement causing the problem

	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.handleException(DefaultSqlScriptExecutor.java:256)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:217)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.execute(DefaultSqlScriptExecutor.java:137)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.executeOnce(SqlMigrationExecutor.java:75)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.lambda$execute$0(SqlMigrationExecutor.java:66)
	at org.flywaydb.core.internal.database.DefaultExecutionStrategy.execute(DefaultExecutionStrategy.java:31)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.execute(SqlMigrationExecutor.java:65)
	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:391)
	... 36 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERROR: column "created_at" of relation "promotions" does not exist
  Position: 50
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:356)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:341)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:317)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:312)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.flywaydb.core.internal.jdbc.JdbcTemplate.executeStatement(JdbcTemplate.java:215)
	at org.flywaydb.core.internal.sqlscript.ParsedSqlStatement.execute(ParsedSqlStatement.java:88)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:212)
	... 42 common frames omitted
2025-06-14 14:56:22 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - Starting FoodPlusOrderingApplication using Java 21.0.7 with PID 347473 (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes started by louki in /home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system)
2025-06-14 14:56:22 [main] DEBUG m.f.o.s.FoodPlusOrderingApplication - Running with Spring Boot v3.5.0, Spring v6.2.7
2025-06-14 14:56:22 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - The following 1 profile is active: "dev"
2025-06-14 14:56:23 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-14 14:56:23 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-14 14:56:23 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 121 ms. Found 10 JPA repository interfaces.
2025-06-14 14:56:24 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-14 14:56:24 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-06-14 14:56:24 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.common.repository.CategoryTarifRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:56:24 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.CustomerGroupRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:56:24 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.CustomerRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:56:24 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.ProductCustomerRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:56:24 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.DepotRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:56:24 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.ProductStockRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:56:24 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.SiteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:56:24 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.order.repository.OrderRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:56:24 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.product.repository.ProductRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:56:24 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.promos.repository.PromotionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:56:24 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 23 ms. Found 0 Redis repository interfaces.
2025-06-14 14:56:24 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8087 (http)
2025-06-14 14:56:24 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-14 14:56:24 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.41]
2025-06-14 14:56:24 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-14 14:56:24 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2092 ms
2025-06-14 14:56:25 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-06-14 14:56:25 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@3b8d2abe
2025-06-14 14:56:25 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-06-14 14:56:25 [main] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://10.113.181.84:5432/foodplus_ordering (PostgreSQL 17.5)
2025-06-14 14:56:25 [main] INFO  o.f.core.internal.command.DbValidate - Successfully validated 3 migrations (execution time 00:00.020s)
2025-06-14 14:56:25 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "public": 1.0.4
2025-06-14 14:56:25 [main] WARN  o.f.core.internal.command.DbMigrate - outOfOrder mode is active. Migration of schema "public" may not be reproducible.
2025-06-14 14:56:25 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "public" to version "1.7.1 - insert dummy data"
2025-06-14 14:56:25 [main] ERROR o.f.core.internal.command.DbMigrate - Migration of schema "public" to version "1.7.1 - insert dummy data" failed! Changes successfully rolled back.
2025-06-14 14:56:25 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Script V1.7.1__insert_dummy_data.sql failed
-------------------------------------------
SQL State  : 42703
Error Code : 0
Message    : ERROR: column "is_active" of relation "orders" does not exist
  Position: 66
Location   : db/migration/data/V1.7.1__insert_dummy_data.sql (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/db/migration/data/V1.7.1__insert_dummy_data.sql)
Line       : 214
Statement  : Run Flyway with -X option to see the actual statement causing the problem

2025-06-14 14:56:25 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-06-14 14:56:25 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-06-14 14:56:25 [main] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-06-14 14:56:25 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-06-14 14:56:25 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Script V1.7.1__insert_dummy_data.sql failed
-------------------------------------------
SQL State  : 42703
Error Code : 0
Message    : ERROR: column "is_active" of relation "orders" does not exist
  Position: 66
Location   : db/migration/data/V1.7.1__insert_dummy_data.sql (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/db/migration/data/V1.7.1__insert_dummy_data.sql)
Line       : 214
Statement  : Run Flyway with -X option to see the actual statement causing the problem

	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:328)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:753)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1362)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1351)
	at ma.foodplus.ordering.system.FoodPlusOrderingApplication.main(FoodPlusOrderingApplication.java:22)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Script V1.7.1__insert_dummy_data.sql failed
-------------------------------------------
SQL State  : 42703
Error Code : 0
Message    : ERROR: column "is_active" of relation "orders" does not exist
  Position: 66
Location   : db/migration/data/V1.7.1__insert_dummy_data.sql (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/db/migration/data/V1.7.1__insert_dummy_data.sql)
Line       : 214
Statement  : Run Flyway with -X option to see the actual statement causing the problem

	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1826)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:607)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315)
	... 10 common frames omitted
Caused by: org.flywaydb.core.internal.exception.FlywayMigrateException: Script V1.7.1__insert_dummy_data.sql failed
-------------------------------------------
SQL State  : 42703
Error Code : 0
Message    : ERROR: column "is_active" of relation "orders" does not exist
  Position: 66
Location   : db/migration/data/V1.7.1__insert_dummy_data.sql (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/db/migration/data/V1.7.1__insert_dummy_data.sql)
Line       : 214
Statement  : Run Flyway with -X option to see the actual statement causing the problem

	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:399)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$applyMigrations$1(DbMigrate.java:283)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:59)
	at org.flywaydb.core.internal.command.DbMigrate.applyMigrations(DbMigrate.java:282)
	at org.flywaydb.core.internal.command.DbMigrate.migrateGroup(DbMigrate.java:255)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$migrateAll$0(DbMigrate.java:153)
	at org.flywaydb.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:77)
	at org.flywaydb.database.postgresql.PostgreSQLAdvisoryLockTemplate.lambda$execute$0(PostgreSQLAdvisoryLockTemplate.java:60)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:59)
	at org.flywaydb.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:60)
	at org.flywaydb.database.postgresql.PostgreSQLConnection.lock(PostgreSQLConnection.java:105)
	at org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory.lock(JdbcTableSchemaHistory.java:164)
	at org.flywaydb.core.internal.command.DbMigrate.migrateAll(DbMigrate.java:153)
	at org.flywaydb.core.internal.command.DbMigrate.migrate(DbMigrate.java:104)
	at org.flywaydb.core.Flyway.lambda$migrate$1(Flyway.java:247)
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:210)
	at org.flywaydb.core.Flyway.migrate(Flyway.java:188)
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1873)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1822)
	... 17 common frames omitted
Caused by: org.flywaydb.core.internal.sqlscript.FlywaySqlScriptException: Script V1.7.1__insert_dummy_data.sql failed
-------------------------------------------
SQL State  : 42703
Error Code : 0
Message    : ERROR: column "is_active" of relation "orders" does not exist
  Position: 66
Location   : db/migration/data/V1.7.1__insert_dummy_data.sql (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/db/migration/data/V1.7.1__insert_dummy_data.sql)
Line       : 214
Statement  : Run Flyway with -X option to see the actual statement causing the problem

	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.handleException(DefaultSqlScriptExecutor.java:256)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:217)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.execute(DefaultSqlScriptExecutor.java:137)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.executeOnce(SqlMigrationExecutor.java:75)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.lambda$execute$0(SqlMigrationExecutor.java:66)
	at org.flywaydb.core.internal.database.DefaultExecutionStrategy.execute(DefaultExecutionStrategy.java:31)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.execute(SqlMigrationExecutor.java:65)
	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:391)
	... 36 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERROR: column "is_active" of relation "orders" does not exist
  Position: 66
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:356)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:341)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:317)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:312)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.flywaydb.core.internal.jdbc.JdbcTemplate.executeStatement(JdbcTemplate.java:215)
	at org.flywaydb.core.internal.sqlscript.ParsedSqlStatement.execute(ParsedSqlStatement.java:88)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:212)
	... 42 common frames omitted
2025-06-14 14:57:19 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - Starting FoodPlusOrderingApplication using Java 21.0.7 with PID 348237 (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes started by louki in /home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system)
2025-06-14 14:57:19 [main] DEBUG m.f.o.s.FoodPlusOrderingApplication - Running with Spring Boot v3.5.0, Spring v6.2.7
2025-06-14 14:57:19 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - The following 1 profile is active: "dev"
2025-06-14 14:57:20 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-14 14:57:20 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-14 14:57:20 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 96 ms. Found 10 JPA repository interfaces.
2025-06-14 14:57:20 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-14 14:57:20 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-06-14 14:57:20 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.common.repository.CategoryTarifRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:57:20 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.CustomerGroupRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:57:20 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.CustomerRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:57:20 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.ProductCustomerRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:57:20 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.DepotRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:57:20 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.ProductStockRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:57:20 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.SiteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:57:20 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.order.repository.OrderRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:57:20 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.product.repository.ProductRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:57:20 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.promos.repository.PromotionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:57:20 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 17 ms. Found 0 Redis repository interfaces.
2025-06-14 14:57:21 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8087 (http)
2025-06-14 14:57:21 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-14 14:57:21 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.41]
2025-06-14 14:57:21 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-14 14:57:21 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1809 ms
2025-06-14 14:57:21 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-06-14 14:57:21 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@dd9de63
2025-06-14 14:57:22 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-06-14 14:57:22 [main] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://10.113.181.84:5432/foodplus_ordering (PostgreSQL 17.5)
2025-06-14 14:57:22 [main] INFO  o.f.core.internal.command.DbValidate - Successfully validated 3 migrations (execution time 00:00.020s)
2025-06-14 14:57:22 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "public": 1.0.4
2025-06-14 14:57:22 [main] WARN  o.f.core.internal.command.DbMigrate - outOfOrder mode is active. Migration of schema "public" may not be reproducible.
2025-06-14 14:57:22 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "public" to version "1.7.1 - insert dummy data"
2025-06-14 14:57:22 [main] ERROR o.f.core.internal.command.DbMigrate - Migration of schema "public" to version "1.7.1 - insert dummy data" failed! Changes successfully rolled back.
2025-06-14 14:57:22 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Script V1.7.1__insert_dummy_data.sql failed
-------------------------------------------
SQL State  : 42703
Error Code : 0
Message    : ERROR: column "is_active" of relation "order_items" does not exist
  Position: 76
Location   : db/migration/data/V1.7.1__insert_dummy_data.sql (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/db/migration/data/V1.7.1__insert_dummy_data.sql)
Line       : 232
Statement  : Run Flyway with -X option to see the actual statement causing the problem

2025-06-14 14:57:22 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-06-14 14:57:22 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-06-14 14:57:22 [main] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-06-14 14:57:22 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-06-14 14:57:22 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Script V1.7.1__insert_dummy_data.sql failed
-------------------------------------------
SQL State  : 42703
Error Code : 0
Message    : ERROR: column "is_active" of relation "order_items" does not exist
  Position: 76
Location   : db/migration/data/V1.7.1__insert_dummy_data.sql (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/db/migration/data/V1.7.1__insert_dummy_data.sql)
Line       : 232
Statement  : Run Flyway with -X option to see the actual statement causing the problem

	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:328)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:753)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1362)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1351)
	at ma.foodplus.ordering.system.FoodPlusOrderingApplication.main(FoodPlusOrderingApplication.java:22)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Script V1.7.1__insert_dummy_data.sql failed
-------------------------------------------
SQL State  : 42703
Error Code : 0
Message    : ERROR: column "is_active" of relation "order_items" does not exist
  Position: 76
Location   : db/migration/data/V1.7.1__insert_dummy_data.sql (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/db/migration/data/V1.7.1__insert_dummy_data.sql)
Line       : 232
Statement  : Run Flyway with -X option to see the actual statement causing the problem

	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1826)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:607)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315)
	... 10 common frames omitted
Caused by: org.flywaydb.core.internal.exception.FlywayMigrateException: Script V1.7.1__insert_dummy_data.sql failed
-------------------------------------------
SQL State  : 42703
Error Code : 0
Message    : ERROR: column "is_active" of relation "order_items" does not exist
  Position: 76
Location   : db/migration/data/V1.7.1__insert_dummy_data.sql (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/db/migration/data/V1.7.1__insert_dummy_data.sql)
Line       : 232
Statement  : Run Flyway with -X option to see the actual statement causing the problem

	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:399)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$applyMigrations$1(DbMigrate.java:283)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:59)
	at org.flywaydb.core.internal.command.DbMigrate.applyMigrations(DbMigrate.java:282)
	at org.flywaydb.core.internal.command.DbMigrate.migrateGroup(DbMigrate.java:255)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$migrateAll$0(DbMigrate.java:153)
	at org.flywaydb.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:77)
	at org.flywaydb.database.postgresql.PostgreSQLAdvisoryLockTemplate.lambda$execute$0(PostgreSQLAdvisoryLockTemplate.java:60)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:59)
	at org.flywaydb.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:60)
	at org.flywaydb.database.postgresql.PostgreSQLConnection.lock(PostgreSQLConnection.java:105)
	at org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory.lock(JdbcTableSchemaHistory.java:164)
	at org.flywaydb.core.internal.command.DbMigrate.migrateAll(DbMigrate.java:153)
	at org.flywaydb.core.internal.command.DbMigrate.migrate(DbMigrate.java:104)
	at org.flywaydb.core.Flyway.lambda$migrate$1(Flyway.java:247)
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:210)
	at org.flywaydb.core.Flyway.migrate(Flyway.java:188)
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1873)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1822)
	... 17 common frames omitted
Caused by: org.flywaydb.core.internal.sqlscript.FlywaySqlScriptException: Script V1.7.1__insert_dummy_data.sql failed
-------------------------------------------
SQL State  : 42703
Error Code : 0
Message    : ERROR: column "is_active" of relation "order_items" does not exist
  Position: 76
Location   : db/migration/data/V1.7.1__insert_dummy_data.sql (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/db/migration/data/V1.7.1__insert_dummy_data.sql)
Line       : 232
Statement  : Run Flyway with -X option to see the actual statement causing the problem

	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.handleException(DefaultSqlScriptExecutor.java:256)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:217)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.execute(DefaultSqlScriptExecutor.java:137)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.executeOnce(SqlMigrationExecutor.java:75)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.lambda$execute$0(SqlMigrationExecutor.java:66)
	at org.flywaydb.core.internal.database.DefaultExecutionStrategy.execute(DefaultExecutionStrategy.java:31)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.execute(SqlMigrationExecutor.java:65)
	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:391)
	... 36 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERROR: column "is_active" of relation "order_items" does not exist
  Position: 76
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:356)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:341)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:317)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:312)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.flywaydb.core.internal.jdbc.JdbcTemplate.executeStatement(JdbcTemplate.java:215)
	at org.flywaydb.core.internal.sqlscript.ParsedSqlStatement.execute(ParsedSqlStatement.java:88)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:212)
	... 42 common frames omitted
2025-06-14 14:58:01 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - Starting FoodPlusOrderingApplication using Java 21.0.7 with PID 348873 (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes started by louki in /home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system)
2025-06-14 14:58:01 [main] DEBUG m.f.o.s.FoodPlusOrderingApplication - Running with Spring Boot v3.5.0, Spring v6.2.7
2025-06-14 14:58:01 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - The following 1 profile is active: "dev"
2025-06-14 14:58:02 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-14 14:58:02 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-14 14:58:02 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 96 ms. Found 10 JPA repository interfaces.
2025-06-14 14:58:02 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-14 14:58:02 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-06-14 14:58:02 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.common.repository.CategoryTarifRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:58:02 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.CustomerGroupRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:58:02 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.CustomerRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:58:02 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.ProductCustomerRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:58:02 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.DepotRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:58:02 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.ProductStockRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:58:02 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.SiteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:58:02 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.order.repository.OrderRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:58:02 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.product.repository.ProductRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:58:02 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.promos.repository.PromotionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:58:02 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 19 ms. Found 0 Redis repository interfaces.
2025-06-14 14:58:03 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8087 (http)
2025-06-14 14:58:03 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-14 14:58:03 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.41]
2025-06-14 14:58:03 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-14 14:58:03 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1737 ms
2025-06-14 14:58:03 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-06-14 14:58:03 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@56f61d74
2025-06-14 14:58:03 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-06-14 14:58:03 [main] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://10.113.181.84:5432/foodplus_ordering (PostgreSQL 17.5)
2025-06-14 14:58:03 [main] INFO  o.f.core.internal.command.DbValidate - Successfully validated 3 migrations (execution time 00:00.021s)
2025-06-14 14:58:03 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "public": 1.0.4
2025-06-14 14:58:03 [main] WARN  o.f.core.internal.command.DbMigrate - outOfOrder mode is active. Migration of schema "public" may not be reproducible.
2025-06-14 14:58:04 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "public" to version "1.7.1 - insert dummy data"
2025-06-14 14:58:04 [main] ERROR o.f.core.internal.command.DbMigrate - Migration of schema "public" to version "1.7.1 - insert dummy data" failed! Changes successfully rolled back.
2025-06-14 14:58:04 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Script V1.7.1__insert_dummy_data.sql failed
-------------------------------------------
SQL State  : 42703
Error Code : 0
Message    : ERROR: column "id" of relation "order_item_applied_promotions" does not exist
  Position: 84
Location   : db/migration/data/V1.7.1__insert_dummy_data.sql (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/db/migration/data/V1.7.1__insert_dummy_data.sql)
Line       : 252
Statement  : Run Flyway with -X option to see the actual statement causing the problem

2025-06-14 14:58:04 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-06-14 14:58:04 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-06-14 14:58:04 [main] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-06-14 14:58:04 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-06-14 14:58:04 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Script V1.7.1__insert_dummy_data.sql failed
-------------------------------------------
SQL State  : 42703
Error Code : 0
Message    : ERROR: column "id" of relation "order_item_applied_promotions" does not exist
  Position: 84
Location   : db/migration/data/V1.7.1__insert_dummy_data.sql (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/db/migration/data/V1.7.1__insert_dummy_data.sql)
Line       : 252
Statement  : Run Flyway with -X option to see the actual statement causing the problem

	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:328)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:753)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1362)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1351)
	at ma.foodplus.ordering.system.FoodPlusOrderingApplication.main(FoodPlusOrderingApplication.java:22)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Script V1.7.1__insert_dummy_data.sql failed
-------------------------------------------
SQL State  : 42703
Error Code : 0
Message    : ERROR: column "id" of relation "order_item_applied_promotions" does not exist
  Position: 84
Location   : db/migration/data/V1.7.1__insert_dummy_data.sql (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/db/migration/data/V1.7.1__insert_dummy_data.sql)
Line       : 252
Statement  : Run Flyway with -X option to see the actual statement causing the problem

	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1826)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:607)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315)
	... 10 common frames omitted
Caused by: org.flywaydb.core.internal.exception.FlywayMigrateException: Script V1.7.1__insert_dummy_data.sql failed
-------------------------------------------
SQL State  : 42703
Error Code : 0
Message    : ERROR: column "id" of relation "order_item_applied_promotions" does not exist
  Position: 84
Location   : db/migration/data/V1.7.1__insert_dummy_data.sql (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/db/migration/data/V1.7.1__insert_dummy_data.sql)
Line       : 252
Statement  : Run Flyway with -X option to see the actual statement causing the problem

	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:399)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$applyMigrations$1(DbMigrate.java:283)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:59)
	at org.flywaydb.core.internal.command.DbMigrate.applyMigrations(DbMigrate.java:282)
	at org.flywaydb.core.internal.command.DbMigrate.migrateGroup(DbMigrate.java:255)
	at org.flywaydb.core.internal.command.DbMigrate.lambda$migrateAll$0(DbMigrate.java:153)
	at org.flywaydb.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:77)
	at org.flywaydb.database.postgresql.PostgreSQLAdvisoryLockTemplate.lambda$execute$0(PostgreSQLAdvisoryLockTemplate.java:60)
	at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:59)
	at org.flywaydb.database.postgresql.PostgreSQLAdvisoryLockTemplate.execute(PostgreSQLAdvisoryLockTemplate.java:60)
	at org.flywaydb.database.postgresql.PostgreSQLConnection.lock(PostgreSQLConnection.java:105)
	at org.flywaydb.core.internal.schemahistory.JdbcTableSchemaHistory.lock(JdbcTableSchemaHistory.java:164)
	at org.flywaydb.core.internal.command.DbMigrate.migrateAll(DbMigrate.java:153)
	at org.flywaydb.core.internal.command.DbMigrate.migrate(DbMigrate.java:104)
	at org.flywaydb.core.Flyway.lambda$migrate$1(Flyway.java:247)
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:210)
	at org.flywaydb.core.Flyway.migrate(Flyway.java:188)
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1873)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1822)
	... 17 common frames omitted
Caused by: org.flywaydb.core.internal.sqlscript.FlywaySqlScriptException: Script V1.7.1__insert_dummy_data.sql failed
-------------------------------------------
SQL State  : 42703
Error Code : 0
Message    : ERROR: column "id" of relation "order_item_applied_promotions" does not exist
  Position: 84
Location   : db/migration/data/V1.7.1__insert_dummy_data.sql (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/db/migration/data/V1.7.1__insert_dummy_data.sql)
Line       : 252
Statement  : Run Flyway with -X option to see the actual statement causing the problem

	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.handleException(DefaultSqlScriptExecutor.java:256)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:217)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.execute(DefaultSqlScriptExecutor.java:137)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.executeOnce(SqlMigrationExecutor.java:75)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.lambda$execute$0(SqlMigrationExecutor.java:66)
	at org.flywaydb.core.internal.database.DefaultExecutionStrategy.execute(DefaultExecutionStrategy.java:31)
	at org.flywaydb.core.internal.resolver.sql.SqlMigrationExecutor.execute(SqlMigrationExecutor.java:65)
	at org.flywaydb.core.internal.command.DbMigrate.doMigrateGroup(DbMigrate.java:391)
	... 36 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERROR: column "id" of relation "order_item_applied_promotions" does not exist
  Position: 84
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:356)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:341)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:317)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:312)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:95)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.flywaydb.core.internal.jdbc.JdbcTemplate.executeStatement(JdbcTemplate.java:215)
	at org.flywaydb.core.internal.sqlscript.ParsedSqlStatement.execute(ParsedSqlStatement.java:88)
	at org.flywaydb.core.internal.sqlscript.DefaultSqlScriptExecutor.executeStatement(DefaultSqlScriptExecutor.java:212)
	... 42 common frames omitted
2025-06-14 14:58:40 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - Starting FoodPlusOrderingApplication using Java 21.0.7 with PID 349428 (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes started by louki in /home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system)
2025-06-14 14:58:40 [main] DEBUG m.f.o.s.FoodPlusOrderingApplication - Running with Spring Boot v3.5.0, Spring v6.2.7
2025-06-14 14:58:40 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - The following 1 profile is active: "dev"
2025-06-14 14:58:40 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-14 14:58:40 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-14 14:58:40 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 86 ms. Found 10 JPA repository interfaces.
2025-06-14 14:58:41 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-14 14:58:41 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-06-14 14:58:41 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.common.repository.CategoryTarifRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:58:41 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.CustomerGroupRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:58:41 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.CustomerRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:58:41 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.ProductCustomerRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:58:41 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.DepotRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:58:41 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.ProductStockRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:58:41 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.SiteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:58:41 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.order.repository.OrderRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:58:41 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.product.repository.ProductRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:58:41 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.promos.repository.PromotionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 14:58:41 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 19 ms. Found 0 Redis repository interfaces.
2025-06-14 14:58:42 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8087 (http)
2025-06-14 14:58:42 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-14 14:58:42 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.41]
2025-06-14 14:58:42 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-14 14:58:42 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1955 ms
2025-06-14 14:58:42 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-06-14 14:58:42 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@d08f85a
2025-06-14 14:58:42 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-06-14 14:58:42 [main] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://10.113.181.84:5432/foodplus_ordering (PostgreSQL 17.5)
2025-06-14 14:58:42 [main] INFO  o.f.core.internal.command.DbValidate - Successfully validated 3 migrations (execution time 00:00.037s)
2025-06-14 14:58:42 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "public": 1.0.4
2025-06-14 14:58:42 [main] WARN  o.f.core.internal.command.DbMigrate - outOfOrder mode is active. Migration of schema "public" may not be reproducible.
2025-06-14 14:58:43 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "public" to version "1.7.1 - insert dummy data"
2025-06-14 14:58:43 [main] INFO  o.f.core.internal.command.DbMigrate - Successfully applied 1 migration to schema "public", now at version v1.7.1 (execution time 00:00.082s)
2025-06-14 14:58:43 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-06-14 14:58:43 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.15.Final
2025-06-14 14:58:43 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-06-14 14:58:43 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-06-14 14:58:43 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 17.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-06-14 14:58:43 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-06-14 14:58:45 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-06-14 14:58:45 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-06-14 14:58:45 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-06-14 14:58:48 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-06-14 14:58:49 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 4 endpoints beneath base path '/actuator'
2025-06-14 14:58:49 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8087 (http) with context path '/'
2025-06-14 14:58:49 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - Started FoodPlusOrderingApplication in 10.333 seconds (process running for 10.757)
2025-06-14 14:58:49 [main] INFO  m.f.o.s.p.s.CacheWarmingService - Starting cache warm-up...
2025-06-14 14:58:49 [main] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.additional_photos,
        p1_0.availability_schedule,
        p1_0.b2b_contract_discount_percentage,
        p1_0.b2b_contract_required,
        p1_0.b2b_credit_terms,
        p1_0.b2b_custom_pricing_enabled,
        p1_0.b2b_delivery_lead_time,
        p1_0.b2b_minimum_order_value,
        p1_0.b2b_payment_methods,
        p1_0.b2b_volume_discount_enabled,
        p1_0.b2c_display_in_catalog,
        p1_0.b2c_featured,
        p1_0.b2c_loyalty_points_multiplier,
        p1_0.b2c_promo_end_date,
        p1_0.b2c_promo_price,
        p1_0.b2c_promo_start_date,
        p1_0.b2c_rating,
        p1_0.b2c_retail_price,
        p1_0.b2c_review_count,
        p1_0.barcode,
        p1_0.bulk_discount_percentage,
        p1_0.bulk_discount_threshold,
        p1_0.bulk_package_size,
        p1_0.bulk_package_unit,
        p1_0.certification,
        p1_0.country_of_origin,
        p1_0.created_at,
        p1_0.custom_attributes,
        p1_0.customer_segments,
        p1_0.deliverable,
        p1_0.description,
        p1_0.dimensions,
        p1_0.inactive,
        p1_0.is_bulk_item,
        p1_0.is_perishable,
        p1_0.is_wholesale_only,
        p1_0.maximum_order_quantity,
        p1_0.minimum_order_quantity,
        p1_0.package_quantity,
        p1_0.package_size,
        p1_0.photo,
        p1_0.price_including_tax,
        p1_0.family_code,
        p1_0.promo_sku_points,
        p1_0.reference,
        p1_0.requires_approval,
        p1_0.requires_cold_storage,
        p1_0.requires_contract,
        p1_0.sale_price,
        p1_0.sale_unit,
        p1_0.seasonality,
        p1_0.sku,
        p1_0.stock_tracking,
        p1_0.supplier_code,
        p1_0.supplier_name,
        p1_0.target_market,
        p1_0.tax_rate,
        p1_0.title,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.vendable,
        p1_0.visible,
        p1_0.weight,
        p1_0.weight_unit,
        p1_0.wholesale_discount_percentage,
        p1_0.wholesale_minimum_quantity,
        p1_0.wholesale_price,
        p1_0.wholesale_tier_1_price,
        p1_0.wholesale_tier_1_quantity,
        p1_0.wholesale_tier_2_price,
        p1_0.wholesale_tier_2_quantity,
        p1_0.wholesale_tier_3_price,
        p1_0.wholesale_tier_3_quantity 
    from
        products p1_0
2025-06-14 14:58:49 [main] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.code,
        pf1_0.created_at,
        pf1_0.description,
        pf1_0.is_active,
        pf1_0.name,
        pf1_0.updated_at 
    from
        product_families pf1_0 
    where
        pf1_0.code=?
2025-06-14 14:58:49 [main] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.code,
        pf1_0.created_at,
        pf1_0.description,
        pf1_0.is_active,
        pf1_0.name,
        pf1_0.updated_at 
    from
        product_families pf1_0 
    where
        pf1_0.code=?
2025-06-14 14:58:49 [main] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.code,
        pf1_0.created_at,
        pf1_0.description,
        pf1_0.is_active,
        pf1_0.name,
        pf1_0.updated_at 
    from
        product_families pf1_0 
    where
        pf1_0.code=?
2025-06-14 14:58:49 [main] INFO  m.f.o.s.p.s.CacheWarmingService - Warmed up all products cache
2025-06-14 14:58:49 [main] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.additional_photos,
        p1_0.availability_schedule,
        p1_0.b2b_contract_discount_percentage,
        p1_0.b2b_contract_required,
        p1_0.b2b_credit_terms,
        p1_0.b2b_custom_pricing_enabled,
        p1_0.b2b_delivery_lead_time,
        p1_0.b2b_minimum_order_value,
        p1_0.b2b_payment_methods,
        p1_0.b2b_volume_discount_enabled,
        p1_0.b2c_display_in_catalog,
        p1_0.b2c_featured,
        p1_0.b2c_loyalty_points_multiplier,
        p1_0.b2c_promo_end_date,
        p1_0.b2c_promo_price,
        p1_0.b2c_promo_start_date,
        p1_0.b2c_rating,
        p1_0.b2c_retail_price,
        p1_0.b2c_review_count,
        p1_0.barcode,
        p1_0.bulk_discount_percentage,
        p1_0.bulk_discount_threshold,
        p1_0.bulk_package_size,
        p1_0.bulk_package_unit,
        p1_0.certification,
        p1_0.country_of_origin,
        p1_0.created_at,
        p1_0.custom_attributes,
        p1_0.customer_segments,
        p1_0.deliverable,
        p1_0.description,
        p1_0.dimensions,
        p1_0.inactive,
        p1_0.is_bulk_item,
        p1_0.is_perishable,
        p1_0.is_wholesale_only,
        p1_0.maximum_order_quantity,
        p1_0.minimum_order_quantity,
        p1_0.package_quantity,
        p1_0.package_size,
        p1_0.photo,
        p1_0.price_including_tax,
        p1_0.family_code,
        p1_0.promo_sku_points,
        p1_0.reference,
        p1_0.requires_approval,
        p1_0.requires_cold_storage,
        p1_0.requires_contract,
        p1_0.sale_price,
        p1_0.sale_unit,
        p1_0.seasonality,
        p1_0.sku,
        p1_0.stock_tracking,
        p1_0.supplier_code,
        p1_0.supplier_name,
        p1_0.target_market,
        p1_0.tax_rate,
        p1_0.title,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.vendable,
        p1_0.visible,
        p1_0.weight,
        p1_0.weight_unit,
        p1_0.wholesale_discount_percentage,
        p1_0.wholesale_minimum_quantity,
        p1_0.wholesale_price,
        p1_0.wholesale_tier_1_price,
        p1_0.wholesale_tier_1_quantity,
        p1_0.wholesale_tier_2_price,
        p1_0.wholesale_tier_2_quantity,
        p1_0.wholesale_tier_3_price,
        p1_0.wholesale_tier_3_quantity 
    from
        products p1_0 
    where
        p1_0.deliverable
2025-06-14 14:58:49 [main] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.code,
        pf1_0.created_at,
        pf1_0.description,
        pf1_0.is_active,
        pf1_0.name,
        pf1_0.updated_at 
    from
        product_families pf1_0 
    where
        pf1_0.code=?
2025-06-14 14:58:49 [main] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.code,
        pf1_0.created_at,
        pf1_0.description,
        pf1_0.is_active,
        pf1_0.name,
        pf1_0.updated_at 
    from
        product_families pf1_0 
    where
        pf1_0.code=?
2025-06-14 14:58:49 [main] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.code,
        pf1_0.created_at,
        pf1_0.description,
        pf1_0.is_active,
        pf1_0.name,
        pf1_0.updated_at 
    from
        product_families pf1_0 
    where
        pf1_0.code=?
2025-06-14 14:58:49 [main] INFO  m.f.o.s.p.s.CacheWarmingService - Warmed up deliverable products cache
2025-06-14 14:58:49 [main] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.additional_photos,
        p1_0.availability_schedule,
        p1_0.b2b_contract_discount_percentage,
        p1_0.b2b_contract_required,
        p1_0.b2b_credit_terms,
        p1_0.b2b_custom_pricing_enabled,
        p1_0.b2b_delivery_lead_time,
        p1_0.b2b_minimum_order_value,
        p1_0.b2b_payment_methods,
        p1_0.b2b_volume_discount_enabled,
        p1_0.b2c_display_in_catalog,
        p1_0.b2c_featured,
        p1_0.b2c_loyalty_points_multiplier,
        p1_0.b2c_promo_end_date,
        p1_0.b2c_promo_price,
        p1_0.b2c_promo_start_date,
        p1_0.b2c_rating,
        p1_0.b2c_retail_price,
        p1_0.b2c_review_count,
        p1_0.barcode,
        p1_0.bulk_discount_percentage,
        p1_0.bulk_discount_threshold,
        p1_0.bulk_package_size,
        p1_0.bulk_package_unit,
        p1_0.certification,
        p1_0.country_of_origin,
        p1_0.created_at,
        p1_0.custom_attributes,
        p1_0.customer_segments,
        p1_0.deliverable,
        p1_0.description,
        p1_0.dimensions,
        p1_0.inactive,
        p1_0.is_bulk_item,
        p1_0.is_perishable,
        p1_0.is_wholesale_only,
        p1_0.maximum_order_quantity,
        p1_0.minimum_order_quantity,
        p1_0.package_quantity,
        p1_0.package_size,
        p1_0.photo,
        p1_0.price_including_tax,
        p1_0.family_code,
        p1_0.promo_sku_points,
        p1_0.reference,
        p1_0.requires_approval,
        p1_0.requires_cold_storage,
        p1_0.requires_contract,
        p1_0.sale_price,
        p1_0.sale_unit,
        p1_0.seasonality,
        p1_0.sku,
        p1_0.stock_tracking,
        p1_0.supplier_code,
        p1_0.supplier_name,
        p1_0.target_market,
        p1_0.tax_rate,
        p1_0.title,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.vendable,
        p1_0.visible,
        p1_0.weight,
        p1_0.weight_unit,
        p1_0.wholesale_discount_percentage,
        p1_0.wholesale_minimum_quantity,
        p1_0.wholesale_price,
        p1_0.wholesale_tier_1_price,
        p1_0.wholesale_tier_1_quantity,
        p1_0.wholesale_tier_2_price,
        p1_0.wholesale_tier_2_quantity,
        p1_0.wholesale_tier_3_price,
        p1_0.wholesale_tier_3_quantity 
    from
        products p1_0 
    where
        not(p1_0.inactive)
2025-06-14 14:58:49 [main] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.code,
        pf1_0.created_at,
        pf1_0.description,
        pf1_0.is_active,
        pf1_0.name,
        pf1_0.updated_at 
    from
        product_families pf1_0 
    where
        pf1_0.code=?
2025-06-14 14:58:49 [main] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.code,
        pf1_0.created_at,
        pf1_0.description,
        pf1_0.is_active,
        pf1_0.name,
        pf1_0.updated_at 
    from
        product_families pf1_0 
    where
        pf1_0.code=?
2025-06-14 14:58:49 [main] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.code,
        pf1_0.created_at,
        pf1_0.description,
        pf1_0.is_active,
        pf1_0.name,
        pf1_0.updated_at 
    from
        product_families pf1_0 
    where
        pf1_0.code=?
2025-06-14 14:58:49 [main] INFO  m.f.o.s.p.s.CacheWarmingService - Warmed up active products cache
2025-06-14 14:58:49 [main] INFO  m.f.o.s.p.s.CacheWarmingService - Cache warm-up completed
2025-06-14 15:02:19 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-06-14 15:02:19 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-06-14 15:02:19 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-06-14 15:02:19 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-06-14 15:02:19 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-06-14 15:09:25 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - Starting FoodPlusOrderingApplication using Java 21.0.7 with PID 358256 (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes started by louki in /home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system)
2025-06-14 15:09:25 [main] DEBUG m.f.o.s.FoodPlusOrderingApplication - Running with Spring Boot v3.5.0, Spring v6.2.7
2025-06-14 15:09:25 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - The following 1 profile is active: "dev"
2025-06-14 15:09:27 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-14 15:09:27 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-14 15:09:27 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 222 ms. Found 10 JPA repository interfaces.
2025-06-14 15:09:27 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-14 15:09:27 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-06-14 15:09:27 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.common.repository.CategoryTarifRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 15:09:27 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.CustomerGroupRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 15:09:27 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.CustomerRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 15:09:27 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.ProductCustomerRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 15:09:27 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.DepotRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 15:09:27 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.ProductStockRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 15:09:27 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.SiteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 15:09:27 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.order.repository.OrderRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 15:09:27 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.product.repository.ProductRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 15:09:27 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.promos.repository.PromotionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 15:09:27 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 24 ms. Found 0 Redis repository interfaces.
2025-06-14 15:09:28 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8087 (http)
2025-06-14 15:09:28 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-14 15:09:28 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.41]
2025-06-14 15:09:28 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-14 15:09:28 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2745 ms
2025-06-14 15:09:29 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-06-14 15:09:29 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@d08f85a
2025-06-14 15:09:29 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-06-14 15:09:29 [main] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://10.113.181.84:5432/foodplus_ordering (PostgreSQL 17.5)
2025-06-14 15:09:29 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Validate failed: Migrations have failed validation
Migration checksum mismatch for migration version 1.7.1
-> Applied to database : 962755770
-> Resolved locally    : 508434632
Either revert the changes to the migration, or run repair to update the schema history.
Need more flexibility with validation rules? Learn more: https://rd.gt/3AbJUZE
2025-06-14 15:09:29 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-06-14 15:09:29 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-06-14 15:09:29 [main] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-06-14 15:09:29 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-06-14 15:09:29 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Validate failed: Migrations have failed validation
Migration checksum mismatch for migration version 1.7.1
-> Applied to database : 962755770
-> Resolved locally    : 508434632
Either revert the changes to the migration, or run repair to update the schema history.
Need more flexibility with validation rules? Learn more: https://rd.gt/3AbJUZE
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:328)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:753)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1362)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1351)
	at ma.foodplus.ordering.system.FoodPlusOrderingApplication.main(FoodPlusOrderingApplication.java:22)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Validate failed: Migrations have failed validation
Migration checksum mismatch for migration version 1.7.1
-> Applied to database : 962755770
-> Resolved locally    : 508434632
Either revert the changes to the migration, or run repair to update the schema history.
Need more flexibility with validation rules? Learn more: https://rd.gt/3AbJUZE
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1826)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:607)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315)
	... 10 common frames omitted
Caused by: org.flywaydb.core.api.exception.FlywayValidateException: Validate failed: Migrations have failed validation
Migration checksum mismatch for migration version 1.7.1
-> Applied to database : 962755770
-> Resolved locally    : 508434632
Either revert the changes to the migration, or run repair to update the schema history.
Need more flexibility with validation rules? Learn more: https://rd.gt/3AbJUZE
	at org.flywaydb.core.Flyway.lambda$migrate$1(Flyway.java:201)
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:210)
	at org.flywaydb.core.Flyway.migrate(Flyway.java:188)
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1873)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1822)
	... 17 common frames omitted
2025-06-14 15:16:55 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - Starting FoodPlusOrderingApplication using Java 21.0.7 with PID 364080 (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes started by louki in /home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system)
2025-06-14 15:16:55 [main] DEBUG m.f.o.s.FoodPlusOrderingApplication - Running with Spring Boot v3.5.0, Spring v6.2.7
2025-06-14 15:16:55 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - The following 1 profile is active: "dev"
2025-06-14 15:16:56 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-14 15:16:56 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-14 15:16:56 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 162 ms. Found 10 JPA repository interfaces.
2025-06-14 15:16:57 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-14 15:16:57 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-06-14 15:16:57 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.common.repository.CategoryTarifRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 15:16:57 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.CustomerGroupRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 15:16:57 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.CustomerRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 15:16:57 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.ProductCustomerRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 15:16:57 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.DepotRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 15:16:57 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.ProductStockRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 15:16:57 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.SiteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 15:16:57 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.order.repository.OrderRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 15:16:57 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.product.repository.ProductRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 15:16:57 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.promos.repository.PromotionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 15:16:57 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 24 ms. Found 0 Redis repository interfaces.
2025-06-14 15:16:58 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8087 (http)
2025-06-14 15:16:58 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-14 15:16:58 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.41]
2025-06-14 15:16:58 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-14 15:16:58 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2674 ms
2025-06-14 15:16:58 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-06-14 15:16:59 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@4a6ef712
2025-06-14 15:16:59 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-06-14 15:16:59 [main] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://10.113.181.84:5432/foodplus_ordering (PostgreSQL 17.5)
2025-06-14 15:16:59 [main] INFO  o.f.core.internal.command.DbValidate - Successfully validated 4 migrations (execution time 00:00.028s)
2025-06-14 15:16:59 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "public": 1.7.1
2025-06-14 15:16:59 [main] WARN  o.f.core.internal.command.DbMigrate - outOfOrder mode is active. Migration of schema "public" may not be reproducible.
2025-06-14 15:16:59 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "public" to version "1.7.2 - insert promotion dynamic conditions"
2025-06-14 15:16:59 [main] INFO  o.f.core.internal.command.DbMigrate - Successfully applied 1 migration to schema "public", now at version v1.7.2 (execution time 00:00.014s)
2025-06-14 15:16:59 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-06-14 15:16:59 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.15.Final
2025-06-14 15:16:59 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-06-14 15:16:59 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-06-14 15:16:59 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 17.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-06-14 15:17:00 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-06-14 15:17:01 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-06-14 15:17:01 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-06-14 15:17:02 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-06-14 15:17:04 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-06-14 15:17:05 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 4 endpoints beneath base path '/actuator'
2025-06-14 15:17:05 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8087 (http) with context path '/'
2025-06-14 15:17:05 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - Started FoodPlusOrderingApplication in 10.696 seconds (process running for 11.141)
2025-06-14 15:17:05 [main] INFO  m.f.o.s.p.s.CacheWarmingService - Starting cache warm-up...
2025-06-14 15:17:05 [main] INFO  m.f.o.s.p.s.CacheWarmingService - Warmed up all products cache
2025-06-14 15:17:05 [main] INFO  m.f.o.s.p.s.CacheWarmingService - Warmed up deliverable products cache
2025-06-14 15:17:05 [main] INFO  m.f.o.s.p.s.CacheWarmingService - Warmed up active products cache
2025-06-14 15:17:05 [main] INFO  m.f.o.s.p.s.CacheWarmingService - Cache warm-up completed
2025-06-14 17:00:25 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-06-14 17:00:25 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-06-14 17:00:25 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-06-14 17:00:25 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-06-14 17:00:25 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-06-14 17:21:12 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - Starting FoodPlusOrderingApplication using Java 21.0.7 with PID 387553 (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes started by louki in /home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system)
2025-06-14 17:21:12 [main] DEBUG m.f.o.s.FoodPlusOrderingApplication - Running with Spring Boot v3.5.0, Spring v6.2.7
2025-06-14 17:21:12 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - The following 1 profile is active: "dev"
2025-06-14 17:21:13 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-14 17:21:13 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-14 17:21:13 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 217 ms. Found 11 JPA repository interfaces.
2025-06-14 17:21:14 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-14 17:21:14 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-06-14 17:21:14 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.common.repository.CategoryTarifRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 17:21:14 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.CustomerGroupRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 17:21:14 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.CustomerRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 17:21:14 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.ProductCustomerRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 17:21:14 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.DepotRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 17:21:14 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.ProductStockRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 17:21:14 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.SiteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 17:21:14 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.order.repository.OrderRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 17:21:14 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.product.repository.ProductAuditRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 17:21:14 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.product.repository.ProductRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 17:21:14 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.promos.repository.PromotionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 17:21:14 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 32 ms. Found 0 Redis repository interfaces.
2025-06-14 17:21:15 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8087 (http)
2025-06-14 17:21:15 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-14 17:21:15 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.41]
2025-06-14 17:21:15 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-14 17:21:15 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3172 ms
2025-06-14 17:21:16 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-06-14 17:21:16 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@2a16d393
2025-06-14 17:21:16 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-06-14 17:21:16 [main] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://10.113.181.84:5432/foodplus_ordering (PostgreSQL 17.5)
2025-06-14 17:21:16 [main] INFO  o.f.core.internal.command.DbValidate - Successfully validated 5 migrations (execution time 00:00.032s)
2025-06-14 17:21:16 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "public": 1.7.2
2025-06-14 17:21:16 [main] WARN  o.f.core.internal.command.DbMigrate - outOfOrder mode is active. Migration of schema "public" may not be reproducible.
2025-06-14 17:21:16 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "public" to version "1.3.4 - create product audit tables" [out of order]
2025-06-14 17:21:16 [main] INFO  o.f.core.internal.command.DbMigrate - Successfully applied 1 migration to schema "public", now at version v1.3.4 (execution time 00:00.055s)
2025-06-14 17:21:17 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-06-14 17:21:17 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.15.Final
2025-06-14 17:21:17 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-06-14 17:21:17 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-06-14 17:21:17 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 17.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-06-14 17:21:17 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-06-14 17:21:19 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-06-14 17:21:19 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-06-14 17:21:19 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-06-14 17:21:22 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'orderController' defined in file [/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/ma/foodplus/ordering/system/order/controller/OrderController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'orderServiceImpl' defined in file [/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/ma/foodplus/ordering/system/order/service/impl/OrderServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 1: No qualifying bean of type 'ma.foodplus.ordering.system.order.mapper.OrderMapper' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
2025-06-14 17:21:22 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-06-14 17:21:22 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-06-14 17:21:22 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-06-14 17:21:22 [main] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-06-14 17:21:22 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-06-14 17:21:22 [main] ERROR o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 1 of constructor in ma.foodplus.ordering.system.order.service.impl.OrderServiceImpl required a bean of type 'ma.foodplus.ordering.system.order.mapper.OrderMapper' that could not be found.


Action:

Consider defining a bean of type 'ma.foodplus.ordering.system.order.mapper.OrderMapper' in your configuration.

2025-06-14 17:28:58 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - Starting FoodPlusOrderingApplication using Java 21.0.7 with PID 394170 (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes started by louki in /home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system)
2025-06-14 17:28:58 [main] DEBUG m.f.o.s.FoodPlusOrderingApplication - Running with Spring Boot v3.5.0, Spring v6.2.7
2025-06-14 17:28:58 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - The following 1 profile is active: "dev"
2025-06-14 17:29:00 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-14 17:29:00 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-14 17:29:00 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 364 ms. Found 11 JPA repository interfaces.
2025-06-14 17:29:02 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-14 17:29:02 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-06-14 17:29:02 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.common.repository.CategoryTarifRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 17:29:02 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.CustomerGroupRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 17:29:02 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.CustomerRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 17:29:02 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.ProductCustomerRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 17:29:02 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.DepotRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 17:29:02 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.ProductStockRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 17:29:02 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.SiteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 17:29:02 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.order.repository.OrderRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 17:29:02 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.product.repository.ProductAuditRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 17:29:02 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.product.repository.ProductRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 17:29:02 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.promos.repository.PromotionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 17:29:02 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 64 ms. Found 0 Redis repository interfaces.
2025-06-14 17:29:03 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8087 (http)
2025-06-14 17:29:03 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-14 17:29:03 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.41]
2025-06-14 17:29:03 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-14 17:29:03 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 4892 ms
2025-06-14 17:29:04 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-06-14 17:29:04 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@5b4d9bda
2025-06-14 17:29:04 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-06-14 17:29:04 [main] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://10.113.181.84:5432/foodplus_ordering (PostgreSQL 17.5)
2025-06-14 17:29:04 [main] INFO  o.f.core.internal.command.DbValidate - Successfully validated 5 migrations (execution time 00:00.066s)
2025-06-14 17:29:04 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "public": 1.7.2
2025-06-14 17:29:04 [main] WARN  o.f.core.internal.command.DbMigrate - outOfOrder mode is active. Migration of schema "public" may not be reproducible.
2025-06-14 17:29:04 [main] INFO  o.f.core.internal.command.DbMigrate - Schema "public" is up to date. No migration necessary.
2025-06-14 17:29:05 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-06-14 17:29:05 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.15.Final
2025-06-14 17:29:05 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-06-14 17:29:05 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-06-14 17:29:05 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 17.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-06-14 17:29:05 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-06-14 17:29:07 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-06-14 17:29:07 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-06-14 17:29:08 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-06-14 17:29:11 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'orderController' defined in file [/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/ma/foodplus/ordering/system/order/controller/OrderController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'orderServiceImpl' defined in file [/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes/ma/foodplus/ordering/system/order/service/impl/OrderServiceImpl.class]: Unsatisfied dependency expressed through constructor parameter 1: No qualifying bean of type 'ma.foodplus.ordering.system.order.mapper.OrderMapper' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
2025-06-14 17:29:11 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-06-14 17:29:11 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-06-14 17:29:11 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-06-14 17:29:11 [main] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-06-14 17:29:11 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-06-14 17:29:11 [main] ERROR o.s.b.d.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 1 of constructor in ma.foodplus.ordering.system.order.service.impl.OrderServiceImpl required a bean of type 'ma.foodplus.ordering.system.order.mapper.OrderMapper' that could not be found.


Action:

Consider defining a bean of type 'ma.foodplus.ordering.system.order.mapper.OrderMapper' in your configuration.

2025-06-14 17:31:23 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - Starting FoodPlusOrderingApplication using Java 21.0.7 with PID 397514 (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes started by louki in /home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system)
2025-06-14 17:31:23 [main] DEBUG m.f.o.s.FoodPlusOrderingApplication - Running with Spring Boot v3.5.0, Spring v6.2.7
2025-06-14 17:31:23 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - The following 1 profile is active: "dev"
2025-06-14 17:31:24 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-14 17:31:24 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-14 17:31:25 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 162 ms. Found 11 JPA repository interfaces.
2025-06-14 17:31:25 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-14 17:31:25 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-06-14 17:31:25 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.common.repository.CategoryTarifRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 17:31:25 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.CustomerGroupRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 17:31:25 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.CustomerRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 17:31:25 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.ProductCustomerRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 17:31:25 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.DepotRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 17:31:25 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.ProductStockRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 17:31:25 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.SiteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 17:31:25 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.order.repository.OrderRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 17:31:25 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.product.repository.ProductAuditRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 17:31:25 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.product.repository.ProductRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 17:31:25 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.promos.repository.PromotionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 17:31:25 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 55 ms. Found 0 Redis repository interfaces.
2025-06-14 17:31:27 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8087 (http)
2025-06-14 17:31:27 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-14 17:31:27 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.41]
2025-06-14 17:31:27 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-14 17:31:27 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3434 ms
2025-06-14 17:31:27 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-06-14 17:31:28 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@1786150f
2025-06-14 17:31:28 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-06-14 17:31:28 [main] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://10.113.181.84:5432/foodplus_ordering (PostgreSQL 17.5)
2025-06-14 17:31:28 [main] INFO  o.f.core.internal.command.DbValidate - Successfully validated 5 migrations (execution time 00:00.045s)
2025-06-14 17:31:28 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "public": 1.7.2
2025-06-14 17:31:28 [main] WARN  o.f.core.internal.command.DbMigrate - outOfOrder mode is active. Migration of schema "public" may not be reproducible.
2025-06-14 17:31:28 [main] INFO  o.f.core.internal.command.DbMigrate - Schema "public" is up to date. No migration necessary.
2025-06-14 17:31:28 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-06-14 17:31:28 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.15.Final
2025-06-14 17:31:28 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-06-14 17:31:28 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-06-14 17:31:28 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 17.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-06-14 17:31:28 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-06-14 17:31:30 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-06-14 17:31:30 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-06-14 17:31:31 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-06-14 17:31:34 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-06-14 17:31:35 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 4 endpoints beneath base path '/actuator'
2025-06-14 17:31:35 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8087 (http) with context path '/'
2025-06-14 17:31:35 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - Started FoodPlusOrderingApplication in 12.387 seconds (process running for 13.118)
2025-06-14 17:31:35 [main] INFO  m.f.o.s.p.s.CacheWarmingService - Starting cache warm-up...
2025-06-14 17:31:35 [main] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.additional_photos,
        p1_0.availability_schedule,
        p1_0.b2b_contract_discount_percentage,
        p1_0.b2b_contract_required,
        p1_0.b2b_credit_terms,
        p1_0.b2b_custom_pricing_enabled,
        p1_0.b2b_delivery_lead_time,
        p1_0.b2b_minimum_order_value,
        p1_0.b2b_payment_methods,
        p1_0.b2b_volume_discount_enabled,
        p1_0.b2c_display_in_catalog,
        p1_0.b2c_featured,
        p1_0.b2c_loyalty_points_multiplier,
        p1_0.b2c_promo_end_date,
        p1_0.b2c_promo_price,
        p1_0.b2c_promo_start_date,
        p1_0.b2c_rating,
        p1_0.b2c_retail_price,
        p1_0.b2c_review_count,
        p1_0.barcode,
        p1_0.bulk_discount_percentage,
        p1_0.bulk_discount_threshold,
        p1_0.bulk_package_size,
        p1_0.bulk_package_unit,
        p1_0.certification,
        p1_0.country_of_origin,
        p1_0.created_at,
        p1_0.custom_attributes,
        p1_0.customer_segments,
        p1_0.deliverable,
        p1_0.description,
        p1_0.dimensions,
        p1_0.inactive,
        p1_0.is_bulk_item,
        p1_0.is_perishable,
        p1_0.is_wholesale_only,
        p1_0.maximum_order_quantity,
        p1_0.minimum_order_quantity,
        p1_0.package_quantity,
        p1_0.package_size,
        p1_0.photo,
        p1_0.price_including_tax,
        p1_0.family_code,
        p1_0.promo_sku_points,
        p1_0.reference,
        p1_0.requires_approval,
        p1_0.requires_cold_storage,
        p1_0.requires_contract,
        p1_0.sale_price,
        p1_0.sale_unit,
        p1_0.seasonality,
        p1_0.sku,
        p1_0.stock_tracking,
        p1_0.supplier_code,
        p1_0.supplier_name,
        p1_0.target_market,
        p1_0.tax_rate,
        p1_0.title,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.vendable,
        p1_0.visible,
        p1_0.weight,
        p1_0.weight_unit,
        p1_0.wholesale_discount_percentage,
        p1_0.wholesale_minimum_quantity,
        p1_0.wholesale_price,
        p1_0.wholesale_tier_1_price,
        p1_0.wholesale_tier_1_quantity,
        p1_0.wholesale_tier_2_price,
        p1_0.wholesale_tier_2_quantity,
        p1_0.wholesale_tier_3_price,
        p1_0.wholesale_tier_3_quantity 
    from
        products p1_0
2025-06-14 17:31:35 [main] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.code,
        pf1_0.created_at,
        pf1_0.description,
        pf1_0.is_active,
        pf1_0.name,
        pf1_0.updated_at 
    from
        product_families pf1_0 
    where
        pf1_0.code=?
2025-06-14 17:31:35 [main] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.code,
        pf1_0.created_at,
        pf1_0.description,
        pf1_0.is_active,
        pf1_0.name,
        pf1_0.updated_at 
    from
        product_families pf1_0 
    where
        pf1_0.code=?
2025-06-14 17:31:35 [main] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.code,
        pf1_0.created_at,
        pf1_0.description,
        pf1_0.is_active,
        pf1_0.name,
        pf1_0.updated_at 
    from
        product_families pf1_0 
    where
        pf1_0.code=?
2025-06-14 17:31:35 [main] INFO  m.f.o.s.p.s.CacheWarmingService - Warmed up all products cache
2025-06-14 17:31:35 [main] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.additional_photos,
        p1_0.availability_schedule,
        p1_0.b2b_contract_discount_percentage,
        p1_0.b2b_contract_required,
        p1_0.b2b_credit_terms,
        p1_0.b2b_custom_pricing_enabled,
        p1_0.b2b_delivery_lead_time,
        p1_0.b2b_minimum_order_value,
        p1_0.b2b_payment_methods,
        p1_0.b2b_volume_discount_enabled,
        p1_0.b2c_display_in_catalog,
        p1_0.b2c_featured,
        p1_0.b2c_loyalty_points_multiplier,
        p1_0.b2c_promo_end_date,
        p1_0.b2c_promo_price,
        p1_0.b2c_promo_start_date,
        p1_0.b2c_rating,
        p1_0.b2c_retail_price,
        p1_0.b2c_review_count,
        p1_0.barcode,
        p1_0.bulk_discount_percentage,
        p1_0.bulk_discount_threshold,
        p1_0.bulk_package_size,
        p1_0.bulk_package_unit,
        p1_0.certification,
        p1_0.country_of_origin,
        p1_0.created_at,
        p1_0.custom_attributes,
        p1_0.customer_segments,
        p1_0.deliverable,
        p1_0.description,
        p1_0.dimensions,
        p1_0.inactive,
        p1_0.is_bulk_item,
        p1_0.is_perishable,
        p1_0.is_wholesale_only,
        p1_0.maximum_order_quantity,
        p1_0.minimum_order_quantity,
        p1_0.package_quantity,
        p1_0.package_size,
        p1_0.photo,
        p1_0.price_including_tax,
        p1_0.family_code,
        p1_0.promo_sku_points,
        p1_0.reference,
        p1_0.requires_approval,
        p1_0.requires_cold_storage,
        p1_0.requires_contract,
        p1_0.sale_price,
        p1_0.sale_unit,
        p1_0.seasonality,
        p1_0.sku,
        p1_0.stock_tracking,
        p1_0.supplier_code,
        p1_0.supplier_name,
        p1_0.target_market,
        p1_0.tax_rate,
        p1_0.title,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.vendable,
        p1_0.visible,
        p1_0.weight,
        p1_0.weight_unit,
        p1_0.wholesale_discount_percentage,
        p1_0.wholesale_minimum_quantity,
        p1_0.wholesale_price,
        p1_0.wholesale_tier_1_price,
        p1_0.wholesale_tier_1_quantity,
        p1_0.wholesale_tier_2_price,
        p1_0.wholesale_tier_2_quantity,
        p1_0.wholesale_tier_3_price,
        p1_0.wholesale_tier_3_quantity 
    from
        products p1_0 
    where
        p1_0.deliverable
2025-06-14 17:31:35 [main] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.code,
        pf1_0.created_at,
        pf1_0.description,
        pf1_0.is_active,
        pf1_0.name,
        pf1_0.updated_at 
    from
        product_families pf1_0 
    where
        pf1_0.code=?
2025-06-14 17:31:35 [main] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.code,
        pf1_0.created_at,
        pf1_0.description,
        pf1_0.is_active,
        pf1_0.name,
        pf1_0.updated_at 
    from
        product_families pf1_0 
    where
        pf1_0.code=?
2025-06-14 17:31:35 [main] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.code,
        pf1_0.created_at,
        pf1_0.description,
        pf1_0.is_active,
        pf1_0.name,
        pf1_0.updated_at 
    from
        product_families pf1_0 
    where
        pf1_0.code=?
2025-06-14 17:31:35 [main] INFO  m.f.o.s.p.s.CacheWarmingService - Warmed up deliverable products cache
2025-06-14 17:31:35 [main] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.additional_photos,
        p1_0.availability_schedule,
        p1_0.b2b_contract_discount_percentage,
        p1_0.b2b_contract_required,
        p1_0.b2b_credit_terms,
        p1_0.b2b_custom_pricing_enabled,
        p1_0.b2b_delivery_lead_time,
        p1_0.b2b_minimum_order_value,
        p1_0.b2b_payment_methods,
        p1_0.b2b_volume_discount_enabled,
        p1_0.b2c_display_in_catalog,
        p1_0.b2c_featured,
        p1_0.b2c_loyalty_points_multiplier,
        p1_0.b2c_promo_end_date,
        p1_0.b2c_promo_price,
        p1_0.b2c_promo_start_date,
        p1_0.b2c_rating,
        p1_0.b2c_retail_price,
        p1_0.b2c_review_count,
        p1_0.barcode,
        p1_0.bulk_discount_percentage,
        p1_0.bulk_discount_threshold,
        p1_0.bulk_package_size,
        p1_0.bulk_package_unit,
        p1_0.certification,
        p1_0.country_of_origin,
        p1_0.created_at,
        p1_0.custom_attributes,
        p1_0.customer_segments,
        p1_0.deliverable,
        p1_0.description,
        p1_0.dimensions,
        p1_0.inactive,
        p1_0.is_bulk_item,
        p1_0.is_perishable,
        p1_0.is_wholesale_only,
        p1_0.maximum_order_quantity,
        p1_0.minimum_order_quantity,
        p1_0.package_quantity,
        p1_0.package_size,
        p1_0.photo,
        p1_0.price_including_tax,
        p1_0.family_code,
        p1_0.promo_sku_points,
        p1_0.reference,
        p1_0.requires_approval,
        p1_0.requires_cold_storage,
        p1_0.requires_contract,
        p1_0.sale_price,
        p1_0.sale_unit,
        p1_0.seasonality,
        p1_0.sku,
        p1_0.stock_tracking,
        p1_0.supplier_code,
        p1_0.supplier_name,
        p1_0.target_market,
        p1_0.tax_rate,
        p1_0.title,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.vendable,
        p1_0.visible,
        p1_0.weight,
        p1_0.weight_unit,
        p1_0.wholesale_discount_percentage,
        p1_0.wholesale_minimum_quantity,
        p1_0.wholesale_price,
        p1_0.wholesale_tier_1_price,
        p1_0.wholesale_tier_1_quantity,
        p1_0.wholesale_tier_2_price,
        p1_0.wholesale_tier_2_quantity,
        p1_0.wholesale_tier_3_price,
        p1_0.wholesale_tier_3_quantity 
    from
        products p1_0 
    where
        not(p1_0.inactive)
2025-06-14 17:31:35 [main] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.code,
        pf1_0.created_at,
        pf1_0.description,
        pf1_0.is_active,
        pf1_0.name,
        pf1_0.updated_at 
    from
        product_families pf1_0 
    where
        pf1_0.code=?
2025-06-14 17:31:35 [main] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.code,
        pf1_0.created_at,
        pf1_0.description,
        pf1_0.is_active,
        pf1_0.name,
        pf1_0.updated_at 
    from
        product_families pf1_0 
    where
        pf1_0.code=?
2025-06-14 17:31:35 [main] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.code,
        pf1_0.created_at,
        pf1_0.description,
        pf1_0.is_active,
        pf1_0.name,
        pf1_0.updated_at 
    from
        product_families pf1_0 
    where
        pf1_0.code=?
2025-06-14 17:31:35 [main] INFO  m.f.o.s.p.s.CacheWarmingService - Warmed up active products cache
2025-06-14 17:31:35 [main] INFO  m.f.o.s.p.s.CacheWarmingService - Cache warm-up completed
2025-06-14 17:33:29 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-06-14 17:33:29 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-06-14 17:33:30 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-06-14 17:33:30 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-06-14 17:33:30 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-06-14 17:51:20 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - Starting FoodPlusOrderingApplication using Java 21.0.7 with PID 414625 (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes started by louki in /home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system)
2025-06-14 17:51:20 [main] DEBUG m.f.o.s.FoodPlusOrderingApplication - Running with Spring Boot v3.5.0, Spring v6.2.7
2025-06-14 17:51:20 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - The following 1 profile is active: "dev"
2025-06-14 17:51:21 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-14 17:51:21 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-14 17:51:21 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 176 ms. Found 11 JPA repository interfaces.
2025-06-14 17:51:22 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-14 17:51:22 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-06-14 17:51:22 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.common.repository.CategoryTarifRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 17:51:22 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.CustomerGroupRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 17:51:22 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.CustomerRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 17:51:22 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.ProductCustomerRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 17:51:22 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.DepotRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 17:51:22 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.ProductStockRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 17:51:22 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.SiteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 17:51:22 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.order.repository.OrderRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 17:51:22 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.product.repository.ProductAuditRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 17:51:22 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.product.repository.ProductRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 17:51:22 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.promos.repository.PromotionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 17:51:22 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 28 ms. Found 0 Redis repository interfaces.
2025-06-14 17:51:22 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8087 (http)
2025-06-14 17:51:22 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-14 17:51:22 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.41]
2025-06-14 17:51:23 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-14 17:51:23 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2854 ms
2025-06-14 17:51:23 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-06-14 17:51:24 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@bd28c86
2025-06-14 17:51:24 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-06-14 17:51:24 [main] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://10.113.181.84:5432/foodplus_ordering (PostgreSQL 17.5)
2025-06-14 17:51:24 [main] INFO  o.f.core.internal.command.DbValidate - Successfully validated 5 migrations (execution time 00:00.042s)
2025-06-14 17:51:24 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "public": 1.7.2
2025-06-14 17:51:24 [main] WARN  o.f.core.internal.command.DbMigrate - outOfOrder mode is active. Migration of schema "public" may not be reproducible.
2025-06-14 17:51:24 [main] INFO  o.f.core.internal.command.DbMigrate - Schema "public" is up to date. No migration necessary.
2025-06-14 17:51:24 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-06-14 17:51:24 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.15.Final
2025-06-14 17:51:24 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-06-14 17:51:24 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-06-14 17:51:24 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 17.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-06-14 17:51:24 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-06-14 17:51:26 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-06-14 17:51:26 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-06-14 17:51:27 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-06-14 17:51:30 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-06-14 17:51:31 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 4 endpoints beneath base path '/actuator'
2025-06-14 17:51:31 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8087 (http) with context path '/'
2025-06-14 17:51:31 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - Started FoodPlusOrderingApplication in 12.485 seconds (process running for 12.974)
2025-06-14 17:51:32 [main] INFO  m.f.o.s.p.s.CacheWarmingService - Starting cache warm-up...
2025-06-14 17:51:32 [main] INFO  m.f.o.s.p.s.CacheWarmingService - Warmed up all products cache
2025-06-14 17:51:32 [main] INFO  m.f.o.s.p.s.CacheWarmingService - Warmed up deliverable products cache
2025-06-14 17:51:32 [main] INFO  m.f.o.s.p.s.CacheWarmingService - Warmed up active products cache
2025-06-14 17:51:32 [main] INFO  m.f.o.s.p.s.CacheWarmingService - Cache warm-up completed
2025-06-14 17:53:05 [http-nio-8087-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-06-14 17:53:05 [http-nio-8087-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-06-14 17:53:05 [http-nio-8087-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-06-14 17:53:06 [http-nio-8087-exec-2] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotReadableException: Required request body is missing: public org.springframework.http.ResponseEntity<ma.foodplus.ordering.system.domain.valueobject.ProductId> ma.foodplus.ordering.system.product.controller.ProductController.createProduct(ma.foodplus.ordering.system.product.dto.create.CreateProductCommand)]
2025-06-14 17:53:56 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-06-14 17:53:56 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-06-14 17:53:56 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-06-14 17:53:56 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-06-14 17:53:56 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-06-14 18:13:12 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - Starting FoodPlusOrderingApplication using Java 21.0.7 with PID 430884 (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes started by louki in /home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system)
2025-06-14 18:13:12 [main] DEBUG m.f.o.s.FoodPlusOrderingApplication - Running with Spring Boot v3.5.0, Spring v6.2.7
2025-06-14 18:13:12 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - The following 1 profile is active: "dev"
2025-06-14 18:13:16 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-14 18:13:16 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-14 18:13:16 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 210 ms. Found 12 JPA repository interfaces.
2025-06-14 18:13:17 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-14 18:13:17 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-06-14 18:13:17 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.common.repository.CategoryTarifRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 18:13:17 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.CustomerGroupRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 18:13:17 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.CustomerRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 18:13:17 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.ProductCustomerRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 18:13:17 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.DepotRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 18:13:17 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.ProductStockRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 18:13:17 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.SiteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 18:13:17 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.order.repository.OrderRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 18:13:17 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.product.repository.CategoryRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 18:13:17 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.product.repository.ProductAuditRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 18:13:17 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.product.repository.ProductRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 18:13:17 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.promos.repository.PromotionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 18:13:17 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 40 ms. Found 0 Redis repository interfaces.
2025-06-14 18:13:18 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8087 (http)
2025-06-14 18:13:18 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-14 18:13:18 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.41]
2025-06-14 18:13:18 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-14 18:13:18 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 5625 ms
2025-06-14 18:13:18 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-06-14 18:13:19 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@71df5f30
2025-06-14 18:13:19 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-06-14 18:13:19 [main] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://10.113.181.84:5432/foodplus_ordering (PostgreSQL 17.5)
2025-06-14 18:13:19 [main] INFO  o.f.core.internal.command.DbValidate - Successfully validated 5 migrations (execution time 00:00.041s)
2025-06-14 18:13:19 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "public": 1.7.2
2025-06-14 18:13:19 [main] WARN  o.f.core.internal.command.DbMigrate - outOfOrder mode is active. Migration of schema "public" may not be reproducible.
2025-06-14 18:13:19 [main] INFO  o.f.core.internal.command.DbMigrate - Schema "public" is up to date. No migration necessary.
2025-06-14 18:13:19 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-06-14 18:13:19 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.15.Final
2025-06-14 18:13:19 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-06-14 18:13:19 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-06-14 18:13:19 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 17.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-06-14 18:13:20 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-06-14 18:13:21 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-06-14 18:13:22 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-06-14 18:13:22 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-06-14 18:13:25 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-06-14 18:13:26 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 4 endpoints beneath base path '/actuator'
2025-06-14 18:13:26 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8087 (http) with context path '/'
2025-06-14 18:13:26 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - Started FoodPlusOrderingApplication in 17.483 seconds (process running for 19.09)
2025-06-14 18:13:26 [main] INFO  m.f.o.s.p.s.CacheWarmingService - Starting cache warm-up...
2025-06-14 18:13:26 [main] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.additional_photos,
        p1_0.availability_schedule,
        p1_0.b2b_contract_discount_percentage,
        p1_0.b2b_contract_required,
        p1_0.b2b_credit_terms,
        p1_0.b2b_custom_pricing_enabled,
        p1_0.b2b_delivery_lead_time,
        p1_0.b2b_minimum_order_value,
        p1_0.b2b_payment_methods,
        p1_0.b2b_volume_discount_enabled,
        p1_0.b2c_display_in_catalog,
        p1_0.b2c_featured,
        p1_0.b2c_loyalty_points_multiplier,
        p1_0.b2c_promo_end_date,
        p1_0.b2c_promo_price,
        p1_0.b2c_promo_start_date,
        p1_0.b2c_rating,
        p1_0.b2c_retail_price,
        p1_0.b2c_review_count,
        p1_0.barcode,
        p1_0.bulk_discount_percentage,
        p1_0.bulk_discount_threshold,
        p1_0.bulk_package_size,
        p1_0.bulk_package_unit,
        p1_0.certification,
        p1_0.country_of_origin,
        p1_0.created_at,
        p1_0.custom_attributes,
        p1_0.customer_segments,
        p1_0.deliverable,
        p1_0.description,
        p1_0.dimensions,
        p1_0.inactive,
        p1_0.is_bulk_item,
        p1_0.is_perishable,
        p1_0.is_wholesale_only,
        p1_0.maximum_order_quantity,
        p1_0.minimum_order_quantity,
        p1_0.package_quantity,
        p1_0.package_size,
        p1_0.photo,
        p1_0.price_including_tax,
        p1_0.family_code,
        p1_0.promo_sku_points,
        p1_0.reference,
        p1_0.requires_approval,
        p1_0.requires_cold_storage,
        p1_0.requires_contract,
        p1_0.sale_price,
        p1_0.sale_unit,
        p1_0.seasonality,
        p1_0.sku,
        p1_0.stock_tracking,
        p1_0.supplier_code,
        p1_0.supplier_name,
        p1_0.target_market,
        p1_0.tax_rate,
        p1_0.title,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.vendable,
        p1_0.visible,
        p1_0.weight,
        p1_0.weight_unit,
        p1_0.wholesale_discount_percentage,
        p1_0.wholesale_minimum_quantity,
        p1_0.wholesale_price,
        p1_0.wholesale_tier_1_price,
        p1_0.wholesale_tier_1_quantity,
        p1_0.wholesale_tier_2_price,
        p1_0.wholesale_tier_2_quantity,
        p1_0.wholesale_tier_3_price,
        p1_0.wholesale_tier_3_quantity 
    from
        products p1_0
2025-06-14 18:13:26 [main] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.code,
        pf1_0.created_at,
        pf1_0.description,
        pf1_0.is_active,
        pf1_0.name,
        pf1_0.updated_at 
    from
        product_families pf1_0 
    where
        pf1_0.code=?
2025-06-14 18:13:26 [main] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.code,
        pf1_0.created_at,
        pf1_0.description,
        pf1_0.is_active,
        pf1_0.name,
        pf1_0.updated_at 
    from
        product_families pf1_0 
    where
        pf1_0.code=?
2025-06-14 18:13:26 [main] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.code,
        pf1_0.created_at,
        pf1_0.description,
        pf1_0.is_active,
        pf1_0.name,
        pf1_0.updated_at 
    from
        product_families pf1_0 
    where
        pf1_0.code=?
2025-06-14 18:13:27 [main] ERROR m.f.o.s.p.s.CacheWarmingService - Error during cache warm-up
org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: ma.foodplus.ordering.system.product.model.Product.categories: could not initialize proxy - no Session
	at org.hibernate.collection.spi.AbstractPersistentCollection.throwLazyInitializationException(AbstractPersistentCollection.java:635)
	at org.hibernate.collection.spi.AbstractPersistentCollection.withTemporarySessionIfNeeded(AbstractPersistentCollection.java:219)
	at org.hibernate.collection.spi.AbstractPersistentCollection.readSize(AbstractPersistentCollection.java:150)
	at org.hibernate.collection.spi.PersistentBag.size(PersistentBag.java:353)
	at ma.foodplus.ordering.system.product.mapper.ProductPersistenceMapperImpl.categoryListToCategoryResponseList(ProductPersistenceMapperImpl.java:491)
	at ma.foodplus.ordering.system.product.mapper.ProductPersistenceMapperImpl.entityToResponse(ProductPersistenceMapperImpl.java:204)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682)
	at ma.foodplus.ordering.system.product.service.ProductService.getAllProducts(ProductService.java:102)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.cache.interceptor.CacheInterceptor.lambda$invoke$0(CacheInterceptor.java:55)
	at org.springframework.cache.interceptor.CacheAspectSupport.invokeOperation(CacheAspectSupport.java:431)
	at org.springframework.cache.interceptor.CacheAspectSupport.evaluate(CacheAspectSupport.java:601)
	at org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:448)
	at org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:410)
	at org.springframework.cache.interceptor.CacheInterceptor.invoke(CacheInterceptor.java:65)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at ma.foodplus.ordering.system.product.service.ProductService$$SpringCGLIB$$0.getAllProducts(<generated>)
	at ma.foodplus.ordering.system.product.service.CacheWarmingService.warmUpCache(CacheWarmingService.java:24)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.doInvoke(ApplicationListenerMethodAdapter.java:382)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.processEvent(ApplicationListenerMethodAdapter.java:254)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.onApplicationEvent(ApplicationListenerMethodAdapter.java:173)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:185)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:178)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:156)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:454)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:387)
	at org.springframework.boot.context.event.EventPublishingRunListener.ready(EventPublishingRunListener.java:109)
	at org.springframework.boot.SpringApplicationRunListeners.lambda$ready$6(SpringApplicationRunListeners.java:80)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:118)
	at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:112)
	at org.springframework.boot.SpringApplicationRunListeners.ready(SpringApplicationRunListeners.java:80)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:332)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1362)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1351)
	at ma.foodplus.ordering.system.FoodPlusOrderingApplication.main(FoodPlusOrderingApplication.java:22)
2025-06-14 18:13:27 [main] INFO  m.f.o.s.p.s.CacheWarmingService - Cache warm-up completed
2025-06-14 18:17:05 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-06-14 18:17:05 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-06-14 18:17:05 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-06-14 18:17:05 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-06-14 18:17:05 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-06-14 18:26:17 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - Starting FoodPlusOrderingApplication using Java 21.0.7 with PID 442588 (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes started by louki in /home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system)
2025-06-14 18:26:17 [main] DEBUG m.f.o.s.FoodPlusOrderingApplication - Running with Spring Boot v3.5.0, Spring v6.2.7
2025-06-14 18:26:17 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - The following 1 profile is active: "dev"
2025-06-14 18:26:18 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-14 18:26:18 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-14 18:26:18 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 145 ms. Found 12 JPA repository interfaces.
2025-06-14 18:26:19 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-14 18:26:19 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-06-14 18:26:19 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.common.repository.CategoryTarifRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 18:26:19 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.CustomerGroupRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 18:26:19 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.CustomerRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 18:26:19 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.ProductCustomerRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 18:26:19 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.DepotRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 18:26:19 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.ProductStockRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 18:26:19 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.SiteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 18:26:19 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.order.repository.OrderRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 18:26:19 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.product.repository.CategoryRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 18:26:19 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.product.repository.ProductAuditRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 18:26:19 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.product.repository.ProductRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 18:26:19 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.promos.repository.PromotionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 18:26:19 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 24 ms. Found 0 Redis repository interfaces.
2025-06-14 18:26:20 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8087 (http)
2025-06-14 18:26:20 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-14 18:26:20 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.41]
2025-06-14 18:26:20 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-14 18:26:20 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2854 ms
2025-06-14 18:26:20 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-06-14 18:26:21 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@7c88d04f
2025-06-14 18:26:21 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-06-14 18:26:21 [main] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://10.113.181.84:5432/foodplus_ordering (PostgreSQL 17.5)
2025-06-14 18:26:21 [main] INFO  o.f.core.internal.command.DbValidate - Successfully validated 5 migrations (execution time 00:00.036s)
2025-06-14 18:26:21 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "public": 1.7.2
2025-06-14 18:26:21 [main] WARN  o.f.core.internal.command.DbMigrate - outOfOrder mode is active. Migration of schema "public" may not be reproducible.
2025-06-14 18:26:21 [main] INFO  o.f.core.internal.command.DbMigrate - Schema "public" is up to date. No migration necessary.
2025-06-14 18:26:21 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-06-14 18:26:21 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.15.Final
2025-06-14 18:26:21 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-06-14 18:26:21 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-06-14 18:26:21 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 17.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-06-14 18:26:21 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-06-14 18:26:22 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-06-14 18:26:23 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-06-14 18:26:23 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-06-14 18:26:26 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-06-14 18:26:26 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 4 endpoints beneath base path '/actuator'
2025-06-14 18:26:26 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8087 (http) with context path '/'
2025-06-14 18:26:26 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - Started FoodPlusOrderingApplication in 10.154 seconds (process running for 10.718)
2025-06-14 18:26:26 [main] INFO  m.f.o.s.p.s.CacheWarmingService - Starting cache warm-up...
2025-06-14 18:26:26 [main] INFO  m.f.o.s.p.service.ProductService - Getting all products
2025-06-14 18:26:27 [main] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.additional_photos,
        p1_0.availability_schedule,
        p1_0.b2b_contract_discount_percentage,
        p1_0.b2b_contract_required,
        p1_0.b2b_credit_terms,
        p1_0.b2b_custom_pricing_enabled,
        p1_0.b2b_delivery_lead_time,
        p1_0.b2b_minimum_order_value,
        p1_0.b2b_payment_methods,
        p1_0.b2b_volume_discount_enabled,
        p1_0.b2c_display_in_catalog,
        p1_0.b2c_featured,
        p1_0.b2c_loyalty_points_multiplier,
        p1_0.b2c_promo_end_date,
        p1_0.b2c_promo_price,
        p1_0.b2c_promo_start_date,
        p1_0.b2c_rating,
        p1_0.b2c_retail_price,
        p1_0.b2c_review_count,
        p1_0.barcode,
        p1_0.bulk_discount_percentage,
        p1_0.bulk_discount_threshold,
        p1_0.bulk_package_size,
        p1_0.bulk_package_unit,
        p1_0.certification,
        p1_0.country_of_origin,
        p1_0.created_at,
        p1_0.custom_attributes,
        p1_0.customer_segments,
        p1_0.deliverable,
        p1_0.description,
        p1_0.dimensions,
        p1_0.inactive,
        p1_0.is_bulk_item,
        p1_0.is_perishable,
        p1_0.is_wholesale_only,
        p1_0.maximum_order_quantity,
        p1_0.minimum_order_quantity,
        p1_0.package_quantity,
        p1_0.package_size,
        p1_0.photo,
        p1_0.price_including_tax,
        p1_0.family_code,
        p1_0.promo_sku_points,
        p1_0.reference,
        p1_0.requires_approval,
        p1_0.requires_cold_storage,
        p1_0.requires_contract,
        p1_0.sale_price,
        p1_0.sale_unit,
        p1_0.seasonality,
        p1_0.sku,
        p1_0.stock_tracking,
        p1_0.supplier_code,
        p1_0.supplier_name,
        p1_0.target_market,
        p1_0.tax_rate,
        p1_0.title,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.vendable,
        p1_0.visible,
        p1_0.weight,
        p1_0.weight_unit,
        p1_0.wholesale_discount_percentage,
        p1_0.wholesale_minimum_quantity,
        p1_0.wholesale_price,
        p1_0.wholesale_tier_1_price,
        p1_0.wholesale_tier_1_quantity,
        p1_0.wholesale_tier_2_price,
        p1_0.wholesale_tier_2_quantity,
        p1_0.wholesale_tier_3_price,
        p1_0.wholesale_tier_3_quantity 
    from
        products p1_0
2025-06-14 18:26:27 [main] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.code,
        pf1_0.created_at,
        pf1_0.description,
        pf1_0.is_active,
        pf1_0.name,
        pf1_0.updated_at 
    from
        product_families pf1_0 
    where
        pf1_0.code=?
2025-06-14 18:26:27 [main] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.code,
        pf1_0.created_at,
        pf1_0.description,
        pf1_0.is_active,
        pf1_0.name,
        pf1_0.updated_at 
    from
        product_families pf1_0 
    where
        pf1_0.code=?
2025-06-14 18:26:27 [main] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.code,
        pf1_0.created_at,
        pf1_0.description,
        pf1_0.is_active,
        pf1_0.name,
        pf1_0.updated_at 
    from
        product_families pf1_0 
    where
        pf1_0.code=?
2025-06-14 18:26:27 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.product_id,
        c1_1.id,
        c1_1.code,
        c1_1.created_at,
        c1_1.description,
        c1_1.is_active,
        c1_1.level,
        c1_1.name,
        c1_1.parent_id,
        c1_1.updated_at 
    from
        product_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.product_id=?
2025-06-14 18:26:27 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.product_id,
        c1_1.id,
        c1_1.code,
        c1_1.created_at,
        c1_1.description,
        c1_1.is_active,
        c1_1.level,
        c1_1.name,
        c1_1.parent_id,
        c1_1.updated_at 
    from
        product_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.product_id=?
2025-06-14 18:26:27 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.product_id,
        c1_1.id,
        c1_1.code,
        c1_1.created_at,
        c1_1.description,
        c1_1.is_active,
        c1_1.level,
        c1_1.name,
        c1_1.parent_id,
        c1_1.updated_at 
    from
        product_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.product_id=?
2025-06-14 18:26:27 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.product_id,
        c1_1.id,
        c1_1.code,
        c1_1.created_at,
        c1_1.description,
        c1_1.is_active,
        c1_1.level,
        c1_1.name,
        c1_1.parent_id,
        c1_1.updated_at 
    from
        product_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.product_id=?
2025-06-14 18:26:27 [main] INFO  m.f.o.s.p.s.CacheWarmingService - Warmed up all products cache
2025-06-14 18:26:27 [main] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.additional_photos,
        p1_0.availability_schedule,
        p1_0.b2b_contract_discount_percentage,
        p1_0.b2b_contract_required,
        p1_0.b2b_credit_terms,
        p1_0.b2b_custom_pricing_enabled,
        p1_0.b2b_delivery_lead_time,
        p1_0.b2b_minimum_order_value,
        p1_0.b2b_payment_methods,
        p1_0.b2b_volume_discount_enabled,
        p1_0.b2c_display_in_catalog,
        p1_0.b2c_featured,
        p1_0.b2c_loyalty_points_multiplier,
        p1_0.b2c_promo_end_date,
        p1_0.b2c_promo_price,
        p1_0.b2c_promo_start_date,
        p1_0.b2c_rating,
        p1_0.b2c_retail_price,
        p1_0.b2c_review_count,
        p1_0.barcode,
        p1_0.bulk_discount_percentage,
        p1_0.bulk_discount_threshold,
        p1_0.bulk_package_size,
        p1_0.bulk_package_unit,
        p1_0.certification,
        p1_0.country_of_origin,
        p1_0.created_at,
        p1_0.custom_attributes,
        p1_0.customer_segments,
        p1_0.deliverable,
        p1_0.description,
        p1_0.dimensions,
        p1_0.inactive,
        p1_0.is_bulk_item,
        p1_0.is_perishable,
        p1_0.is_wholesale_only,
        p1_0.maximum_order_quantity,
        p1_0.minimum_order_quantity,
        p1_0.package_quantity,
        p1_0.package_size,
        p1_0.photo,
        p1_0.price_including_tax,
        p1_0.family_code,
        p1_0.promo_sku_points,
        p1_0.reference,
        p1_0.requires_approval,
        p1_0.requires_cold_storage,
        p1_0.requires_contract,
        p1_0.sale_price,
        p1_0.sale_unit,
        p1_0.seasonality,
        p1_0.sku,
        p1_0.stock_tracking,
        p1_0.supplier_code,
        p1_0.supplier_name,
        p1_0.target_market,
        p1_0.tax_rate,
        p1_0.title,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.vendable,
        p1_0.visible,
        p1_0.weight,
        p1_0.weight_unit,
        p1_0.wholesale_discount_percentage,
        p1_0.wholesale_minimum_quantity,
        p1_0.wholesale_price,
        p1_0.wholesale_tier_1_price,
        p1_0.wholesale_tier_1_quantity,
        p1_0.wholesale_tier_2_price,
        p1_0.wholesale_tier_2_quantity,
        p1_0.wholesale_tier_3_price,
        p1_0.wholesale_tier_3_quantity 
    from
        products p1_0 
    where
        p1_0.deliverable
2025-06-14 18:26:27 [main] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.code,
        pf1_0.created_at,
        pf1_0.description,
        pf1_0.is_active,
        pf1_0.name,
        pf1_0.updated_at 
    from
        product_families pf1_0 
    where
        pf1_0.code=?
2025-06-14 18:26:27 [main] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.code,
        pf1_0.created_at,
        pf1_0.description,
        pf1_0.is_active,
        pf1_0.name,
        pf1_0.updated_at 
    from
        product_families pf1_0 
    where
        pf1_0.code=?
2025-06-14 18:26:27 [main] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.code,
        pf1_0.created_at,
        pf1_0.description,
        pf1_0.is_active,
        pf1_0.name,
        pf1_0.updated_at 
    from
        product_families pf1_0 
    where
        pf1_0.code=?
2025-06-14 18:26:27 [main] ERROR m.f.o.s.p.s.CacheWarmingService - Error during cache warm-up
org.hibernate.LazyInitializationException: failed to lazily initialize a collection of role: ma.foodplus.ordering.system.product.model.Product.categories: could not initialize proxy - no Session
	at org.hibernate.collection.spi.AbstractPersistentCollection.throwLazyInitializationException(AbstractPersistentCollection.java:635)
	at org.hibernate.collection.spi.AbstractPersistentCollection.withTemporarySessionIfNeeded(AbstractPersistentCollection.java:219)
	at org.hibernate.collection.spi.AbstractPersistentCollection.initialize(AbstractPersistentCollection.java:614)
	at org.hibernate.collection.spi.AbstractPersistentCollection.read(AbstractPersistentCollection.java:138)
	at org.hibernate.collection.spi.PersistentBag.iterator(PersistentBag.java:369)
	at java.base/java.util.Spliterators$IteratorSpliterator.estimateSize(Spliterators.java:1959)
	at java.base/java.util.Spliterator.getExactSizeIfKnown(Spliterator.java:414)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:508)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682)
	at ma.foodplus.ordering.system.product.mapper.ProductPersistenceMapper.mapCategories(ProductPersistenceMapper.java:111)
	at ma.foodplus.ordering.system.product.mapper.ProductPersistenceMapperImpl.entityToResponse(ProductPersistenceMapperImpl.java:202)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:921)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:682)
	at ma.foodplus.ordering.system.product.service.ProductService.getDeliverableProducts(ProductService.java:87)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.cache.interceptor.CacheInterceptor.lambda$invoke$0(CacheInterceptor.java:55)
	at org.springframework.cache.interceptor.CacheAspectSupport.invokeOperation(CacheAspectSupport.java:431)
	at org.springframework.cache.interceptor.CacheAspectSupport.evaluate(CacheAspectSupport.java:601)
	at org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:448)
	at org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:410)
	at org.springframework.cache.interceptor.CacheInterceptor.invoke(CacheInterceptor.java:65)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at ma.foodplus.ordering.system.product.service.ProductService$$SpringCGLIB$$0.getDeliverableProducts(<generated>)
	at ma.foodplus.ordering.system.product.service.CacheWarmingService.warmUpCache(CacheWarmingService.java:28)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.doInvoke(ApplicationListenerMethodAdapter.java:382)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.processEvent(ApplicationListenerMethodAdapter.java:254)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.onApplicationEvent(ApplicationListenerMethodAdapter.java:173)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:185)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:178)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:156)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:454)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:387)
	at org.springframework.boot.context.event.EventPublishingRunListener.ready(EventPublishingRunListener.java:109)
	at org.springframework.boot.SpringApplicationRunListeners.lambda$ready$6(SpringApplicationRunListeners.java:80)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:118)
	at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:112)
	at org.springframework.boot.SpringApplicationRunListeners.ready(SpringApplicationRunListeners.java:80)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:332)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1362)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1351)
	at ma.foodplus.ordering.system.FoodPlusOrderingApplication.main(FoodPlusOrderingApplication.java:22)
2025-06-14 18:26:27 [main] INFO  m.f.o.s.p.s.CacheWarmingService - Cache warm-up completed
2025-06-14 18:26:58 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-06-14 18:26:58 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-06-14 18:26:58 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-06-14 18:26:58 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-06-14 18:26:58 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-06-14 18:28:07 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - Starting FoodPlusOrderingApplication using Java 21.0.7 with PID 443960 (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes started by louki in /home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system)
2025-06-14 18:28:07 [main] DEBUG m.f.o.s.FoodPlusOrderingApplication - Running with Spring Boot v3.5.0, Spring v6.2.7
2025-06-14 18:28:07 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - The following 1 profile is active: "dev"
2025-06-14 18:28:08 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-14 18:28:08 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-14 18:28:09 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 138 ms. Found 12 JPA repository interfaces.
2025-06-14 18:28:09 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-14 18:28:09 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-06-14 18:28:09 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.common.repository.CategoryTarifRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 18:28:09 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.CustomerGroupRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 18:28:09 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.CustomerRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 18:28:09 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.ProductCustomerRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 18:28:09 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.DepotRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 18:28:09 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.ProductStockRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 18:28:09 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.SiteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 18:28:09 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.order.repository.OrderRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 18:28:09 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.product.repository.CategoryRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 18:28:09 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.product.repository.ProductAuditRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 18:28:09 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.product.repository.ProductRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 18:28:09 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.promos.repository.PromotionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 18:28:09 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 24 ms. Found 0 Redis repository interfaces.
2025-06-14 18:28:10 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8087 (http)
2025-06-14 18:28:10 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-14 18:28:10 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.41]
2025-06-14 18:28:10 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-14 18:28:10 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2735 ms
2025-06-14 18:28:11 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-06-14 18:28:11 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@58b03029
2025-06-14 18:28:11 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-06-14 18:28:11 [main] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://10.113.181.84:5432/foodplus_ordering (PostgreSQL 17.5)
2025-06-14 18:28:11 [main] INFO  o.f.core.internal.command.DbValidate - Successfully validated 5 migrations (execution time 00:00.035s)
2025-06-14 18:28:11 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "public": 1.7.2
2025-06-14 18:28:11 [main] WARN  o.f.core.internal.command.DbMigrate - outOfOrder mode is active. Migration of schema "public" may not be reproducible.
2025-06-14 18:28:11 [main] INFO  o.f.core.internal.command.DbMigrate - Schema "public" is up to date. No migration necessary.
2025-06-14 18:28:12 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-06-14 18:28:12 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.15.Final
2025-06-14 18:28:12 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-06-14 18:28:12 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-06-14 18:28:12 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 17.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-06-14 18:28:12 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-06-14 18:28:14 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-06-14 18:28:14 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-06-14 18:28:14 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-06-14 18:28:17 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-06-14 18:28:18 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 4 endpoints beneath base path '/actuator'
2025-06-14 18:28:18 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8087 (http) with context path '/'
2025-06-14 18:28:18 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - Started FoodPlusOrderingApplication in 11.012 seconds (process running for 11.32)
2025-06-14 18:28:18 [main] INFO  m.f.o.s.p.s.CacheWarmingService - Starting cache warm-up...
2025-06-14 18:28:18 [main] INFO  m.f.o.s.p.service.ProductService - Getting all products
2025-06-14 18:28:18 [main] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.additional_photos,
        p1_0.availability_schedule,
        p1_0.b2b_contract_discount_percentage,
        p1_0.b2b_contract_required,
        p1_0.b2b_credit_terms,
        p1_0.b2b_custom_pricing_enabled,
        p1_0.b2b_delivery_lead_time,
        p1_0.b2b_minimum_order_value,
        p1_0.b2b_payment_methods,
        p1_0.b2b_volume_discount_enabled,
        p1_0.b2c_display_in_catalog,
        p1_0.b2c_featured,
        p1_0.b2c_loyalty_points_multiplier,
        p1_0.b2c_promo_end_date,
        p1_0.b2c_promo_price,
        p1_0.b2c_promo_start_date,
        p1_0.b2c_rating,
        p1_0.b2c_retail_price,
        p1_0.b2c_review_count,
        p1_0.barcode,
        p1_0.bulk_discount_percentage,
        p1_0.bulk_discount_threshold,
        p1_0.bulk_package_size,
        p1_0.bulk_package_unit,
        p1_0.certification,
        p1_0.country_of_origin,
        p1_0.created_at,
        p1_0.custom_attributes,
        p1_0.customer_segments,
        p1_0.deliverable,
        p1_0.description,
        p1_0.dimensions,
        p1_0.inactive,
        p1_0.is_bulk_item,
        p1_0.is_perishable,
        p1_0.is_wholesale_only,
        p1_0.maximum_order_quantity,
        p1_0.minimum_order_quantity,
        p1_0.package_quantity,
        p1_0.package_size,
        p1_0.photo,
        p1_0.price_including_tax,
        p1_0.family_code,
        p1_0.promo_sku_points,
        p1_0.reference,
        p1_0.requires_approval,
        p1_0.requires_cold_storage,
        p1_0.requires_contract,
        p1_0.sale_price,
        p1_0.sale_unit,
        p1_0.seasonality,
        p1_0.sku,
        p1_0.stock_tracking,
        p1_0.supplier_code,
        p1_0.supplier_name,
        p1_0.target_market,
        p1_0.tax_rate,
        p1_0.title,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.vendable,
        p1_0.visible,
        p1_0.weight,
        p1_0.weight_unit,
        p1_0.wholesale_discount_percentage,
        p1_0.wholesale_minimum_quantity,
        p1_0.wholesale_price,
        p1_0.wholesale_tier_1_price,
        p1_0.wholesale_tier_1_quantity,
        p1_0.wholesale_tier_2_price,
        p1_0.wholesale_tier_2_quantity,
        p1_0.wholesale_tier_3_price,
        p1_0.wholesale_tier_3_quantity 
    from
        products p1_0
2025-06-14 18:28:18 [main] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.code,
        pf1_0.created_at,
        pf1_0.description,
        pf1_0.is_active,
        pf1_0.name,
        pf1_0.updated_at 
    from
        product_families pf1_0 
    where
        pf1_0.code=?
2025-06-14 18:28:18 [main] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.code,
        pf1_0.created_at,
        pf1_0.description,
        pf1_0.is_active,
        pf1_0.name,
        pf1_0.updated_at 
    from
        product_families pf1_0 
    where
        pf1_0.code=?
2025-06-14 18:28:18 [main] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.code,
        pf1_0.created_at,
        pf1_0.description,
        pf1_0.is_active,
        pf1_0.name,
        pf1_0.updated_at 
    from
        product_families pf1_0 
    where
        pf1_0.code=?
2025-06-14 18:28:18 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.product_id,
        c1_1.id,
        c1_1.code,
        c1_1.created_at,
        c1_1.description,
        c1_1.is_active,
        c1_1.level,
        c1_1.name,
        c1_1.parent_id,
        c1_1.updated_at 
    from
        product_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.product_id=?
2025-06-14 18:28:18 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.product_id,
        c1_1.id,
        c1_1.code,
        c1_1.created_at,
        c1_1.description,
        c1_1.is_active,
        c1_1.level,
        c1_1.name,
        c1_1.parent_id,
        c1_1.updated_at 
    from
        product_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.product_id=?
2025-06-14 18:28:18 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.product_id,
        c1_1.id,
        c1_1.code,
        c1_1.created_at,
        c1_1.description,
        c1_1.is_active,
        c1_1.level,
        c1_1.name,
        c1_1.parent_id,
        c1_1.updated_at 
    from
        product_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.product_id=?
2025-06-14 18:28:18 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.product_id,
        c1_1.id,
        c1_1.code,
        c1_1.created_at,
        c1_1.description,
        c1_1.is_active,
        c1_1.level,
        c1_1.name,
        c1_1.parent_id,
        c1_1.updated_at 
    from
        product_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.product_id=?
2025-06-14 18:28:18 [main] INFO  m.f.o.s.p.s.CacheWarmingService - Warmed up all products cache
2025-06-14 18:28:18 [main] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.additional_photos,
        p1_0.availability_schedule,
        p1_0.b2b_contract_discount_percentage,
        p1_0.b2b_contract_required,
        p1_0.b2b_credit_terms,
        p1_0.b2b_custom_pricing_enabled,
        p1_0.b2b_delivery_lead_time,
        p1_0.b2b_minimum_order_value,
        p1_0.b2b_payment_methods,
        p1_0.b2b_volume_discount_enabled,
        p1_0.b2c_display_in_catalog,
        p1_0.b2c_featured,
        p1_0.b2c_loyalty_points_multiplier,
        p1_0.b2c_promo_end_date,
        p1_0.b2c_promo_price,
        p1_0.b2c_promo_start_date,
        p1_0.b2c_rating,
        p1_0.b2c_retail_price,
        p1_0.b2c_review_count,
        p1_0.barcode,
        p1_0.bulk_discount_percentage,
        p1_0.bulk_discount_threshold,
        p1_0.bulk_package_size,
        p1_0.bulk_package_unit,
        p1_0.certification,
        p1_0.country_of_origin,
        p1_0.created_at,
        p1_0.custom_attributes,
        p1_0.customer_segments,
        p1_0.deliverable,
        p1_0.description,
        p1_0.dimensions,
        p1_0.inactive,
        p1_0.is_bulk_item,
        p1_0.is_perishable,
        p1_0.is_wholesale_only,
        p1_0.maximum_order_quantity,
        p1_0.minimum_order_quantity,
        p1_0.package_quantity,
        p1_0.package_size,
        p1_0.photo,
        p1_0.price_including_tax,
        p1_0.family_code,
        p1_0.promo_sku_points,
        p1_0.reference,
        p1_0.requires_approval,
        p1_0.requires_cold_storage,
        p1_0.requires_contract,
        p1_0.sale_price,
        p1_0.sale_unit,
        p1_0.seasonality,
        p1_0.sku,
        p1_0.stock_tracking,
        p1_0.supplier_code,
        p1_0.supplier_name,
        p1_0.target_market,
        p1_0.tax_rate,
        p1_0.title,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.vendable,
        p1_0.visible,
        p1_0.weight,
        p1_0.weight_unit,
        p1_0.wholesale_discount_percentage,
        p1_0.wholesale_minimum_quantity,
        p1_0.wholesale_price,
        p1_0.wholesale_tier_1_price,
        p1_0.wholesale_tier_1_quantity,
        p1_0.wholesale_tier_2_price,
        p1_0.wholesale_tier_2_quantity,
        p1_0.wholesale_tier_3_price,
        p1_0.wholesale_tier_3_quantity 
    from
        products p1_0 
    where
        p1_0.deliverable
2025-06-14 18:28:18 [main] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.code,
        pf1_0.created_at,
        pf1_0.description,
        pf1_0.is_active,
        pf1_0.name,
        pf1_0.updated_at 
    from
        product_families pf1_0 
    where
        pf1_0.code=?
2025-06-14 18:28:18 [main] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.code,
        pf1_0.created_at,
        pf1_0.description,
        pf1_0.is_active,
        pf1_0.name,
        pf1_0.updated_at 
    from
        product_families pf1_0 
    where
        pf1_0.code=?
2025-06-14 18:28:18 [main] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.code,
        pf1_0.created_at,
        pf1_0.description,
        pf1_0.is_active,
        pf1_0.name,
        pf1_0.updated_at 
    from
        product_families pf1_0 
    where
        pf1_0.code=?
2025-06-14 18:28:18 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.product_id,
        c1_1.id,
        c1_1.code,
        c1_1.created_at,
        c1_1.description,
        c1_1.is_active,
        c1_1.level,
        c1_1.name,
        c1_1.parent_id,
        c1_1.updated_at 
    from
        product_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.product_id=?
2025-06-14 18:28:18 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.product_id,
        c1_1.id,
        c1_1.code,
        c1_1.created_at,
        c1_1.description,
        c1_1.is_active,
        c1_1.level,
        c1_1.name,
        c1_1.parent_id,
        c1_1.updated_at 
    from
        product_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.product_id=?
2025-06-14 18:28:18 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.product_id,
        c1_1.id,
        c1_1.code,
        c1_1.created_at,
        c1_1.description,
        c1_1.is_active,
        c1_1.level,
        c1_1.name,
        c1_1.parent_id,
        c1_1.updated_at 
    from
        product_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.product_id=?
2025-06-14 18:28:18 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.product_id,
        c1_1.id,
        c1_1.code,
        c1_1.created_at,
        c1_1.description,
        c1_1.is_active,
        c1_1.level,
        c1_1.name,
        c1_1.parent_id,
        c1_1.updated_at 
    from
        product_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.product_id=?
2025-06-14 18:28:18 [main] ERROR m.f.o.s.p.s.CacheWarmingService - Error during cache warm-up
org.springframework.data.redis.serializer.SerializationException: Could not write JSON: Java 8 date/time type `java.time.ZonedDateTime` not supported by default: add Module "com.fasterxml.jackson.datatype:jackson-datatype-jsr310" to enable handling (or disable `MapperFeature.REQUIRE_HANDLERS_FOR_JAVA8_TIMES`) (through reference chain: java.util.ArrayList[0]->ma.foodplus.ordering.system.product.dto.response.ProductResponse["createdAt"])
	at org.springframework.data.redis.serializer.GenericJackson2JsonRedisSerializer.serialize(GenericJackson2JsonRedisSerializer.java:274)
	at org.springframework.data.redis.serializer.DefaultRedisElementWriter.write(DefaultRedisElementWriter.java:42)
	at org.springframework.data.redis.serializer.RedisSerializationContext$SerializationPair.write(RedisSerializationContext.java:292)
	at org.springframework.data.redis.cache.RedisCache.serializeCacheValue(RedisCache.java:343)
	at org.springframework.data.redis.cache.RedisCache.put(RedisCache.java:204)
	at org.springframework.cache.interceptor.AbstractCacheInvoker.doPut(AbstractCacheInvoker.java:157)
	at org.springframework.cache.interceptor.CacheAspectSupport$CachePutRequest.performCachePut(CacheAspectSupport.java:1087)
	at org.springframework.cache.interceptor.CacheAspectSupport$CachePutRequest.apply(CacheAspectSupport.java:1072)
	at org.springframework.cache.interceptor.CacheAspectSupport.evaluate(CacheAspectSupport.java:616)
	at org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:448)
	at org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:410)
	at org.springframework.cache.interceptor.CacheInterceptor.invoke(CacheInterceptor.java:65)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at ma.foodplus.ordering.system.product.service.ProductService$$SpringCGLIB$$0.getDeliverableProducts(<generated>)
	at ma.foodplus.ordering.system.product.service.CacheWarmingService.warmUpCache(CacheWarmingService.java:28)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.doInvoke(ApplicationListenerMethodAdapter.java:382)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.processEvent(ApplicationListenerMethodAdapter.java:254)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.onApplicationEvent(ApplicationListenerMethodAdapter.java:173)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:185)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:178)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:156)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:454)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:387)
	at org.springframework.boot.context.event.EventPublishingRunListener.ready(EventPublishingRunListener.java:109)
	at org.springframework.boot.SpringApplicationRunListeners.lambda$ready$6(SpringApplicationRunListeners.java:80)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:118)
	at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:112)
	at org.springframework.boot.SpringApplicationRunListeners.ready(SpringApplicationRunListeners.java:80)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:332)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1362)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1351)
	at ma.foodplus.ordering.system.FoodPlusOrderingApplication.main(FoodPlusOrderingApplication.java:22)
Caused by: com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Java 8 date/time type `java.time.ZonedDateTime` not supported by default: add Module "com.fasterxml.jackson.datatype:jackson-datatype-jsr310" to enable handling (or disable `MapperFeature.REQUIRE_HANDLERS_FOR_JAVA8_TIMES`) (through reference chain: java.util.ArrayList[0]->ma.foodplus.ordering.system.product.dto.response.ProductResponse["createdAt"])
	at com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:77)
	at com.fasterxml.jackson.databind.SerializerProvider.reportBadDefinition(SerializerProvider.java:1359)
	at com.fasterxml.jackson.databind.ser.impl.UnsupportedTypeSerializer.serialize(UnsupportedTypeSerializer.java:34)
	at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:732)
	at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:760)
	at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeWithType(BeanSerializerBase.java:643)
	at com.fasterxml.jackson.databind.ser.impl.IndexedListSerializer.serializeTypedContents(IndexedListSerializer.java:181)
	at com.fasterxml.jackson.databind.ser.impl.IndexedListSerializer.serializeContents(IndexedListSerializer.java:92)
	at com.fasterxml.jackson.databind.ser.impl.IndexedListSerializer.serializeContents(IndexedListSerializer.java:18)
	at com.fasterxml.jackson.databind.ser.std.AsArraySerializerBase.serializeWithType(AsArraySerializerBase.java:265)
	at com.fasterxml.jackson.databind.ser.impl.TypeWrappedSerializer.serialize(TypeWrappedSerializer.java:32)
	at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider._serialize(DefaultSerializerProvider.java:503)
	at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider.serializeValue(DefaultSerializerProvider.java:342)
	at com.fasterxml.jackson.databind.ObjectMapper._writeValueAndClose(ObjectMapper.java:4859)
	at com.fasterxml.jackson.databind.ObjectMapper.writeValueAsBytes(ObjectMapper.java:4104)
	at org.springframework.data.redis.serializer.GenericJackson2JsonRedisSerializer.serialize(GenericJackson2JsonRedisSerializer.java:272)
	... 38 common frames omitted
2025-06-14 18:28:18 [main] INFO  m.f.o.s.p.s.CacheWarmingService - Cache warm-up completed
2025-06-14 18:28:32 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-06-14 18:28:32 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-06-14 18:28:32 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-06-14 18:28:32 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-06-14 18:28:32 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-06-14 18:31:19 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - Starting FoodPlusOrderingApplication using Java 21.0.7 with PID 447034 (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes started by louki in /home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system)
2025-06-14 18:31:19 [main] DEBUG m.f.o.s.FoodPlusOrderingApplication - Running with Spring Boot v3.5.0, Spring v6.2.7
2025-06-14 18:31:19 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - The following 1 profile is active: "dev"
2025-06-14 18:31:20 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-14 18:31:20 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-14 18:31:20 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 104 ms. Found 12 JPA repository interfaces.
2025-06-14 18:31:20 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-14 18:31:20 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-06-14 18:31:20 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.common.repository.CategoryTarifRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 18:31:20 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.CustomerGroupRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 18:31:20 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.CustomerRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 18:31:20 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.ProductCustomerRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 18:31:20 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.DepotRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 18:31:20 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.ProductStockRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 18:31:20 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.SiteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 18:31:20 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.order.repository.OrderRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 18:31:20 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.product.repository.CategoryRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 18:31:20 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.product.repository.ProductAuditRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 18:31:20 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.product.repository.ProductRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 18:31:20 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.promos.repository.PromotionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 18:31:20 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 18 ms. Found 0 Redis repository interfaces.
2025-06-14 18:31:21 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8087 (http)
2025-06-14 18:31:21 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-14 18:31:21 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.41]
2025-06-14 18:31:21 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-14 18:31:21 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1822 ms
2025-06-14 18:31:21 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-06-14 18:31:21 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@3a12f3e7
2025-06-14 18:31:21 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-06-14 18:31:21 [main] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://10.113.181.84:5432/foodplus_ordering (PostgreSQL 17.5)
2025-06-14 18:31:22 [main] INFO  o.f.core.internal.command.DbValidate - Successfully validated 5 migrations (execution time 00:00.034s)
2025-06-14 18:31:22 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "public": 1.7.2
2025-06-14 18:31:22 [main] WARN  o.f.core.internal.command.DbMigrate - outOfOrder mode is active. Migration of schema "public" may not be reproducible.
2025-06-14 18:31:22 [main] INFO  o.f.core.internal.command.DbMigrate - Schema "public" is up to date. No migration necessary.
2025-06-14 18:31:22 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-06-14 18:31:22 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.15.Final
2025-06-14 18:31:22 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-06-14 18:31:22 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-06-14 18:31:22 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 17.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-06-14 18:31:22 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-06-14 18:31:23 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-06-14 18:31:23 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-06-14 18:31:23 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-06-14 18:31:25 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-06-14 18:31:26 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 4 endpoints beneath base path '/actuator'
2025-06-14 18:31:26 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8087 (http) with context path '/'
2025-06-14 18:31:26 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - Started FoodPlusOrderingApplication in 7.706 seconds (process running for 8.272)
2025-06-14 18:31:26 [main] INFO  m.f.o.s.p.s.CacheWarmingService - Starting cache warm-up...
2025-06-14 18:31:26 [main] INFO  m.f.o.s.p.service.ProductService - Getting all products
2025-06-14 18:31:26 [main] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.additional_photos,
        p1_0.availability_schedule,
        p1_0.b2b_contract_discount_percentage,
        p1_0.b2b_contract_required,
        p1_0.b2b_credit_terms,
        p1_0.b2b_custom_pricing_enabled,
        p1_0.b2b_delivery_lead_time,
        p1_0.b2b_minimum_order_value,
        p1_0.b2b_payment_methods,
        p1_0.b2b_volume_discount_enabled,
        p1_0.b2c_display_in_catalog,
        p1_0.b2c_featured,
        p1_0.b2c_loyalty_points_multiplier,
        p1_0.b2c_promo_end_date,
        p1_0.b2c_promo_price,
        p1_0.b2c_promo_start_date,
        p1_0.b2c_rating,
        p1_0.b2c_retail_price,
        p1_0.b2c_review_count,
        p1_0.barcode,
        p1_0.bulk_discount_percentage,
        p1_0.bulk_discount_threshold,
        p1_0.bulk_package_size,
        p1_0.bulk_package_unit,
        p1_0.certification,
        p1_0.country_of_origin,
        p1_0.created_at,
        p1_0.custom_attributes,
        p1_0.customer_segments,
        p1_0.deliverable,
        p1_0.description,
        p1_0.dimensions,
        p1_0.inactive,
        p1_0.is_bulk_item,
        p1_0.is_perishable,
        p1_0.is_wholesale_only,
        p1_0.maximum_order_quantity,
        p1_0.minimum_order_quantity,
        p1_0.package_quantity,
        p1_0.package_size,
        p1_0.photo,
        p1_0.price_including_tax,
        p1_0.family_code,
        p1_0.promo_sku_points,
        p1_0.reference,
        p1_0.requires_approval,
        p1_0.requires_cold_storage,
        p1_0.requires_contract,
        p1_0.sale_price,
        p1_0.sale_unit,
        p1_0.seasonality,
        p1_0.sku,
        p1_0.stock_tracking,
        p1_0.supplier_code,
        p1_0.supplier_name,
        p1_0.target_market,
        p1_0.tax_rate,
        p1_0.title,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.vendable,
        p1_0.visible,
        p1_0.weight,
        p1_0.weight_unit,
        p1_0.wholesale_discount_percentage,
        p1_0.wholesale_minimum_quantity,
        p1_0.wholesale_price,
        p1_0.wholesale_tier_1_price,
        p1_0.wholesale_tier_1_quantity,
        p1_0.wholesale_tier_2_price,
        p1_0.wholesale_tier_2_quantity,
        p1_0.wholesale_tier_3_price,
        p1_0.wholesale_tier_3_quantity 
    from
        products p1_0
2025-06-14 18:31:26 [main] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.code,
        pf1_0.created_at,
        pf1_0.description,
        pf1_0.is_active,
        pf1_0.name,
        pf1_0.updated_at 
    from
        product_families pf1_0 
    where
        pf1_0.code=?
2025-06-14 18:31:26 [main] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.code,
        pf1_0.created_at,
        pf1_0.description,
        pf1_0.is_active,
        pf1_0.name,
        pf1_0.updated_at 
    from
        product_families pf1_0 
    where
        pf1_0.code=?
2025-06-14 18:31:26 [main] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.code,
        pf1_0.created_at,
        pf1_0.description,
        pf1_0.is_active,
        pf1_0.name,
        pf1_0.updated_at 
    from
        product_families pf1_0 
    where
        pf1_0.code=?
2025-06-14 18:31:26 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.product_id,
        c1_1.id,
        c1_1.code,
        c1_1.created_at,
        c1_1.description,
        c1_1.is_active,
        c1_1.level,
        c1_1.name,
        c1_1.parent_id,
        c1_1.updated_at 
    from
        product_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.product_id=?
2025-06-14 18:31:26 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.product_id,
        c1_1.id,
        c1_1.code,
        c1_1.created_at,
        c1_1.description,
        c1_1.is_active,
        c1_1.level,
        c1_1.name,
        c1_1.parent_id,
        c1_1.updated_at 
    from
        product_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.product_id=?
2025-06-14 18:31:26 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.product_id,
        c1_1.id,
        c1_1.code,
        c1_1.created_at,
        c1_1.description,
        c1_1.is_active,
        c1_1.level,
        c1_1.name,
        c1_1.parent_id,
        c1_1.updated_at 
    from
        product_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.product_id=?
2025-06-14 18:31:26 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.product_id,
        c1_1.id,
        c1_1.code,
        c1_1.created_at,
        c1_1.description,
        c1_1.is_active,
        c1_1.level,
        c1_1.name,
        c1_1.parent_id,
        c1_1.updated_at 
    from
        product_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.product_id=?
2025-06-14 18:31:26 [main] INFO  m.f.o.s.p.s.CacheWarmingService - Warmed up all products cache
2025-06-14 18:31:26 [main] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.additional_photos,
        p1_0.availability_schedule,
        p1_0.b2b_contract_discount_percentage,
        p1_0.b2b_contract_required,
        p1_0.b2b_credit_terms,
        p1_0.b2b_custom_pricing_enabled,
        p1_0.b2b_delivery_lead_time,
        p1_0.b2b_minimum_order_value,
        p1_0.b2b_payment_methods,
        p1_0.b2b_volume_discount_enabled,
        p1_0.b2c_display_in_catalog,
        p1_0.b2c_featured,
        p1_0.b2c_loyalty_points_multiplier,
        p1_0.b2c_promo_end_date,
        p1_0.b2c_promo_price,
        p1_0.b2c_promo_start_date,
        p1_0.b2c_rating,
        p1_0.b2c_retail_price,
        p1_0.b2c_review_count,
        p1_0.barcode,
        p1_0.bulk_discount_percentage,
        p1_0.bulk_discount_threshold,
        p1_0.bulk_package_size,
        p1_0.bulk_package_unit,
        p1_0.certification,
        p1_0.country_of_origin,
        p1_0.created_at,
        p1_0.custom_attributes,
        p1_0.customer_segments,
        p1_0.deliverable,
        p1_0.description,
        p1_0.dimensions,
        p1_0.inactive,
        p1_0.is_bulk_item,
        p1_0.is_perishable,
        p1_0.is_wholesale_only,
        p1_0.maximum_order_quantity,
        p1_0.minimum_order_quantity,
        p1_0.package_quantity,
        p1_0.package_size,
        p1_0.photo,
        p1_0.price_including_tax,
        p1_0.family_code,
        p1_0.promo_sku_points,
        p1_0.reference,
        p1_0.requires_approval,
        p1_0.requires_cold_storage,
        p1_0.requires_contract,
        p1_0.sale_price,
        p1_0.sale_unit,
        p1_0.seasonality,
        p1_0.sku,
        p1_0.stock_tracking,
        p1_0.supplier_code,
        p1_0.supplier_name,
        p1_0.target_market,
        p1_0.tax_rate,
        p1_0.title,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.vendable,
        p1_0.visible,
        p1_0.weight,
        p1_0.weight_unit,
        p1_0.wholesale_discount_percentage,
        p1_0.wholesale_minimum_quantity,
        p1_0.wholesale_price,
        p1_0.wholesale_tier_1_price,
        p1_0.wholesale_tier_1_quantity,
        p1_0.wholesale_tier_2_price,
        p1_0.wholesale_tier_2_quantity,
        p1_0.wholesale_tier_3_price,
        p1_0.wholesale_tier_3_quantity 
    from
        products p1_0 
    where
        p1_0.deliverable
2025-06-14 18:31:26 [main] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.code,
        pf1_0.created_at,
        pf1_0.description,
        pf1_0.is_active,
        pf1_0.name,
        pf1_0.updated_at 
    from
        product_families pf1_0 
    where
        pf1_0.code=?
2025-06-14 18:31:26 [main] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.code,
        pf1_0.created_at,
        pf1_0.description,
        pf1_0.is_active,
        pf1_0.name,
        pf1_0.updated_at 
    from
        product_families pf1_0 
    where
        pf1_0.code=?
2025-06-14 18:31:26 [main] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.code,
        pf1_0.created_at,
        pf1_0.description,
        pf1_0.is_active,
        pf1_0.name,
        pf1_0.updated_at 
    from
        product_families pf1_0 
    where
        pf1_0.code=?
2025-06-14 18:31:26 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.product_id,
        c1_1.id,
        c1_1.code,
        c1_1.created_at,
        c1_1.description,
        c1_1.is_active,
        c1_1.level,
        c1_1.name,
        c1_1.parent_id,
        c1_1.updated_at 
    from
        product_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.product_id=?
2025-06-14 18:31:26 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.product_id,
        c1_1.id,
        c1_1.code,
        c1_1.created_at,
        c1_1.description,
        c1_1.is_active,
        c1_1.level,
        c1_1.name,
        c1_1.parent_id,
        c1_1.updated_at 
    from
        product_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.product_id=?
2025-06-14 18:31:26 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.product_id,
        c1_1.id,
        c1_1.code,
        c1_1.created_at,
        c1_1.description,
        c1_1.is_active,
        c1_1.level,
        c1_1.name,
        c1_1.parent_id,
        c1_1.updated_at 
    from
        product_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.product_id=?
2025-06-14 18:31:26 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.product_id,
        c1_1.id,
        c1_1.code,
        c1_1.created_at,
        c1_1.description,
        c1_1.is_active,
        c1_1.level,
        c1_1.name,
        c1_1.parent_id,
        c1_1.updated_at 
    from
        product_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.product_id=?
2025-06-14 18:31:26 [main] ERROR m.f.o.s.p.s.CacheWarmingService - Error during cache warm-up
org.springframework.data.redis.serializer.SerializationException: Could not write JSON: Java 8 date/time type `java.time.ZonedDateTime` not supported by default: add Module "com.fasterxml.jackson.datatype:jackson-datatype-jsr310" to enable handling (or disable `MapperFeature.REQUIRE_HANDLERS_FOR_JAVA8_TIMES`) (through reference chain: java.util.ArrayList[0]->ma.foodplus.ordering.system.product.dto.response.ProductResponse["createdAt"])
	at org.springframework.data.redis.serializer.GenericJackson2JsonRedisSerializer.serialize(GenericJackson2JsonRedisSerializer.java:274)
	at org.springframework.data.redis.serializer.DefaultRedisElementWriter.write(DefaultRedisElementWriter.java:42)
	at org.springframework.data.redis.serializer.RedisSerializationContext$SerializationPair.write(RedisSerializationContext.java:292)
	at org.springframework.data.redis.cache.RedisCache.serializeCacheValue(RedisCache.java:343)
	at org.springframework.data.redis.cache.RedisCache.put(RedisCache.java:204)
	at org.springframework.cache.interceptor.AbstractCacheInvoker.doPut(AbstractCacheInvoker.java:157)
	at org.springframework.cache.interceptor.CacheAspectSupport$CachePutRequest.performCachePut(CacheAspectSupport.java:1087)
	at org.springframework.cache.interceptor.CacheAspectSupport$CachePutRequest.apply(CacheAspectSupport.java:1072)
	at org.springframework.cache.interceptor.CacheAspectSupport.evaluate(CacheAspectSupport.java:616)
	at org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:448)
	at org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:410)
	at org.springframework.cache.interceptor.CacheInterceptor.invoke(CacheInterceptor.java:65)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at ma.foodplus.ordering.system.product.service.ProductService$$SpringCGLIB$$0.getDeliverableProducts(<generated>)
	at ma.foodplus.ordering.system.product.service.CacheWarmingService.warmUpCache(CacheWarmingService.java:28)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.doInvoke(ApplicationListenerMethodAdapter.java:382)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.processEvent(ApplicationListenerMethodAdapter.java:254)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.onApplicationEvent(ApplicationListenerMethodAdapter.java:173)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:185)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:178)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:156)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:454)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:387)
	at org.springframework.boot.context.event.EventPublishingRunListener.ready(EventPublishingRunListener.java:109)
	at org.springframework.boot.SpringApplicationRunListeners.lambda$ready$6(SpringApplicationRunListeners.java:80)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:118)
	at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:112)
	at org.springframework.boot.SpringApplicationRunListeners.ready(SpringApplicationRunListeners.java:80)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:332)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1362)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1351)
	at ma.foodplus.ordering.system.FoodPlusOrderingApplication.main(FoodPlusOrderingApplication.java:22)
Caused by: com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Java 8 date/time type `java.time.ZonedDateTime` not supported by default: add Module "com.fasterxml.jackson.datatype:jackson-datatype-jsr310" to enable handling (or disable `MapperFeature.REQUIRE_HANDLERS_FOR_JAVA8_TIMES`) (through reference chain: java.util.ArrayList[0]->ma.foodplus.ordering.system.product.dto.response.ProductResponse["createdAt"])
	at com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:77)
	at com.fasterxml.jackson.databind.SerializerProvider.reportBadDefinition(SerializerProvider.java:1359)
	at com.fasterxml.jackson.databind.ser.impl.UnsupportedTypeSerializer.serialize(UnsupportedTypeSerializer.java:34)
	at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:732)
	at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:760)
	at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeWithType(BeanSerializerBase.java:643)
	at com.fasterxml.jackson.databind.ser.impl.IndexedListSerializer.serializeTypedContents(IndexedListSerializer.java:181)
	at com.fasterxml.jackson.databind.ser.impl.IndexedListSerializer.serializeContents(IndexedListSerializer.java:92)
	at com.fasterxml.jackson.databind.ser.impl.IndexedListSerializer.serializeContents(IndexedListSerializer.java:18)
	at com.fasterxml.jackson.databind.ser.std.AsArraySerializerBase.serializeWithType(AsArraySerializerBase.java:265)
	at com.fasterxml.jackson.databind.ser.impl.TypeWrappedSerializer.serialize(TypeWrappedSerializer.java:32)
	at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider._serialize(DefaultSerializerProvider.java:503)
	at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider.serializeValue(DefaultSerializerProvider.java:342)
	at com.fasterxml.jackson.databind.ObjectMapper._writeValueAndClose(ObjectMapper.java:4859)
	at com.fasterxml.jackson.databind.ObjectMapper.writeValueAsBytes(ObjectMapper.java:4104)
	at org.springframework.data.redis.serializer.GenericJackson2JsonRedisSerializer.serialize(GenericJackson2JsonRedisSerializer.java:272)
	... 38 common frames omitted
2025-06-14 18:31:26 [main] INFO  m.f.o.s.p.s.CacheWarmingService - Cache warm-up completed
2025-06-14 18:31:36 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-06-14 18:31:36 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-06-14 18:31:36 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-06-14 18:31:36 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-06-14 18:31:36 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-06-14 18:32:20 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - Starting FoodPlusOrderingApplication using Java 21.0.7 with PID 448142 (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes started by louki in /home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system)
2025-06-14 18:32:20 [main] DEBUG m.f.o.s.FoodPlusOrderingApplication - Running with Spring Boot v3.5.0, Spring v6.2.7
2025-06-14 18:32:20 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - The following 1 profile is active: "dev"
2025-06-14 18:32:20 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-14 18:32:20 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-14 18:32:21 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 109 ms. Found 12 JPA repository interfaces.
2025-06-14 18:32:21 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-14 18:32:21 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-06-14 18:32:21 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.common.repository.CategoryTarifRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 18:32:21 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.CustomerGroupRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 18:32:21 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.CustomerRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 18:32:21 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.ProductCustomerRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 18:32:21 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.DepotRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 18:32:21 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.ProductStockRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 18:32:21 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.SiteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 18:32:21 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.order.repository.OrderRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 18:32:21 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.product.repository.CategoryRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 18:32:21 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.product.repository.ProductAuditRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 18:32:21 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.product.repository.ProductRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 18:32:21 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.promos.repository.PromotionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 18:32:21 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 25 ms. Found 0 Redis repository interfaces.
2025-06-14 18:32:22 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8087 (http)
2025-06-14 18:32:22 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-14 18:32:22 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.41]
2025-06-14 18:32:22 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-14 18:32:22 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2018 ms
2025-06-14 18:32:22 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-06-14 18:32:22 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@5fafa76d
2025-06-14 18:32:22 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-06-14 18:32:22 [main] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://10.113.181.84:5432/foodplus_ordering (PostgreSQL 17.5)
2025-06-14 18:32:22 [main] INFO  o.f.core.internal.command.DbValidate - Successfully validated 5 migrations (execution time 00:00.026s)
2025-06-14 18:32:23 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "public": 1.7.2
2025-06-14 18:32:23 [main] WARN  o.f.core.internal.command.DbMigrate - outOfOrder mode is active. Migration of schema "public" may not be reproducible.
2025-06-14 18:32:23 [main] INFO  o.f.core.internal.command.DbMigrate - Schema "public" is up to date. No migration necessary.
2025-06-14 18:32:23 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-06-14 18:32:23 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.15.Final
2025-06-14 18:32:23 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-06-14 18:32:23 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-06-14 18:32:23 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 17.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-06-14 18:32:23 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-06-14 18:32:26 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-06-14 18:32:26 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-06-14 18:32:26 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-06-14 18:32:29 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-06-14 18:32:30 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 4 endpoints beneath base path '/actuator'
2025-06-14 18:32:30 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8087 (http) with context path '/'
2025-06-14 18:32:30 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - Started FoodPlusOrderingApplication in 10.846 seconds (process running for 11.124)
2025-06-14 18:32:30 [main] INFO  m.f.o.s.p.s.CacheWarmingService - Starting cache warm-up...
2025-06-14 18:32:30 [main] INFO  m.f.o.s.p.service.ProductService - Getting all products
2025-06-14 18:32:30 [main] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.additional_photos,
        p1_0.availability_schedule,
        p1_0.b2b_contract_discount_percentage,
        p1_0.b2b_contract_required,
        p1_0.b2b_credit_terms,
        p1_0.b2b_custom_pricing_enabled,
        p1_0.b2b_delivery_lead_time,
        p1_0.b2b_minimum_order_value,
        p1_0.b2b_payment_methods,
        p1_0.b2b_volume_discount_enabled,
        p1_0.b2c_display_in_catalog,
        p1_0.b2c_featured,
        p1_0.b2c_loyalty_points_multiplier,
        p1_0.b2c_promo_end_date,
        p1_0.b2c_promo_price,
        p1_0.b2c_promo_start_date,
        p1_0.b2c_rating,
        p1_0.b2c_retail_price,
        p1_0.b2c_review_count,
        p1_0.barcode,
        p1_0.bulk_discount_percentage,
        p1_0.bulk_discount_threshold,
        p1_0.bulk_package_size,
        p1_0.bulk_package_unit,
        p1_0.certification,
        p1_0.country_of_origin,
        p1_0.created_at,
        p1_0.custom_attributes,
        p1_0.customer_segments,
        p1_0.deliverable,
        p1_0.description,
        p1_0.dimensions,
        p1_0.inactive,
        p1_0.is_bulk_item,
        p1_0.is_perishable,
        p1_0.is_wholesale_only,
        p1_0.maximum_order_quantity,
        p1_0.minimum_order_quantity,
        p1_0.package_quantity,
        p1_0.package_size,
        p1_0.photo,
        p1_0.price_including_tax,
        p1_0.family_code,
        p1_0.promo_sku_points,
        p1_0.reference,
        p1_0.requires_approval,
        p1_0.requires_cold_storage,
        p1_0.requires_contract,
        p1_0.sale_price,
        p1_0.sale_unit,
        p1_0.seasonality,
        p1_0.sku,
        p1_0.stock_tracking,
        p1_0.supplier_code,
        p1_0.supplier_name,
        p1_0.target_market,
        p1_0.tax_rate,
        p1_0.title,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.vendable,
        p1_0.visible,
        p1_0.weight,
        p1_0.weight_unit,
        p1_0.wholesale_discount_percentage,
        p1_0.wholesale_minimum_quantity,
        p1_0.wholesale_price,
        p1_0.wholesale_tier_1_price,
        p1_0.wholesale_tier_1_quantity,
        p1_0.wholesale_tier_2_price,
        p1_0.wholesale_tier_2_quantity,
        p1_0.wholesale_tier_3_price,
        p1_0.wholesale_tier_3_quantity 
    from
        products p1_0
2025-06-14 18:32:30 [main] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.code,
        pf1_0.created_at,
        pf1_0.description,
        pf1_0.is_active,
        pf1_0.name,
        pf1_0.updated_at 
    from
        product_families pf1_0 
    where
        pf1_0.code=?
2025-06-14 18:32:30 [main] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.code,
        pf1_0.created_at,
        pf1_0.description,
        pf1_0.is_active,
        pf1_0.name,
        pf1_0.updated_at 
    from
        product_families pf1_0 
    where
        pf1_0.code=?
2025-06-14 18:32:30 [main] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.code,
        pf1_0.created_at,
        pf1_0.description,
        pf1_0.is_active,
        pf1_0.name,
        pf1_0.updated_at 
    from
        product_families pf1_0 
    where
        pf1_0.code=?
2025-06-14 18:32:30 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.product_id,
        c1_1.id,
        c1_1.code,
        c1_1.created_at,
        c1_1.description,
        c1_1.is_active,
        c1_1.level,
        c1_1.name,
        c1_1.parent_id,
        c1_1.updated_at 
    from
        product_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.product_id=?
2025-06-14 18:32:30 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.product_id,
        c1_1.id,
        c1_1.code,
        c1_1.created_at,
        c1_1.description,
        c1_1.is_active,
        c1_1.level,
        c1_1.name,
        c1_1.parent_id,
        c1_1.updated_at 
    from
        product_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.product_id=?
2025-06-14 18:32:30 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.product_id,
        c1_1.id,
        c1_1.code,
        c1_1.created_at,
        c1_1.description,
        c1_1.is_active,
        c1_1.level,
        c1_1.name,
        c1_1.parent_id,
        c1_1.updated_at 
    from
        product_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.product_id=?
2025-06-14 18:32:30 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.product_id,
        c1_1.id,
        c1_1.code,
        c1_1.created_at,
        c1_1.description,
        c1_1.is_active,
        c1_1.level,
        c1_1.name,
        c1_1.parent_id,
        c1_1.updated_at 
    from
        product_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.product_id=?
2025-06-14 18:32:30 [main] INFO  m.f.o.s.p.s.CacheWarmingService - Warmed up all products cache
2025-06-14 18:32:30 [main] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.additional_photos,
        p1_0.availability_schedule,
        p1_0.b2b_contract_discount_percentage,
        p1_0.b2b_contract_required,
        p1_0.b2b_credit_terms,
        p1_0.b2b_custom_pricing_enabled,
        p1_0.b2b_delivery_lead_time,
        p1_0.b2b_minimum_order_value,
        p1_0.b2b_payment_methods,
        p1_0.b2b_volume_discount_enabled,
        p1_0.b2c_display_in_catalog,
        p1_0.b2c_featured,
        p1_0.b2c_loyalty_points_multiplier,
        p1_0.b2c_promo_end_date,
        p1_0.b2c_promo_price,
        p1_0.b2c_promo_start_date,
        p1_0.b2c_rating,
        p1_0.b2c_retail_price,
        p1_0.b2c_review_count,
        p1_0.barcode,
        p1_0.bulk_discount_percentage,
        p1_0.bulk_discount_threshold,
        p1_0.bulk_package_size,
        p1_0.bulk_package_unit,
        p1_0.certification,
        p1_0.country_of_origin,
        p1_0.created_at,
        p1_0.custom_attributes,
        p1_0.customer_segments,
        p1_0.deliverable,
        p1_0.description,
        p1_0.dimensions,
        p1_0.inactive,
        p1_0.is_bulk_item,
        p1_0.is_perishable,
        p1_0.is_wholesale_only,
        p1_0.maximum_order_quantity,
        p1_0.minimum_order_quantity,
        p1_0.package_quantity,
        p1_0.package_size,
        p1_0.photo,
        p1_0.price_including_tax,
        p1_0.family_code,
        p1_0.promo_sku_points,
        p1_0.reference,
        p1_0.requires_approval,
        p1_0.requires_cold_storage,
        p1_0.requires_contract,
        p1_0.sale_price,
        p1_0.sale_unit,
        p1_0.seasonality,
        p1_0.sku,
        p1_0.stock_tracking,
        p1_0.supplier_code,
        p1_0.supplier_name,
        p1_0.target_market,
        p1_0.tax_rate,
        p1_0.title,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.vendable,
        p1_0.visible,
        p1_0.weight,
        p1_0.weight_unit,
        p1_0.wholesale_discount_percentage,
        p1_0.wholesale_minimum_quantity,
        p1_0.wholesale_price,
        p1_0.wholesale_tier_1_price,
        p1_0.wholesale_tier_1_quantity,
        p1_0.wholesale_tier_2_price,
        p1_0.wholesale_tier_2_quantity,
        p1_0.wholesale_tier_3_price,
        p1_0.wholesale_tier_3_quantity 
    from
        products p1_0 
    where
        p1_0.deliverable
2025-06-14 18:32:30 [main] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.code,
        pf1_0.created_at,
        pf1_0.description,
        pf1_0.is_active,
        pf1_0.name,
        pf1_0.updated_at 
    from
        product_families pf1_0 
    where
        pf1_0.code=?
2025-06-14 18:32:30 [main] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.code,
        pf1_0.created_at,
        pf1_0.description,
        pf1_0.is_active,
        pf1_0.name,
        pf1_0.updated_at 
    from
        product_families pf1_0 
    where
        pf1_0.code=?
2025-06-14 18:32:30 [main] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.code,
        pf1_0.created_at,
        pf1_0.description,
        pf1_0.is_active,
        pf1_0.name,
        pf1_0.updated_at 
    from
        product_families pf1_0 
    where
        pf1_0.code=?
2025-06-14 18:32:30 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.product_id,
        c1_1.id,
        c1_1.code,
        c1_1.created_at,
        c1_1.description,
        c1_1.is_active,
        c1_1.level,
        c1_1.name,
        c1_1.parent_id,
        c1_1.updated_at 
    from
        product_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.product_id=?
2025-06-14 18:32:30 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.product_id,
        c1_1.id,
        c1_1.code,
        c1_1.created_at,
        c1_1.description,
        c1_1.is_active,
        c1_1.level,
        c1_1.name,
        c1_1.parent_id,
        c1_1.updated_at 
    from
        product_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.product_id=?
2025-06-14 18:32:30 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.product_id,
        c1_1.id,
        c1_1.code,
        c1_1.created_at,
        c1_1.description,
        c1_1.is_active,
        c1_1.level,
        c1_1.name,
        c1_1.parent_id,
        c1_1.updated_at 
    from
        product_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.product_id=?
2025-06-14 18:32:30 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.product_id,
        c1_1.id,
        c1_1.code,
        c1_1.created_at,
        c1_1.description,
        c1_1.is_active,
        c1_1.level,
        c1_1.name,
        c1_1.parent_id,
        c1_1.updated_at 
    from
        product_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.product_id=?
2025-06-14 18:32:30 [main] ERROR m.f.o.s.p.s.CacheWarmingService - Error during cache warm-up
org.springframework.data.redis.serializer.SerializationException: Could not write JSON: Java 8 date/time type `java.time.ZonedDateTime` not supported by default: add Module "com.fasterxml.jackson.datatype:jackson-datatype-jsr310" to enable handling (or disable `MapperFeature.REQUIRE_HANDLERS_FOR_JAVA8_TIMES`) (through reference chain: java.util.ArrayList[0]->ma.foodplus.ordering.system.product.dto.response.ProductResponse["createdAt"])
	at org.springframework.data.redis.serializer.GenericJackson2JsonRedisSerializer.serialize(GenericJackson2JsonRedisSerializer.java:274)
	at org.springframework.data.redis.serializer.DefaultRedisElementWriter.write(DefaultRedisElementWriter.java:42)
	at org.springframework.data.redis.serializer.RedisSerializationContext$SerializationPair.write(RedisSerializationContext.java:292)
	at org.springframework.data.redis.cache.RedisCache.serializeCacheValue(RedisCache.java:343)
	at org.springframework.data.redis.cache.RedisCache.put(RedisCache.java:204)
	at org.springframework.cache.interceptor.AbstractCacheInvoker.doPut(AbstractCacheInvoker.java:157)
	at org.springframework.cache.interceptor.CacheAspectSupport$CachePutRequest.performCachePut(CacheAspectSupport.java:1087)
	at org.springframework.cache.interceptor.CacheAspectSupport$CachePutRequest.apply(CacheAspectSupport.java:1072)
	at org.springframework.cache.interceptor.CacheAspectSupport.evaluate(CacheAspectSupport.java:616)
	at org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:448)
	at org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:410)
	at org.springframework.cache.interceptor.CacheInterceptor.invoke(CacheInterceptor.java:65)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at ma.foodplus.ordering.system.product.service.ProductService$$SpringCGLIB$$0.getDeliverableProducts(<generated>)
	at ma.foodplus.ordering.system.product.service.CacheWarmingService.warmUpCache(CacheWarmingService.java:28)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.doInvoke(ApplicationListenerMethodAdapter.java:382)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.processEvent(ApplicationListenerMethodAdapter.java:254)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.onApplicationEvent(ApplicationListenerMethodAdapter.java:173)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:185)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:178)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:156)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:454)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:387)
	at org.springframework.boot.context.event.EventPublishingRunListener.ready(EventPublishingRunListener.java:109)
	at org.springframework.boot.SpringApplicationRunListeners.lambda$ready$6(SpringApplicationRunListeners.java:80)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:118)
	at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:112)
	at org.springframework.boot.SpringApplicationRunListeners.ready(SpringApplicationRunListeners.java:80)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:332)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1362)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1351)
	at ma.foodplus.ordering.system.FoodPlusOrderingApplication.main(FoodPlusOrderingApplication.java:22)
Caused by: com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Java 8 date/time type `java.time.ZonedDateTime` not supported by default: add Module "com.fasterxml.jackson.datatype:jackson-datatype-jsr310" to enable handling (or disable `MapperFeature.REQUIRE_HANDLERS_FOR_JAVA8_TIMES`) (through reference chain: java.util.ArrayList[0]->ma.foodplus.ordering.system.product.dto.response.ProductResponse["createdAt"])
	at com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:77)
	at com.fasterxml.jackson.databind.SerializerProvider.reportBadDefinition(SerializerProvider.java:1359)
	at com.fasterxml.jackson.databind.ser.impl.UnsupportedTypeSerializer.serialize(UnsupportedTypeSerializer.java:34)
	at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:732)
	at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:760)
	at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeWithType(BeanSerializerBase.java:643)
	at com.fasterxml.jackson.databind.ser.impl.IndexedListSerializer.serializeTypedContents(IndexedListSerializer.java:181)
	at com.fasterxml.jackson.databind.ser.impl.IndexedListSerializer.serializeContents(IndexedListSerializer.java:92)
	at com.fasterxml.jackson.databind.ser.impl.IndexedListSerializer.serializeContents(IndexedListSerializer.java:18)
	at com.fasterxml.jackson.databind.ser.std.AsArraySerializerBase.serializeWithType(AsArraySerializerBase.java:265)
	at com.fasterxml.jackson.databind.ser.impl.TypeWrappedSerializer.serialize(TypeWrappedSerializer.java:32)
	at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider._serialize(DefaultSerializerProvider.java:503)
	at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider.serializeValue(DefaultSerializerProvider.java:342)
	at com.fasterxml.jackson.databind.ObjectMapper._writeValueAndClose(ObjectMapper.java:4859)
	at com.fasterxml.jackson.databind.ObjectMapper.writeValueAsBytes(ObjectMapper.java:4104)
	at org.springframework.data.redis.serializer.GenericJackson2JsonRedisSerializer.serialize(GenericJackson2JsonRedisSerializer.java:272)
	... 38 common frames omitted
2025-06-14 18:32:30 [main] INFO  m.f.o.s.p.s.CacheWarmingService - Cache warm-up completed
2025-06-14 18:32:50 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-06-14 18:32:50 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-06-14 18:32:51 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-06-14 18:32:51 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-06-14 18:32:51 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-06-14 18:34:31 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - Starting FoodPlusOrderingApplication using Java 21.0.7 with PID 450506 (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes started by louki in /home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system)
2025-06-14 18:34:31 [main] DEBUG m.f.o.s.FoodPlusOrderingApplication - Running with Spring Boot v3.5.0, Spring v6.2.7
2025-06-14 18:34:31 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - The following 1 profile is active: "dev"
2025-06-14 18:34:32 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-14 18:34:32 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-14 18:34:32 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 219 ms. Found 12 JPA repository interfaces.
2025-06-14 18:34:33 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-14 18:34:33 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-06-14 18:34:33 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.common.repository.CategoryTarifRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 18:34:33 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.CustomerGroupRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 18:34:33 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.CustomerRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 18:34:33 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.ProductCustomerRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 18:34:33 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.DepotRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 18:34:33 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.ProductStockRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 18:34:33 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.SiteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 18:34:33 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.order.repository.OrderRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 18:34:33 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.product.repository.CategoryRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 18:34:33 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.product.repository.ProductAuditRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 18:34:33 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.product.repository.ProductRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 18:34:33 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.promos.repository.PromotionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 18:34:33 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 33 ms. Found 0 Redis repository interfaces.
2025-06-14 18:34:34 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8087 (http)
2025-06-14 18:34:34 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-14 18:34:34 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.41]
2025-06-14 18:34:34 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-14 18:34:34 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3544 ms
2025-06-14 18:34:35 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-06-14 18:34:36 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@2e62e227
2025-06-14 18:34:36 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-06-14 18:34:36 [main] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://10.113.181.84:5432/foodplus_ordering (PostgreSQL 17.5)
2025-06-14 18:34:36 [main] INFO  o.f.core.internal.command.DbValidate - Successfully validated 5 migrations (execution time 00:00.060s)
2025-06-14 18:34:36 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "public": 1.7.2
2025-06-14 18:34:36 [main] WARN  o.f.core.internal.command.DbMigrate - outOfOrder mode is active. Migration of schema "public" may not be reproducible.
2025-06-14 18:34:36 [main] INFO  o.f.core.internal.command.DbMigrate - Schema "public" is up to date. No migration necessary.
2025-06-14 18:34:36 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-06-14 18:34:36 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.15.Final
2025-06-14 18:34:36 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-06-14 18:34:37 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-06-14 18:34:37 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 17.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-06-14 18:34:37 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-06-14 18:34:38 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-06-14 18:34:38 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-06-14 18:34:39 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-06-14 18:34:42 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-06-14 18:34:43 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 4 endpoints beneath base path '/actuator'
2025-06-14 18:34:43 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8087 (http) with context path '/'
2025-06-14 18:34:43 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - Started FoodPlusOrderingApplication in 13.182 seconds (process running for 13.61)
2025-06-14 18:34:43 [main] INFO  m.f.o.s.p.s.CacheWarmingService - Starting cache warm-up...
2025-06-14 18:34:43 [main] INFO  m.f.o.s.p.service.ProductService - Getting all products
2025-06-14 18:34:43 [main] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.additional_photos,
        p1_0.availability_schedule,
        p1_0.b2b_contract_discount_percentage,
        p1_0.b2b_contract_required,
        p1_0.b2b_credit_terms,
        p1_0.b2b_custom_pricing_enabled,
        p1_0.b2b_delivery_lead_time,
        p1_0.b2b_minimum_order_value,
        p1_0.b2b_payment_methods,
        p1_0.b2b_volume_discount_enabled,
        p1_0.b2c_display_in_catalog,
        p1_0.b2c_featured,
        p1_0.b2c_loyalty_points_multiplier,
        p1_0.b2c_promo_end_date,
        p1_0.b2c_promo_price,
        p1_0.b2c_promo_start_date,
        p1_0.b2c_rating,
        p1_0.b2c_retail_price,
        p1_0.b2c_review_count,
        p1_0.barcode,
        p1_0.bulk_discount_percentage,
        p1_0.bulk_discount_threshold,
        p1_0.bulk_package_size,
        p1_0.bulk_package_unit,
        p1_0.certification,
        p1_0.country_of_origin,
        p1_0.created_at,
        p1_0.custom_attributes,
        p1_0.customer_segments,
        p1_0.deliverable,
        p1_0.description,
        p1_0.dimensions,
        p1_0.inactive,
        p1_0.is_bulk_item,
        p1_0.is_perishable,
        p1_0.is_wholesale_only,
        p1_0.maximum_order_quantity,
        p1_0.minimum_order_quantity,
        p1_0.package_quantity,
        p1_0.package_size,
        p1_0.photo,
        p1_0.price_including_tax,
        p1_0.family_code,
        p1_0.promo_sku_points,
        p1_0.reference,
        p1_0.requires_approval,
        p1_0.requires_cold_storage,
        p1_0.requires_contract,
        p1_0.sale_price,
        p1_0.sale_unit,
        p1_0.seasonality,
        p1_0.sku,
        p1_0.stock_tracking,
        p1_0.supplier_code,
        p1_0.supplier_name,
        p1_0.target_market,
        p1_0.tax_rate,
        p1_0.title,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.vendable,
        p1_0.visible,
        p1_0.weight,
        p1_0.weight_unit,
        p1_0.wholesale_discount_percentage,
        p1_0.wholesale_minimum_quantity,
        p1_0.wholesale_price,
        p1_0.wholesale_tier_1_price,
        p1_0.wholesale_tier_1_quantity,
        p1_0.wholesale_tier_2_price,
        p1_0.wholesale_tier_2_quantity,
        p1_0.wholesale_tier_3_price,
        p1_0.wholesale_tier_3_quantity 
    from
        products p1_0
2025-06-14 18:34:43 [main] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.code,
        pf1_0.created_at,
        pf1_0.description,
        pf1_0.is_active,
        pf1_0.name,
        pf1_0.updated_at 
    from
        product_families pf1_0 
    where
        pf1_0.code=?
2025-06-14 18:34:43 [main] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.code,
        pf1_0.created_at,
        pf1_0.description,
        pf1_0.is_active,
        pf1_0.name,
        pf1_0.updated_at 
    from
        product_families pf1_0 
    where
        pf1_0.code=?
2025-06-14 18:34:43 [main] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.code,
        pf1_0.created_at,
        pf1_0.description,
        pf1_0.is_active,
        pf1_0.name,
        pf1_0.updated_at 
    from
        product_families pf1_0 
    where
        pf1_0.code=?
2025-06-14 18:34:43 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.product_id,
        c1_1.id,
        c1_1.code,
        c1_1.created_at,
        c1_1.description,
        c1_1.is_active,
        c1_1.level,
        c1_1.name,
        c1_1.parent_id,
        c1_1.updated_at 
    from
        product_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.product_id=?
2025-06-14 18:34:43 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.product_id,
        c1_1.id,
        c1_1.code,
        c1_1.created_at,
        c1_1.description,
        c1_1.is_active,
        c1_1.level,
        c1_1.name,
        c1_1.parent_id,
        c1_1.updated_at 
    from
        product_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.product_id=?
2025-06-14 18:34:43 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.product_id,
        c1_1.id,
        c1_1.code,
        c1_1.created_at,
        c1_1.description,
        c1_1.is_active,
        c1_1.level,
        c1_1.name,
        c1_1.parent_id,
        c1_1.updated_at 
    from
        product_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.product_id=?
2025-06-14 18:34:43 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.product_id,
        c1_1.id,
        c1_1.code,
        c1_1.created_at,
        c1_1.description,
        c1_1.is_active,
        c1_1.level,
        c1_1.name,
        c1_1.parent_id,
        c1_1.updated_at 
    from
        product_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.product_id=?
2025-06-14 18:34:43 [main] INFO  m.f.o.s.p.s.CacheWarmingService - Warmed up all products cache
2025-06-14 18:34:43 [main] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.additional_photos,
        p1_0.availability_schedule,
        p1_0.b2b_contract_discount_percentage,
        p1_0.b2b_contract_required,
        p1_0.b2b_credit_terms,
        p1_0.b2b_custom_pricing_enabled,
        p1_0.b2b_delivery_lead_time,
        p1_0.b2b_minimum_order_value,
        p1_0.b2b_payment_methods,
        p1_0.b2b_volume_discount_enabled,
        p1_0.b2c_display_in_catalog,
        p1_0.b2c_featured,
        p1_0.b2c_loyalty_points_multiplier,
        p1_0.b2c_promo_end_date,
        p1_0.b2c_promo_price,
        p1_0.b2c_promo_start_date,
        p1_0.b2c_rating,
        p1_0.b2c_retail_price,
        p1_0.b2c_review_count,
        p1_0.barcode,
        p1_0.bulk_discount_percentage,
        p1_0.bulk_discount_threshold,
        p1_0.bulk_package_size,
        p1_0.bulk_package_unit,
        p1_0.certification,
        p1_0.country_of_origin,
        p1_0.created_at,
        p1_0.custom_attributes,
        p1_0.customer_segments,
        p1_0.deliverable,
        p1_0.description,
        p1_0.dimensions,
        p1_0.inactive,
        p1_0.is_bulk_item,
        p1_0.is_perishable,
        p1_0.is_wholesale_only,
        p1_0.maximum_order_quantity,
        p1_0.minimum_order_quantity,
        p1_0.package_quantity,
        p1_0.package_size,
        p1_0.photo,
        p1_0.price_including_tax,
        p1_0.family_code,
        p1_0.promo_sku_points,
        p1_0.reference,
        p1_0.requires_approval,
        p1_0.requires_cold_storage,
        p1_0.requires_contract,
        p1_0.sale_price,
        p1_0.sale_unit,
        p1_0.seasonality,
        p1_0.sku,
        p1_0.stock_tracking,
        p1_0.supplier_code,
        p1_0.supplier_name,
        p1_0.target_market,
        p1_0.tax_rate,
        p1_0.title,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.vendable,
        p1_0.visible,
        p1_0.weight,
        p1_0.weight_unit,
        p1_0.wholesale_discount_percentage,
        p1_0.wholesale_minimum_quantity,
        p1_0.wholesale_price,
        p1_0.wholesale_tier_1_price,
        p1_0.wholesale_tier_1_quantity,
        p1_0.wholesale_tier_2_price,
        p1_0.wholesale_tier_2_quantity,
        p1_0.wholesale_tier_3_price,
        p1_0.wholesale_tier_3_quantity 
    from
        products p1_0 
    where
        p1_0.deliverable
2025-06-14 18:34:43 [main] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.code,
        pf1_0.created_at,
        pf1_0.description,
        pf1_0.is_active,
        pf1_0.name,
        pf1_0.updated_at 
    from
        product_families pf1_0 
    where
        pf1_0.code=?
2025-06-14 18:34:43 [main] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.code,
        pf1_0.created_at,
        pf1_0.description,
        pf1_0.is_active,
        pf1_0.name,
        pf1_0.updated_at 
    from
        product_families pf1_0 
    where
        pf1_0.code=?
2025-06-14 18:34:43 [main] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.code,
        pf1_0.created_at,
        pf1_0.description,
        pf1_0.is_active,
        pf1_0.name,
        pf1_0.updated_at 
    from
        product_families pf1_0 
    where
        pf1_0.code=?
2025-06-14 18:34:43 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.product_id,
        c1_1.id,
        c1_1.code,
        c1_1.created_at,
        c1_1.description,
        c1_1.is_active,
        c1_1.level,
        c1_1.name,
        c1_1.parent_id,
        c1_1.updated_at 
    from
        product_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.product_id=?
2025-06-14 18:34:43 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.product_id,
        c1_1.id,
        c1_1.code,
        c1_1.created_at,
        c1_1.description,
        c1_1.is_active,
        c1_1.level,
        c1_1.name,
        c1_1.parent_id,
        c1_1.updated_at 
    from
        product_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.product_id=?
2025-06-14 18:34:43 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.product_id,
        c1_1.id,
        c1_1.code,
        c1_1.created_at,
        c1_1.description,
        c1_1.is_active,
        c1_1.level,
        c1_1.name,
        c1_1.parent_id,
        c1_1.updated_at 
    from
        product_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.product_id=?
2025-06-14 18:34:43 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.product_id,
        c1_1.id,
        c1_1.code,
        c1_1.created_at,
        c1_1.description,
        c1_1.is_active,
        c1_1.level,
        c1_1.name,
        c1_1.parent_id,
        c1_1.updated_at 
    from
        product_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.product_id=?
2025-06-14 18:34:43 [main] ERROR m.f.o.s.p.s.CacheWarmingService - Error during cache warm-up
org.springframework.data.redis.serializer.SerializationException: Could not write JSON: Java 8 date/time type `java.time.ZonedDateTime` not supported by default: add Module "com.fasterxml.jackson.datatype:jackson-datatype-jsr310" to enable handling (or disable `MapperFeature.REQUIRE_HANDLERS_FOR_JAVA8_TIMES`) (through reference chain: java.util.ArrayList[0]->ma.foodplus.ordering.system.product.dto.response.ProductResponse["createdAt"])
	at org.springframework.data.redis.serializer.GenericJackson2JsonRedisSerializer.serialize(GenericJackson2JsonRedisSerializer.java:274)
	at org.springframework.data.redis.serializer.DefaultRedisElementWriter.write(DefaultRedisElementWriter.java:42)
	at org.springframework.data.redis.serializer.RedisSerializationContext$SerializationPair.write(RedisSerializationContext.java:292)
	at org.springframework.data.redis.cache.RedisCache.serializeCacheValue(RedisCache.java:343)
	at org.springframework.data.redis.cache.RedisCache.put(RedisCache.java:204)
	at org.springframework.cache.interceptor.AbstractCacheInvoker.doPut(AbstractCacheInvoker.java:157)
	at org.springframework.cache.interceptor.CacheAspectSupport$CachePutRequest.performCachePut(CacheAspectSupport.java:1087)
	at org.springframework.cache.interceptor.CacheAspectSupport$CachePutRequest.apply(CacheAspectSupport.java:1072)
	at org.springframework.cache.interceptor.CacheAspectSupport.evaluate(CacheAspectSupport.java:616)
	at org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:448)
	at org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:410)
	at org.springframework.cache.interceptor.CacheInterceptor.invoke(CacheInterceptor.java:65)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at ma.foodplus.ordering.system.product.service.ProductService$$SpringCGLIB$$0.getDeliverableProducts(<generated>)
	at ma.foodplus.ordering.system.product.service.CacheWarmingService.warmUpCache(CacheWarmingService.java:28)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.doInvoke(ApplicationListenerMethodAdapter.java:382)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.processEvent(ApplicationListenerMethodAdapter.java:254)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.onApplicationEvent(ApplicationListenerMethodAdapter.java:173)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:185)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:178)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:156)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:454)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:387)
	at org.springframework.boot.context.event.EventPublishingRunListener.ready(EventPublishingRunListener.java:109)
	at org.springframework.boot.SpringApplicationRunListeners.lambda$ready$6(SpringApplicationRunListeners.java:80)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:118)
	at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:112)
	at org.springframework.boot.SpringApplicationRunListeners.ready(SpringApplicationRunListeners.java:80)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:332)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1362)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1351)
	at ma.foodplus.ordering.system.FoodPlusOrderingApplication.main(FoodPlusOrderingApplication.java:22)
Caused by: com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Java 8 date/time type `java.time.ZonedDateTime` not supported by default: add Module "com.fasterxml.jackson.datatype:jackson-datatype-jsr310" to enable handling (or disable `MapperFeature.REQUIRE_HANDLERS_FOR_JAVA8_TIMES`) (through reference chain: java.util.ArrayList[0]->ma.foodplus.ordering.system.product.dto.response.ProductResponse["createdAt"])
	at com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:77)
	at com.fasterxml.jackson.databind.SerializerProvider.reportBadDefinition(SerializerProvider.java:1359)
	at com.fasterxml.jackson.databind.ser.impl.UnsupportedTypeSerializer.serialize(UnsupportedTypeSerializer.java:34)
	at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:732)
	at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:760)
	at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeWithType(BeanSerializerBase.java:643)
	at com.fasterxml.jackson.databind.ser.impl.IndexedListSerializer.serializeTypedContents(IndexedListSerializer.java:181)
	at com.fasterxml.jackson.databind.ser.impl.IndexedListSerializer.serializeContents(IndexedListSerializer.java:92)
	at com.fasterxml.jackson.databind.ser.impl.IndexedListSerializer.serializeContents(IndexedListSerializer.java:18)
	at com.fasterxml.jackson.databind.ser.std.AsArraySerializerBase.serializeWithType(AsArraySerializerBase.java:265)
	at com.fasterxml.jackson.databind.ser.impl.TypeWrappedSerializer.serialize(TypeWrappedSerializer.java:32)
	at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider._serialize(DefaultSerializerProvider.java:503)
	at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider.serializeValue(DefaultSerializerProvider.java:342)
	at com.fasterxml.jackson.databind.ObjectMapper._writeValueAndClose(ObjectMapper.java:4859)
	at com.fasterxml.jackson.databind.ObjectMapper.writeValueAsBytes(ObjectMapper.java:4104)
	at org.springframework.data.redis.serializer.GenericJackson2JsonRedisSerializer.serialize(GenericJackson2JsonRedisSerializer.java:272)
	... 38 common frames omitted
2025-06-14 18:34:43 [main] INFO  m.f.o.s.p.s.CacheWarmingService - Cache warm-up completed
2025-06-14 18:35:19 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-06-14 18:35:19 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-06-14 18:35:19 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-06-14 18:35:19 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-06-14 18:35:19 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-06-14 18:36:21 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - Starting FoodPlusOrderingApplication using Java 21.0.7 with PID 452151 (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes started by louki in /home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system)
2025-06-14 18:36:21 [main] DEBUG m.f.o.s.FoodPlusOrderingApplication - Running with Spring Boot v3.5.0, Spring v6.2.7
2025-06-14 18:36:21 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - The following 1 profile is active: "dev"
2025-06-14 18:36:22 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-14 18:36:22 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-14 18:36:22 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 259 ms. Found 12 JPA repository interfaces.
2025-06-14 18:36:23 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-14 18:36:23 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-06-14 18:36:23 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.common.repository.CategoryTarifRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 18:36:23 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.CustomerGroupRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 18:36:23 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.CustomerRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 18:36:23 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.ProductCustomerRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 18:36:23 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.DepotRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 18:36:23 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.ProductStockRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 18:36:23 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.SiteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 18:36:23 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.order.repository.OrderRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 18:36:23 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.product.repository.CategoryRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 18:36:23 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.product.repository.ProductAuditRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 18:36:23 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.product.repository.ProductRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 18:36:23 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.promos.repository.PromotionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 18:36:23 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 35 ms. Found 0 Redis repository interfaces.
2025-06-14 18:36:24 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8087 (http)
2025-06-14 18:36:24 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-14 18:36:24 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.41]
2025-06-14 18:36:24 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-14 18:36:24 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3543 ms
2025-06-14 18:36:25 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-06-14 18:36:25 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@570299e3
2025-06-14 18:36:25 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-06-14 18:36:25 [main] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://10.113.181.84:5432/foodplus_ordering (PostgreSQL 17.5)
2025-06-14 18:36:25 [main] INFO  o.f.core.internal.command.DbValidate - Successfully validated 5 migrations (execution time 00:00.026s)
2025-06-14 18:36:25 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "public": 1.7.2
2025-06-14 18:36:25 [main] WARN  o.f.core.internal.command.DbMigrate - outOfOrder mode is active. Migration of schema "public" may not be reproducible.
2025-06-14 18:36:25 [main] INFO  o.f.core.internal.command.DbMigrate - Schema "public" is up to date. No migration necessary.
2025-06-14 18:36:25 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-06-14 18:36:25 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.15.Final
2025-06-14 18:36:25 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-06-14 18:36:26 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-06-14 18:36:26 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 17.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-06-14 18:36:26 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-06-14 18:36:27 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-06-14 18:36:27 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-06-14 18:36:28 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-06-14 18:36:31 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-06-14 18:36:31 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 4 endpoints beneath base path '/actuator'
2025-06-14 18:36:32 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8087 (http) with context path '/'
2025-06-14 18:36:32 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - Started FoodPlusOrderingApplication in 11.592 seconds (process running for 11.967)
2025-06-14 18:36:32 [main] INFO  m.f.o.s.p.s.CacheWarmingService - Starting cache warm-up...
2025-06-14 18:36:32 [main] INFO  m.f.o.s.p.service.ProductService - Getting all products
2025-06-14 18:36:32 [main] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.additional_photos,
        p1_0.availability_schedule,
        p1_0.b2b_contract_discount_percentage,
        p1_0.b2b_contract_required,
        p1_0.b2b_credit_terms,
        p1_0.b2b_custom_pricing_enabled,
        p1_0.b2b_delivery_lead_time,
        p1_0.b2b_minimum_order_value,
        p1_0.b2b_payment_methods,
        p1_0.b2b_volume_discount_enabled,
        p1_0.b2c_display_in_catalog,
        p1_0.b2c_featured,
        p1_0.b2c_loyalty_points_multiplier,
        p1_0.b2c_promo_end_date,
        p1_0.b2c_promo_price,
        p1_0.b2c_promo_start_date,
        p1_0.b2c_rating,
        p1_0.b2c_retail_price,
        p1_0.b2c_review_count,
        p1_0.barcode,
        p1_0.bulk_discount_percentage,
        p1_0.bulk_discount_threshold,
        p1_0.bulk_package_size,
        p1_0.bulk_package_unit,
        p1_0.certification,
        p1_0.country_of_origin,
        p1_0.created_at,
        p1_0.custom_attributes,
        p1_0.customer_segments,
        p1_0.deliverable,
        p1_0.description,
        p1_0.dimensions,
        p1_0.inactive,
        p1_0.is_bulk_item,
        p1_0.is_perishable,
        p1_0.is_wholesale_only,
        p1_0.maximum_order_quantity,
        p1_0.minimum_order_quantity,
        p1_0.package_quantity,
        p1_0.package_size,
        p1_0.photo,
        p1_0.price_including_tax,
        p1_0.family_code,
        p1_0.promo_sku_points,
        p1_0.reference,
        p1_0.requires_approval,
        p1_0.requires_cold_storage,
        p1_0.requires_contract,
        p1_0.sale_price,
        p1_0.sale_unit,
        p1_0.seasonality,
        p1_0.sku,
        p1_0.stock_tracking,
        p1_0.supplier_code,
        p1_0.supplier_name,
        p1_0.target_market,
        p1_0.tax_rate,
        p1_0.title,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.vendable,
        p1_0.visible,
        p1_0.weight,
        p1_0.weight_unit,
        p1_0.wholesale_discount_percentage,
        p1_0.wholesale_minimum_quantity,
        p1_0.wholesale_price,
        p1_0.wholesale_tier_1_price,
        p1_0.wholesale_tier_1_quantity,
        p1_0.wholesale_tier_2_price,
        p1_0.wholesale_tier_2_quantity,
        p1_0.wholesale_tier_3_price,
        p1_0.wholesale_tier_3_quantity 
    from
        products p1_0
2025-06-14 18:36:32 [main] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.code,
        pf1_0.created_at,
        pf1_0.description,
        pf1_0.is_active,
        pf1_0.name,
        pf1_0.updated_at 
    from
        product_families pf1_0 
    where
        pf1_0.code=?
2025-06-14 18:36:32 [main] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.code,
        pf1_0.created_at,
        pf1_0.description,
        pf1_0.is_active,
        pf1_0.name,
        pf1_0.updated_at 
    from
        product_families pf1_0 
    where
        pf1_0.code=?
2025-06-14 18:36:32 [main] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.code,
        pf1_0.created_at,
        pf1_0.description,
        pf1_0.is_active,
        pf1_0.name,
        pf1_0.updated_at 
    from
        product_families pf1_0 
    where
        pf1_0.code=?
2025-06-14 18:36:32 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.product_id,
        c1_1.id,
        c1_1.code,
        c1_1.created_at,
        c1_1.description,
        c1_1.is_active,
        c1_1.level,
        c1_1.name,
        c1_1.parent_id,
        c1_1.updated_at 
    from
        product_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.product_id=?
2025-06-14 18:36:32 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.product_id,
        c1_1.id,
        c1_1.code,
        c1_1.created_at,
        c1_1.description,
        c1_1.is_active,
        c1_1.level,
        c1_1.name,
        c1_1.parent_id,
        c1_1.updated_at 
    from
        product_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.product_id=?
2025-06-14 18:36:32 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.product_id,
        c1_1.id,
        c1_1.code,
        c1_1.created_at,
        c1_1.description,
        c1_1.is_active,
        c1_1.level,
        c1_1.name,
        c1_1.parent_id,
        c1_1.updated_at 
    from
        product_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.product_id=?
2025-06-14 18:36:32 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.product_id,
        c1_1.id,
        c1_1.code,
        c1_1.created_at,
        c1_1.description,
        c1_1.is_active,
        c1_1.level,
        c1_1.name,
        c1_1.parent_id,
        c1_1.updated_at 
    from
        product_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.product_id=?
2025-06-14 18:36:32 [main] INFO  m.f.o.s.p.s.CacheWarmingService - Warmed up all products cache
2025-06-14 18:36:32 [main] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.additional_photos,
        p1_0.availability_schedule,
        p1_0.b2b_contract_discount_percentage,
        p1_0.b2b_contract_required,
        p1_0.b2b_credit_terms,
        p1_0.b2b_custom_pricing_enabled,
        p1_0.b2b_delivery_lead_time,
        p1_0.b2b_minimum_order_value,
        p1_0.b2b_payment_methods,
        p1_0.b2b_volume_discount_enabled,
        p1_0.b2c_display_in_catalog,
        p1_0.b2c_featured,
        p1_0.b2c_loyalty_points_multiplier,
        p1_0.b2c_promo_end_date,
        p1_0.b2c_promo_price,
        p1_0.b2c_promo_start_date,
        p1_0.b2c_rating,
        p1_0.b2c_retail_price,
        p1_0.b2c_review_count,
        p1_0.barcode,
        p1_0.bulk_discount_percentage,
        p1_0.bulk_discount_threshold,
        p1_0.bulk_package_size,
        p1_0.bulk_package_unit,
        p1_0.certification,
        p1_0.country_of_origin,
        p1_0.created_at,
        p1_0.custom_attributes,
        p1_0.customer_segments,
        p1_0.deliverable,
        p1_0.description,
        p1_0.dimensions,
        p1_0.inactive,
        p1_0.is_bulk_item,
        p1_0.is_perishable,
        p1_0.is_wholesale_only,
        p1_0.maximum_order_quantity,
        p1_0.minimum_order_quantity,
        p1_0.package_quantity,
        p1_0.package_size,
        p1_0.photo,
        p1_0.price_including_tax,
        p1_0.family_code,
        p1_0.promo_sku_points,
        p1_0.reference,
        p1_0.requires_approval,
        p1_0.requires_cold_storage,
        p1_0.requires_contract,
        p1_0.sale_price,
        p1_0.sale_unit,
        p1_0.seasonality,
        p1_0.sku,
        p1_0.stock_tracking,
        p1_0.supplier_code,
        p1_0.supplier_name,
        p1_0.target_market,
        p1_0.tax_rate,
        p1_0.title,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.vendable,
        p1_0.visible,
        p1_0.weight,
        p1_0.weight_unit,
        p1_0.wholesale_discount_percentage,
        p1_0.wholesale_minimum_quantity,
        p1_0.wholesale_price,
        p1_0.wholesale_tier_1_price,
        p1_0.wholesale_tier_1_quantity,
        p1_0.wholesale_tier_2_price,
        p1_0.wholesale_tier_2_quantity,
        p1_0.wholesale_tier_3_price,
        p1_0.wholesale_tier_3_quantity 
    from
        products p1_0 
    where
        p1_0.deliverable
2025-06-14 18:36:32 [main] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.code,
        pf1_0.created_at,
        pf1_0.description,
        pf1_0.is_active,
        pf1_0.name,
        pf1_0.updated_at 
    from
        product_families pf1_0 
    where
        pf1_0.code=?
2025-06-14 18:36:32 [main] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.code,
        pf1_0.created_at,
        pf1_0.description,
        pf1_0.is_active,
        pf1_0.name,
        pf1_0.updated_at 
    from
        product_families pf1_0 
    where
        pf1_0.code=?
2025-06-14 18:36:32 [main] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.code,
        pf1_0.created_at,
        pf1_0.description,
        pf1_0.is_active,
        pf1_0.name,
        pf1_0.updated_at 
    from
        product_families pf1_0 
    where
        pf1_0.code=?
2025-06-14 18:36:32 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.product_id,
        c1_1.id,
        c1_1.code,
        c1_1.created_at,
        c1_1.description,
        c1_1.is_active,
        c1_1.level,
        c1_1.name,
        c1_1.parent_id,
        c1_1.updated_at 
    from
        product_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.product_id=?
2025-06-14 18:36:32 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.product_id,
        c1_1.id,
        c1_1.code,
        c1_1.created_at,
        c1_1.description,
        c1_1.is_active,
        c1_1.level,
        c1_1.name,
        c1_1.parent_id,
        c1_1.updated_at 
    from
        product_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.product_id=?
2025-06-14 18:36:32 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.product_id,
        c1_1.id,
        c1_1.code,
        c1_1.created_at,
        c1_1.description,
        c1_1.is_active,
        c1_1.level,
        c1_1.name,
        c1_1.parent_id,
        c1_1.updated_at 
    from
        product_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.product_id=?
2025-06-14 18:36:32 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.product_id,
        c1_1.id,
        c1_1.code,
        c1_1.created_at,
        c1_1.description,
        c1_1.is_active,
        c1_1.level,
        c1_1.name,
        c1_1.parent_id,
        c1_1.updated_at 
    from
        product_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.product_id=?
2025-06-14 18:36:32 [main] ERROR m.f.o.s.p.s.CacheWarmingService - Error during cache warm-up
org.springframework.data.redis.serializer.SerializationException: Could not write JSON: Java 8 date/time type `java.time.ZonedDateTime` not supported by default: add Module "com.fasterxml.jackson.datatype:jackson-datatype-jsr310" to enable handling (or disable `MapperFeature.REQUIRE_HANDLERS_FOR_JAVA8_TIMES`) (through reference chain: java.util.ArrayList[0]->ma.foodplus.ordering.system.product.dto.response.ProductResponse["createdAt"])
	at org.springframework.data.redis.serializer.GenericJackson2JsonRedisSerializer.serialize(GenericJackson2JsonRedisSerializer.java:274)
	at org.springframework.data.redis.serializer.DefaultRedisElementWriter.write(DefaultRedisElementWriter.java:42)
	at org.springframework.data.redis.serializer.RedisSerializationContext$SerializationPair.write(RedisSerializationContext.java:292)
	at org.springframework.data.redis.cache.RedisCache.serializeCacheValue(RedisCache.java:343)
	at org.springframework.data.redis.cache.RedisCache.put(RedisCache.java:204)
	at org.springframework.cache.interceptor.AbstractCacheInvoker.doPut(AbstractCacheInvoker.java:157)
	at org.springframework.cache.interceptor.CacheAspectSupport$CachePutRequest.performCachePut(CacheAspectSupport.java:1087)
	at org.springframework.cache.interceptor.CacheAspectSupport$CachePutRequest.apply(CacheAspectSupport.java:1072)
	at org.springframework.cache.interceptor.CacheAspectSupport.evaluate(CacheAspectSupport.java:616)
	at org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:448)
	at org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:410)
	at org.springframework.cache.interceptor.CacheInterceptor.invoke(CacheInterceptor.java:65)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at ma.foodplus.ordering.system.product.service.ProductService$$SpringCGLIB$$0.getDeliverableProducts(<generated>)
	at ma.foodplus.ordering.system.product.service.CacheWarmingService.warmUpCache(CacheWarmingService.java:28)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.doInvoke(ApplicationListenerMethodAdapter.java:382)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.processEvent(ApplicationListenerMethodAdapter.java:254)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.onApplicationEvent(ApplicationListenerMethodAdapter.java:173)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:185)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:178)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:156)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:454)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:387)
	at org.springframework.boot.context.event.EventPublishingRunListener.ready(EventPublishingRunListener.java:109)
	at org.springframework.boot.SpringApplicationRunListeners.lambda$ready$6(SpringApplicationRunListeners.java:80)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:118)
	at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:112)
	at org.springframework.boot.SpringApplicationRunListeners.ready(SpringApplicationRunListeners.java:80)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:332)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1362)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1351)
	at ma.foodplus.ordering.system.FoodPlusOrderingApplication.main(FoodPlusOrderingApplication.java:22)
Caused by: com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Java 8 date/time type `java.time.ZonedDateTime` not supported by default: add Module "com.fasterxml.jackson.datatype:jackson-datatype-jsr310" to enable handling (or disable `MapperFeature.REQUIRE_HANDLERS_FOR_JAVA8_TIMES`) (through reference chain: java.util.ArrayList[0]->ma.foodplus.ordering.system.product.dto.response.ProductResponse["createdAt"])
	at com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:77)
	at com.fasterxml.jackson.databind.SerializerProvider.reportBadDefinition(SerializerProvider.java:1359)
	at com.fasterxml.jackson.databind.ser.impl.UnsupportedTypeSerializer.serialize(UnsupportedTypeSerializer.java:34)
	at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:732)
	at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:760)
	at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeWithType(BeanSerializerBase.java:643)
	at com.fasterxml.jackson.databind.ser.impl.IndexedListSerializer.serializeTypedContents(IndexedListSerializer.java:181)
	at com.fasterxml.jackson.databind.ser.impl.IndexedListSerializer.serializeContents(IndexedListSerializer.java:92)
	at com.fasterxml.jackson.databind.ser.impl.IndexedListSerializer.serializeContents(IndexedListSerializer.java:18)
	at com.fasterxml.jackson.databind.ser.std.AsArraySerializerBase.serializeWithType(AsArraySerializerBase.java:265)
	at com.fasterxml.jackson.databind.ser.impl.TypeWrappedSerializer.serialize(TypeWrappedSerializer.java:32)
	at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider._serialize(DefaultSerializerProvider.java:503)
	at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider.serializeValue(DefaultSerializerProvider.java:342)
	at com.fasterxml.jackson.databind.ObjectMapper._writeValueAndClose(ObjectMapper.java:4859)
	at com.fasterxml.jackson.databind.ObjectMapper.writeValueAsBytes(ObjectMapper.java:4104)
	at org.springframework.data.redis.serializer.GenericJackson2JsonRedisSerializer.serialize(GenericJackson2JsonRedisSerializer.java:272)
	... 38 common frames omitted
2025-06-14 18:36:32 [main] INFO  m.f.o.s.p.s.CacheWarmingService - Cache warm-up completed
2025-06-14 18:36:56 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-06-14 18:36:56 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-06-14 18:36:56 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-06-14 18:36:56 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-06-14 18:36:56 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-06-14 18:37:59 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - Starting FoodPlusOrderingApplication using Java 21.0.7 with PID 453626 (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes started by louki in /home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system)
2025-06-14 18:37:59 [main] DEBUG m.f.o.s.FoodPlusOrderingApplication - Running with Spring Boot v3.5.0, Spring v6.2.7
2025-06-14 18:37:59 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - The following 1 profile is active: "dev"
2025-06-14 18:38:00 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-14 18:38:00 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-14 18:38:00 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 145 ms. Found 12 JPA repository interfaces.
2025-06-14 18:38:01 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-14 18:38:01 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-06-14 18:38:01 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.common.repository.CategoryTarifRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 18:38:01 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.CustomerGroupRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 18:38:01 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.CustomerRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 18:38:01 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.ProductCustomerRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 18:38:01 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.DepotRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 18:38:01 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.ProductStockRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 18:38:01 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.SiteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 18:38:01 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.order.repository.OrderRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 18:38:01 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.product.repository.CategoryRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 18:38:01 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.product.repository.ProductAuditRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 18:38:01 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.product.repository.ProductRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 18:38:01 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.promos.repository.PromotionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 18:38:01 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 31 ms. Found 0 Redis repository interfaces.
2025-06-14 18:38:02 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8087 (http)
2025-06-14 18:38:02 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-14 18:38:02 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.41]
2025-06-14 18:38:02 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-14 18:38:02 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2771 ms
2025-06-14 18:38:02 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-06-14 18:38:03 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@74450c9b
2025-06-14 18:38:03 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-06-14 18:38:03 [main] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://10.113.181.84:5432/foodplus_ordering (PostgreSQL 17.5)
2025-06-14 18:38:03 [main] INFO  o.f.core.internal.command.DbValidate - Successfully validated 5 migrations (execution time 00:00.062s)
2025-06-14 18:38:03 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "public": 1.7.2
2025-06-14 18:38:03 [main] WARN  o.f.core.internal.command.DbMigrate - outOfOrder mode is active. Migration of schema "public" may not be reproducible.
2025-06-14 18:38:03 [main] INFO  o.f.core.internal.command.DbMigrate - Schema "public" is up to date. No migration necessary.
2025-06-14 18:38:03 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-06-14 18:38:03 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.15.Final
2025-06-14 18:38:03 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-06-14 18:38:03 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-06-14 18:38:03 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 17.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-06-14 18:38:04 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-06-14 18:38:06 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-06-14 18:38:06 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-06-14 18:38:06 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-06-14 18:38:10 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-06-14 18:38:11 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 4 endpoints beneath base path '/actuator'
2025-06-14 18:38:11 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8087 (http) with context path '/'
2025-06-14 18:38:11 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - Started FoodPlusOrderingApplication in 12.591 seconds (process running for 12.952)
2025-06-14 18:38:11 [main] INFO  m.f.o.s.p.s.CacheWarmingService - Starting cache warm-up...
2025-06-14 18:38:11 [main] INFO  m.f.o.s.p.service.ProductService - Getting all products
2025-06-14 18:38:11 [main] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.additional_photos,
        p1_0.availability_schedule,
        p1_0.b2b_contract_discount_percentage,
        p1_0.b2b_contract_required,
        p1_0.b2b_credit_terms,
        p1_0.b2b_custom_pricing_enabled,
        p1_0.b2b_delivery_lead_time,
        p1_0.b2b_minimum_order_value,
        p1_0.b2b_payment_methods,
        p1_0.b2b_volume_discount_enabled,
        p1_0.b2c_display_in_catalog,
        p1_0.b2c_featured,
        p1_0.b2c_loyalty_points_multiplier,
        p1_0.b2c_promo_end_date,
        p1_0.b2c_promo_price,
        p1_0.b2c_promo_start_date,
        p1_0.b2c_rating,
        p1_0.b2c_retail_price,
        p1_0.b2c_review_count,
        p1_0.barcode,
        p1_0.bulk_discount_percentage,
        p1_0.bulk_discount_threshold,
        p1_0.bulk_package_size,
        p1_0.bulk_package_unit,
        p1_0.certification,
        p1_0.country_of_origin,
        p1_0.created_at,
        p1_0.custom_attributes,
        p1_0.customer_segments,
        p1_0.deliverable,
        p1_0.description,
        p1_0.dimensions,
        p1_0.inactive,
        p1_0.is_bulk_item,
        p1_0.is_perishable,
        p1_0.is_wholesale_only,
        p1_0.maximum_order_quantity,
        p1_0.minimum_order_quantity,
        p1_0.package_quantity,
        p1_0.package_size,
        p1_0.photo,
        p1_0.price_including_tax,
        p1_0.family_code,
        p1_0.promo_sku_points,
        p1_0.reference,
        p1_0.requires_approval,
        p1_0.requires_cold_storage,
        p1_0.requires_contract,
        p1_0.sale_price,
        p1_0.sale_unit,
        p1_0.seasonality,
        p1_0.sku,
        p1_0.stock_tracking,
        p1_0.supplier_code,
        p1_0.supplier_name,
        p1_0.target_market,
        p1_0.tax_rate,
        p1_0.title,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.vendable,
        p1_0.visible,
        p1_0.weight,
        p1_0.weight_unit,
        p1_0.wholesale_discount_percentage,
        p1_0.wholesale_minimum_quantity,
        p1_0.wholesale_price,
        p1_0.wholesale_tier_1_price,
        p1_0.wholesale_tier_1_quantity,
        p1_0.wholesale_tier_2_price,
        p1_0.wholesale_tier_2_quantity,
        p1_0.wholesale_tier_3_price,
        p1_0.wholesale_tier_3_quantity 
    from
        products p1_0
2025-06-14 18:38:11 [main] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.code,
        pf1_0.created_at,
        pf1_0.description,
        pf1_0.is_active,
        pf1_0.name,
        pf1_0.updated_at 
    from
        product_families pf1_0 
    where
        pf1_0.code=?
2025-06-14 18:38:11 [main] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.code,
        pf1_0.created_at,
        pf1_0.description,
        pf1_0.is_active,
        pf1_0.name,
        pf1_0.updated_at 
    from
        product_families pf1_0 
    where
        pf1_0.code=?
2025-06-14 18:38:11 [main] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.code,
        pf1_0.created_at,
        pf1_0.description,
        pf1_0.is_active,
        pf1_0.name,
        pf1_0.updated_at 
    from
        product_families pf1_0 
    where
        pf1_0.code=?
2025-06-14 18:38:11 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.product_id,
        c1_1.id,
        c1_1.code,
        c1_1.created_at,
        c1_1.description,
        c1_1.is_active,
        c1_1.level,
        c1_1.name,
        c1_1.parent_id,
        c1_1.updated_at 
    from
        product_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.product_id=?
2025-06-14 18:38:11 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.product_id,
        c1_1.id,
        c1_1.code,
        c1_1.created_at,
        c1_1.description,
        c1_1.is_active,
        c1_1.level,
        c1_1.name,
        c1_1.parent_id,
        c1_1.updated_at 
    from
        product_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.product_id=?
2025-06-14 18:38:11 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.product_id,
        c1_1.id,
        c1_1.code,
        c1_1.created_at,
        c1_1.description,
        c1_1.is_active,
        c1_1.level,
        c1_1.name,
        c1_1.parent_id,
        c1_1.updated_at 
    from
        product_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.product_id=?
2025-06-14 18:38:11 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.product_id,
        c1_1.id,
        c1_1.code,
        c1_1.created_at,
        c1_1.description,
        c1_1.is_active,
        c1_1.level,
        c1_1.name,
        c1_1.parent_id,
        c1_1.updated_at 
    from
        product_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.product_id=?
2025-06-14 18:38:11 [main] INFO  m.f.o.s.p.s.CacheWarmingService - Warmed up all products cache
2025-06-14 18:38:11 [main] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.additional_photos,
        p1_0.availability_schedule,
        p1_0.b2b_contract_discount_percentage,
        p1_0.b2b_contract_required,
        p1_0.b2b_credit_terms,
        p1_0.b2b_custom_pricing_enabled,
        p1_0.b2b_delivery_lead_time,
        p1_0.b2b_minimum_order_value,
        p1_0.b2b_payment_methods,
        p1_0.b2b_volume_discount_enabled,
        p1_0.b2c_display_in_catalog,
        p1_0.b2c_featured,
        p1_0.b2c_loyalty_points_multiplier,
        p1_0.b2c_promo_end_date,
        p1_0.b2c_promo_price,
        p1_0.b2c_promo_start_date,
        p1_0.b2c_rating,
        p1_0.b2c_retail_price,
        p1_0.b2c_review_count,
        p1_0.barcode,
        p1_0.bulk_discount_percentage,
        p1_0.bulk_discount_threshold,
        p1_0.bulk_package_size,
        p1_0.bulk_package_unit,
        p1_0.certification,
        p1_0.country_of_origin,
        p1_0.created_at,
        p1_0.custom_attributes,
        p1_0.customer_segments,
        p1_0.deliverable,
        p1_0.description,
        p1_0.dimensions,
        p1_0.inactive,
        p1_0.is_bulk_item,
        p1_0.is_perishable,
        p1_0.is_wholesale_only,
        p1_0.maximum_order_quantity,
        p1_0.minimum_order_quantity,
        p1_0.package_quantity,
        p1_0.package_size,
        p1_0.photo,
        p1_0.price_including_tax,
        p1_0.family_code,
        p1_0.promo_sku_points,
        p1_0.reference,
        p1_0.requires_approval,
        p1_0.requires_cold_storage,
        p1_0.requires_contract,
        p1_0.sale_price,
        p1_0.sale_unit,
        p1_0.seasonality,
        p1_0.sku,
        p1_0.stock_tracking,
        p1_0.supplier_code,
        p1_0.supplier_name,
        p1_0.target_market,
        p1_0.tax_rate,
        p1_0.title,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.vendable,
        p1_0.visible,
        p1_0.weight,
        p1_0.weight_unit,
        p1_0.wholesale_discount_percentage,
        p1_0.wholesale_minimum_quantity,
        p1_0.wholesale_price,
        p1_0.wholesale_tier_1_price,
        p1_0.wholesale_tier_1_quantity,
        p1_0.wholesale_tier_2_price,
        p1_0.wholesale_tier_2_quantity,
        p1_0.wholesale_tier_3_price,
        p1_0.wholesale_tier_3_quantity 
    from
        products p1_0 
    where
        p1_0.deliverable
2025-06-14 18:38:11 [main] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.code,
        pf1_0.created_at,
        pf1_0.description,
        pf1_0.is_active,
        pf1_0.name,
        pf1_0.updated_at 
    from
        product_families pf1_0 
    where
        pf1_0.code=?
2025-06-14 18:38:11 [main] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.code,
        pf1_0.created_at,
        pf1_0.description,
        pf1_0.is_active,
        pf1_0.name,
        pf1_0.updated_at 
    from
        product_families pf1_0 
    where
        pf1_0.code=?
2025-06-14 18:38:11 [main] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.code,
        pf1_0.created_at,
        pf1_0.description,
        pf1_0.is_active,
        pf1_0.name,
        pf1_0.updated_at 
    from
        product_families pf1_0 
    where
        pf1_0.code=?
2025-06-14 18:38:11 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.product_id,
        c1_1.id,
        c1_1.code,
        c1_1.created_at,
        c1_1.description,
        c1_1.is_active,
        c1_1.level,
        c1_1.name,
        c1_1.parent_id,
        c1_1.updated_at 
    from
        product_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.product_id=?
2025-06-14 18:38:11 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.product_id,
        c1_1.id,
        c1_1.code,
        c1_1.created_at,
        c1_1.description,
        c1_1.is_active,
        c1_1.level,
        c1_1.name,
        c1_1.parent_id,
        c1_1.updated_at 
    from
        product_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.product_id=?
2025-06-14 18:38:11 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.product_id,
        c1_1.id,
        c1_1.code,
        c1_1.created_at,
        c1_1.description,
        c1_1.is_active,
        c1_1.level,
        c1_1.name,
        c1_1.parent_id,
        c1_1.updated_at 
    from
        product_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.product_id=?
2025-06-14 18:38:11 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.product_id,
        c1_1.id,
        c1_1.code,
        c1_1.created_at,
        c1_1.description,
        c1_1.is_active,
        c1_1.level,
        c1_1.name,
        c1_1.parent_id,
        c1_1.updated_at 
    from
        product_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.product_id=?
2025-06-14 18:38:11 [main] ERROR m.f.o.s.p.s.CacheWarmingService - Error during cache warm-up
org.springframework.data.redis.serializer.SerializationException: Could not write JSON: Java 8 date/time type `java.time.ZonedDateTime` not supported by default: add Module "com.fasterxml.jackson.datatype:jackson-datatype-jsr310" to enable handling (or disable `MapperFeature.REQUIRE_HANDLERS_FOR_JAVA8_TIMES`) (through reference chain: java.util.ArrayList[0]->ma.foodplus.ordering.system.product.dto.response.ProductResponse["createdAt"])
	at org.springframework.data.redis.serializer.GenericJackson2JsonRedisSerializer.serialize(GenericJackson2JsonRedisSerializer.java:274)
	at org.springframework.data.redis.serializer.DefaultRedisElementWriter.write(DefaultRedisElementWriter.java:42)
	at org.springframework.data.redis.serializer.RedisSerializationContext$SerializationPair.write(RedisSerializationContext.java:292)
	at org.springframework.data.redis.cache.RedisCache.serializeCacheValue(RedisCache.java:343)
	at org.springframework.data.redis.cache.RedisCache.put(RedisCache.java:204)
	at org.springframework.cache.interceptor.AbstractCacheInvoker.doPut(AbstractCacheInvoker.java:157)
	at org.springframework.cache.interceptor.CacheAspectSupport$CachePutRequest.performCachePut(CacheAspectSupport.java:1087)
	at org.springframework.cache.interceptor.CacheAspectSupport$CachePutRequest.apply(CacheAspectSupport.java:1072)
	at org.springframework.cache.interceptor.CacheAspectSupport.evaluate(CacheAspectSupport.java:616)
	at org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:448)
	at org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:410)
	at org.springframework.cache.interceptor.CacheInterceptor.invoke(CacheInterceptor.java:65)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at ma.foodplus.ordering.system.product.service.ProductService$$SpringCGLIB$$0.getDeliverableProducts(<generated>)
	at ma.foodplus.ordering.system.product.service.CacheWarmingService.warmUpCache(CacheWarmingService.java:28)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.doInvoke(ApplicationListenerMethodAdapter.java:382)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.processEvent(ApplicationListenerMethodAdapter.java:254)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.onApplicationEvent(ApplicationListenerMethodAdapter.java:173)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:185)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:178)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:156)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:454)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:387)
	at org.springframework.boot.context.event.EventPublishingRunListener.ready(EventPublishingRunListener.java:109)
	at org.springframework.boot.SpringApplicationRunListeners.lambda$ready$6(SpringApplicationRunListeners.java:80)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:118)
	at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:112)
	at org.springframework.boot.SpringApplicationRunListeners.ready(SpringApplicationRunListeners.java:80)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:332)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1362)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1351)
	at ma.foodplus.ordering.system.FoodPlusOrderingApplication.main(FoodPlusOrderingApplication.java:22)
Caused by: com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Java 8 date/time type `java.time.ZonedDateTime` not supported by default: add Module "com.fasterxml.jackson.datatype:jackson-datatype-jsr310" to enable handling (or disable `MapperFeature.REQUIRE_HANDLERS_FOR_JAVA8_TIMES`) (through reference chain: java.util.ArrayList[0]->ma.foodplus.ordering.system.product.dto.response.ProductResponse["createdAt"])
	at com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:77)
	at com.fasterxml.jackson.databind.SerializerProvider.reportBadDefinition(SerializerProvider.java:1359)
	at com.fasterxml.jackson.databind.ser.impl.UnsupportedTypeSerializer.serialize(UnsupportedTypeSerializer.java:34)
	at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:732)
	at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:760)
	at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeWithType(BeanSerializerBase.java:643)
	at com.fasterxml.jackson.databind.ser.impl.IndexedListSerializer.serializeTypedContents(IndexedListSerializer.java:181)
	at com.fasterxml.jackson.databind.ser.impl.IndexedListSerializer.serializeContents(IndexedListSerializer.java:92)
	at com.fasterxml.jackson.databind.ser.impl.IndexedListSerializer.serializeContents(IndexedListSerializer.java:18)
	at com.fasterxml.jackson.databind.ser.std.AsArraySerializerBase.serializeWithType(AsArraySerializerBase.java:265)
	at com.fasterxml.jackson.databind.ser.impl.TypeWrappedSerializer.serialize(TypeWrappedSerializer.java:32)
	at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider._serialize(DefaultSerializerProvider.java:503)
	at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider.serializeValue(DefaultSerializerProvider.java:342)
	at com.fasterxml.jackson.databind.ObjectMapper._writeValueAndClose(ObjectMapper.java:4859)
	at com.fasterxml.jackson.databind.ObjectMapper.writeValueAsBytes(ObjectMapper.java:4104)
	at org.springframework.data.redis.serializer.GenericJackson2JsonRedisSerializer.serialize(GenericJackson2JsonRedisSerializer.java:272)
	... 38 common frames omitted
2025-06-14 18:38:11 [main] INFO  m.f.o.s.p.s.CacheWarmingService - Cache warm-up completed
2025-06-14 18:39:08 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-06-14 18:39:08 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-06-14 18:39:08 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-06-14 18:39:08 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-06-14 18:39:08 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-06-14 18:39:27 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - Starting FoodPlusOrderingApplication using Java 21.0.7 with PID 455052 (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes started by louki in /home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system)
2025-06-14 18:39:27 [main] DEBUG m.f.o.s.FoodPlusOrderingApplication - Running with Spring Boot v3.5.0, Spring v6.2.7
2025-06-14 18:39:27 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - The following 1 profile is active: "dev"
2025-06-14 18:39:27 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-14 18:39:27 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-14 18:39:28 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 109 ms. Found 12 JPA repository interfaces.
2025-06-14 18:39:28 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-14 18:39:28 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-06-14 18:39:28 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.common.repository.CategoryTarifRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 18:39:28 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.CustomerGroupRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 18:39:28 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.CustomerRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 18:39:28 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.ProductCustomerRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 18:39:28 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.DepotRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 18:39:28 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.ProductStockRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 18:39:28 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.SiteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 18:39:28 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.order.repository.OrderRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 18:39:28 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.product.repository.CategoryRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 18:39:28 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.product.repository.ProductAuditRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 18:39:28 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.product.repository.ProductRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 18:39:28 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.promos.repository.PromotionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 18:39:28 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 21 ms. Found 0 Redis repository interfaces.
2025-06-14 18:39:29 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8087 (http)
2025-06-14 18:39:29 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-14 18:39:29 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.41]
2025-06-14 18:39:29 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-14 18:39:29 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2266 ms
2025-06-14 18:39:29 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-06-14 18:39:30 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@40aad17d
2025-06-14 18:39:30 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-06-14 18:39:30 [main] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://10.113.181.84:5432/foodplus_ordering (PostgreSQL 17.5)
2025-06-14 18:39:30 [main] INFO  o.f.core.internal.command.DbValidate - Successfully validated 5 migrations (execution time 00:00.025s)
2025-06-14 18:39:30 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "public": 1.7.2
2025-06-14 18:39:30 [main] WARN  o.f.core.internal.command.DbMigrate - outOfOrder mode is active. Migration of schema "public" may not be reproducible.
2025-06-14 18:39:30 [main] INFO  o.f.core.internal.command.DbMigrate - Schema "public" is up to date. No migration necessary.
2025-06-14 18:39:30 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-06-14 18:39:30 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.15.Final
2025-06-14 18:39:30 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-06-14 18:39:30 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-06-14 18:39:30 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 17.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-06-14 18:39:30 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-06-14 18:39:31 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-06-14 18:39:31 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-06-14 18:39:32 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-06-14 18:39:34 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-06-14 18:39:35 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 4 endpoints beneath base path '/actuator'
2025-06-14 18:39:35 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8087 (http) with context path '/'
2025-06-14 18:39:35 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - Started FoodPlusOrderingApplication in 9.256 seconds (process running for 10.094)
2025-06-14 18:39:35 [main] INFO  m.f.o.s.p.s.CacheWarmingService - Starting cache warm-up...
2025-06-14 18:39:35 [main] INFO  m.f.o.s.p.service.ProductService - Getting all products
2025-06-14 18:39:35 [main] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.additional_photos,
        p1_0.availability_schedule,
        p1_0.b2b_contract_discount_percentage,
        p1_0.b2b_contract_required,
        p1_0.b2b_credit_terms,
        p1_0.b2b_custom_pricing_enabled,
        p1_0.b2b_delivery_lead_time,
        p1_0.b2b_minimum_order_value,
        p1_0.b2b_payment_methods,
        p1_0.b2b_volume_discount_enabled,
        p1_0.b2c_display_in_catalog,
        p1_0.b2c_featured,
        p1_0.b2c_loyalty_points_multiplier,
        p1_0.b2c_promo_end_date,
        p1_0.b2c_promo_price,
        p1_0.b2c_promo_start_date,
        p1_0.b2c_rating,
        p1_0.b2c_retail_price,
        p1_0.b2c_review_count,
        p1_0.barcode,
        p1_0.bulk_discount_percentage,
        p1_0.bulk_discount_threshold,
        p1_0.bulk_package_size,
        p1_0.bulk_package_unit,
        p1_0.certification,
        p1_0.country_of_origin,
        p1_0.created_at,
        p1_0.custom_attributes,
        p1_0.customer_segments,
        p1_0.deliverable,
        p1_0.description,
        p1_0.dimensions,
        p1_0.inactive,
        p1_0.is_bulk_item,
        p1_0.is_perishable,
        p1_0.is_wholesale_only,
        p1_0.maximum_order_quantity,
        p1_0.minimum_order_quantity,
        p1_0.package_quantity,
        p1_0.package_size,
        p1_0.photo,
        p1_0.price_including_tax,
        p1_0.family_code,
        p1_0.promo_sku_points,
        p1_0.reference,
        p1_0.requires_approval,
        p1_0.requires_cold_storage,
        p1_0.requires_contract,
        p1_0.sale_price,
        p1_0.sale_unit,
        p1_0.seasonality,
        p1_0.sku,
        p1_0.stock_tracking,
        p1_0.supplier_code,
        p1_0.supplier_name,
        p1_0.target_market,
        p1_0.tax_rate,
        p1_0.title,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.vendable,
        p1_0.visible,
        p1_0.weight,
        p1_0.weight_unit,
        p1_0.wholesale_discount_percentage,
        p1_0.wholesale_minimum_quantity,
        p1_0.wholesale_price,
        p1_0.wholesale_tier_1_price,
        p1_0.wholesale_tier_1_quantity,
        p1_0.wholesale_tier_2_price,
        p1_0.wholesale_tier_2_quantity,
        p1_0.wholesale_tier_3_price,
        p1_0.wholesale_tier_3_quantity 
    from
        products p1_0
2025-06-14 18:39:35 [main] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.code,
        pf1_0.created_at,
        pf1_0.description,
        pf1_0.is_active,
        pf1_0.name,
        pf1_0.updated_at 
    from
        product_families pf1_0 
    where
        pf1_0.code=?
2025-06-14 18:39:35 [main] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.code,
        pf1_0.created_at,
        pf1_0.description,
        pf1_0.is_active,
        pf1_0.name,
        pf1_0.updated_at 
    from
        product_families pf1_0 
    where
        pf1_0.code=?
2025-06-14 18:39:35 [main] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.code,
        pf1_0.created_at,
        pf1_0.description,
        pf1_0.is_active,
        pf1_0.name,
        pf1_0.updated_at 
    from
        product_families pf1_0 
    where
        pf1_0.code=?
2025-06-14 18:39:35 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.product_id,
        c1_1.id,
        c1_1.code,
        c1_1.created_at,
        c1_1.description,
        c1_1.is_active,
        c1_1.level,
        c1_1.name,
        c1_1.parent_id,
        c1_1.updated_at 
    from
        product_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.product_id=?
2025-06-14 18:39:35 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.product_id,
        c1_1.id,
        c1_1.code,
        c1_1.created_at,
        c1_1.description,
        c1_1.is_active,
        c1_1.level,
        c1_1.name,
        c1_1.parent_id,
        c1_1.updated_at 
    from
        product_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.product_id=?
2025-06-14 18:39:35 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.product_id,
        c1_1.id,
        c1_1.code,
        c1_1.created_at,
        c1_1.description,
        c1_1.is_active,
        c1_1.level,
        c1_1.name,
        c1_1.parent_id,
        c1_1.updated_at 
    from
        product_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.product_id=?
2025-06-14 18:39:35 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.product_id,
        c1_1.id,
        c1_1.code,
        c1_1.created_at,
        c1_1.description,
        c1_1.is_active,
        c1_1.level,
        c1_1.name,
        c1_1.parent_id,
        c1_1.updated_at 
    from
        product_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.product_id=?
2025-06-14 18:39:35 [main] INFO  m.f.o.s.p.s.CacheWarmingService - Warmed up all products cache
2025-06-14 18:39:35 [main] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.additional_photos,
        p1_0.availability_schedule,
        p1_0.b2b_contract_discount_percentage,
        p1_0.b2b_contract_required,
        p1_0.b2b_credit_terms,
        p1_0.b2b_custom_pricing_enabled,
        p1_0.b2b_delivery_lead_time,
        p1_0.b2b_minimum_order_value,
        p1_0.b2b_payment_methods,
        p1_0.b2b_volume_discount_enabled,
        p1_0.b2c_display_in_catalog,
        p1_0.b2c_featured,
        p1_0.b2c_loyalty_points_multiplier,
        p1_0.b2c_promo_end_date,
        p1_0.b2c_promo_price,
        p1_0.b2c_promo_start_date,
        p1_0.b2c_rating,
        p1_0.b2c_retail_price,
        p1_0.b2c_review_count,
        p1_0.barcode,
        p1_0.bulk_discount_percentage,
        p1_0.bulk_discount_threshold,
        p1_0.bulk_package_size,
        p1_0.bulk_package_unit,
        p1_0.certification,
        p1_0.country_of_origin,
        p1_0.created_at,
        p1_0.custom_attributes,
        p1_0.customer_segments,
        p1_0.deliverable,
        p1_0.description,
        p1_0.dimensions,
        p1_0.inactive,
        p1_0.is_bulk_item,
        p1_0.is_perishable,
        p1_0.is_wholesale_only,
        p1_0.maximum_order_quantity,
        p1_0.minimum_order_quantity,
        p1_0.package_quantity,
        p1_0.package_size,
        p1_0.photo,
        p1_0.price_including_tax,
        p1_0.family_code,
        p1_0.promo_sku_points,
        p1_0.reference,
        p1_0.requires_approval,
        p1_0.requires_cold_storage,
        p1_0.requires_contract,
        p1_0.sale_price,
        p1_0.sale_unit,
        p1_0.seasonality,
        p1_0.sku,
        p1_0.stock_tracking,
        p1_0.supplier_code,
        p1_0.supplier_name,
        p1_0.target_market,
        p1_0.tax_rate,
        p1_0.title,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.vendable,
        p1_0.visible,
        p1_0.weight,
        p1_0.weight_unit,
        p1_0.wholesale_discount_percentage,
        p1_0.wholesale_minimum_quantity,
        p1_0.wholesale_price,
        p1_0.wholesale_tier_1_price,
        p1_0.wholesale_tier_1_quantity,
        p1_0.wholesale_tier_2_price,
        p1_0.wholesale_tier_2_quantity,
        p1_0.wholesale_tier_3_price,
        p1_0.wholesale_tier_3_quantity 
    from
        products p1_0 
    where
        p1_0.deliverable
2025-06-14 18:39:35 [main] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.code,
        pf1_0.created_at,
        pf1_0.description,
        pf1_0.is_active,
        pf1_0.name,
        pf1_0.updated_at 
    from
        product_families pf1_0 
    where
        pf1_0.code=?
2025-06-14 18:39:35 [main] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.code,
        pf1_0.created_at,
        pf1_0.description,
        pf1_0.is_active,
        pf1_0.name,
        pf1_0.updated_at 
    from
        product_families pf1_0 
    where
        pf1_0.code=?
2025-06-14 18:39:35 [main] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.code,
        pf1_0.created_at,
        pf1_0.description,
        pf1_0.is_active,
        pf1_0.name,
        pf1_0.updated_at 
    from
        product_families pf1_0 
    where
        pf1_0.code=?
2025-06-14 18:39:35 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.product_id,
        c1_1.id,
        c1_1.code,
        c1_1.created_at,
        c1_1.description,
        c1_1.is_active,
        c1_1.level,
        c1_1.name,
        c1_1.parent_id,
        c1_1.updated_at 
    from
        product_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.product_id=?
2025-06-14 18:39:35 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.product_id,
        c1_1.id,
        c1_1.code,
        c1_1.created_at,
        c1_1.description,
        c1_1.is_active,
        c1_1.level,
        c1_1.name,
        c1_1.parent_id,
        c1_1.updated_at 
    from
        product_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.product_id=?
2025-06-14 18:39:35 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.product_id,
        c1_1.id,
        c1_1.code,
        c1_1.created_at,
        c1_1.description,
        c1_1.is_active,
        c1_1.level,
        c1_1.name,
        c1_1.parent_id,
        c1_1.updated_at 
    from
        product_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.product_id=?
2025-06-14 18:39:35 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.product_id,
        c1_1.id,
        c1_1.code,
        c1_1.created_at,
        c1_1.description,
        c1_1.is_active,
        c1_1.level,
        c1_1.name,
        c1_1.parent_id,
        c1_1.updated_at 
    from
        product_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.product_id=?
2025-06-14 18:39:35 [main] ERROR m.f.o.s.p.s.CacheWarmingService - Error during cache warm-up
org.springframework.data.redis.serializer.SerializationException: Could not write JSON: Java 8 date/time type `java.time.ZonedDateTime` not supported by default: add Module "com.fasterxml.jackson.datatype:jackson-datatype-jsr310" to enable handling (or disable `MapperFeature.REQUIRE_HANDLERS_FOR_JAVA8_TIMES`) (through reference chain: java.util.ArrayList[0]->ma.foodplus.ordering.system.product.dto.response.ProductResponse["createdAt"])
	at org.springframework.data.redis.serializer.GenericJackson2JsonRedisSerializer.serialize(GenericJackson2JsonRedisSerializer.java:274)
	at org.springframework.data.redis.serializer.DefaultRedisElementWriter.write(DefaultRedisElementWriter.java:42)
	at org.springframework.data.redis.serializer.RedisSerializationContext$SerializationPair.write(RedisSerializationContext.java:292)
	at org.springframework.data.redis.cache.RedisCache.serializeCacheValue(RedisCache.java:343)
	at org.springframework.data.redis.cache.RedisCache.put(RedisCache.java:204)
	at org.springframework.cache.interceptor.AbstractCacheInvoker.doPut(AbstractCacheInvoker.java:157)
	at org.springframework.cache.interceptor.CacheAspectSupport$CachePutRequest.performCachePut(CacheAspectSupport.java:1087)
	at org.springframework.cache.interceptor.CacheAspectSupport$CachePutRequest.apply(CacheAspectSupport.java:1072)
	at org.springframework.cache.interceptor.CacheAspectSupport.evaluate(CacheAspectSupport.java:616)
	at org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:448)
	at org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:410)
	at org.springframework.cache.interceptor.CacheInterceptor.invoke(CacheInterceptor.java:65)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at ma.foodplus.ordering.system.product.service.ProductService$$SpringCGLIB$$0.getDeliverableProducts(<generated>)
	at ma.foodplus.ordering.system.product.service.CacheWarmingService.warmUpCache(CacheWarmingService.java:28)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.doInvoke(ApplicationListenerMethodAdapter.java:382)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.processEvent(ApplicationListenerMethodAdapter.java:254)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.onApplicationEvent(ApplicationListenerMethodAdapter.java:173)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:185)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:178)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:156)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:454)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:387)
	at org.springframework.boot.context.event.EventPublishingRunListener.ready(EventPublishingRunListener.java:109)
	at org.springframework.boot.SpringApplicationRunListeners.lambda$ready$6(SpringApplicationRunListeners.java:80)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:118)
	at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:112)
	at org.springframework.boot.SpringApplicationRunListeners.ready(SpringApplicationRunListeners.java:80)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:332)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1362)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1351)
	at ma.foodplus.ordering.system.FoodPlusOrderingApplication.main(FoodPlusOrderingApplication.java:22)
Caused by: com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Java 8 date/time type `java.time.ZonedDateTime` not supported by default: add Module "com.fasterxml.jackson.datatype:jackson-datatype-jsr310" to enable handling (or disable `MapperFeature.REQUIRE_HANDLERS_FOR_JAVA8_TIMES`) (through reference chain: java.util.ArrayList[0]->ma.foodplus.ordering.system.product.dto.response.ProductResponse["createdAt"])
	at com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:77)
	at com.fasterxml.jackson.databind.SerializerProvider.reportBadDefinition(SerializerProvider.java:1359)
	at com.fasterxml.jackson.databind.ser.impl.UnsupportedTypeSerializer.serialize(UnsupportedTypeSerializer.java:34)
	at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:732)
	at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:760)
	at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeWithType(BeanSerializerBase.java:643)
	at com.fasterxml.jackson.databind.ser.impl.IndexedListSerializer.serializeTypedContents(IndexedListSerializer.java:181)
	at com.fasterxml.jackson.databind.ser.impl.IndexedListSerializer.serializeContents(IndexedListSerializer.java:92)
	at com.fasterxml.jackson.databind.ser.impl.IndexedListSerializer.serializeContents(IndexedListSerializer.java:18)
	at com.fasterxml.jackson.databind.ser.std.AsArraySerializerBase.serializeWithType(AsArraySerializerBase.java:265)
	at com.fasterxml.jackson.databind.ser.impl.TypeWrappedSerializer.serialize(TypeWrappedSerializer.java:32)
	at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider._serialize(DefaultSerializerProvider.java:503)
	at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider.serializeValue(DefaultSerializerProvider.java:342)
	at com.fasterxml.jackson.databind.ObjectMapper._writeValueAndClose(ObjectMapper.java:4859)
	at com.fasterxml.jackson.databind.ObjectMapper.writeValueAsBytes(ObjectMapper.java:4104)
	at org.springframework.data.redis.serializer.GenericJackson2JsonRedisSerializer.serialize(GenericJackson2JsonRedisSerializer.java:272)
	... 38 common frames omitted
2025-06-14 18:39:35 [main] INFO  m.f.o.s.p.s.CacheWarmingService - Cache warm-up completed
2025-06-14 18:40:00 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-06-14 18:40:00 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-06-14 18:40:00 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-06-14 18:40:00 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-06-14 18:40:00 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-06-14 18:41:00 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - Starting FoodPlusOrderingApplication using Java 21.0.7 with PID 456715 (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes started by louki in /home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system)
2025-06-14 18:41:00 [main] DEBUG m.f.o.s.FoodPlusOrderingApplication - Running with Spring Boot v3.5.0, Spring v6.2.7
2025-06-14 18:41:00 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - The following 1 profile is active: "dev"
2025-06-14 18:41:01 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-14 18:41:01 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-14 18:41:01 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 116 ms. Found 12 JPA repository interfaces.
2025-06-14 18:41:02 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-14 18:41:02 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-06-14 18:41:02 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.common.repository.CategoryTarifRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 18:41:02 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.CustomerGroupRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 18:41:02 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.CustomerRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 18:41:02 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.ProductCustomerRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 18:41:02 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.DepotRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 18:41:02 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.ProductStockRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 18:41:02 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.SiteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 18:41:02 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.order.repository.OrderRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 18:41:02 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.product.repository.CategoryRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 18:41:02 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.product.repository.ProductAuditRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 18:41:02 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.product.repository.ProductRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 18:41:02 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.promos.repository.PromotionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 18:41:02 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 49 ms. Found 0 Redis repository interfaces.
2025-06-14 18:41:02 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8087 (http)
2025-06-14 18:41:02 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-14 18:41:02 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.41]
2025-06-14 18:41:02 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-14 18:41:02 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2188 ms
2025-06-14 18:41:03 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-06-14 18:41:03 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@40aad17d
2025-06-14 18:41:03 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-06-14 18:41:03 [main] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://10.113.181.84:5432/foodplus_ordering (PostgreSQL 17.5)
2025-06-14 18:41:03 [main] INFO  o.f.core.internal.command.DbValidate - Successfully validated 5 migrations (execution time 00:00.027s)
2025-06-14 18:41:03 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "public": 1.7.2
2025-06-14 18:41:03 [main] WARN  o.f.core.internal.command.DbMigrate - outOfOrder mode is active. Migration of schema "public" may not be reproducible.
2025-06-14 18:41:03 [main] INFO  o.f.core.internal.command.DbMigrate - Schema "public" is up to date. No migration necessary.
2025-06-14 18:41:03 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-06-14 18:41:03 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.15.Final
2025-06-14 18:41:03 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-06-14 18:41:03 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-06-14 18:41:04 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 17.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-06-14 18:41:04 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-06-14 18:41:05 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-06-14 18:41:05 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-06-14 18:41:05 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-06-14 18:41:08 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-06-14 18:41:08 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 4 endpoints beneath base path '/actuator'
2025-06-14 18:41:08 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8087 (http) with context path '/'
2025-06-14 18:41:08 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - Started FoodPlusOrderingApplication in 8.623 seconds (process running for 8.919)
2025-06-14 18:41:08 [main] INFO  m.f.o.s.p.s.CacheWarmingService - Starting cache warm-up...
2025-06-14 18:41:08 [main] INFO  m.f.o.s.p.service.ProductService - Getting all products
2025-06-14 18:41:08 [main] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.additional_photos,
        p1_0.availability_schedule,
        p1_0.b2b_contract_discount_percentage,
        p1_0.b2b_contract_required,
        p1_0.b2b_credit_terms,
        p1_0.b2b_custom_pricing_enabled,
        p1_0.b2b_delivery_lead_time,
        p1_0.b2b_minimum_order_value,
        p1_0.b2b_payment_methods,
        p1_0.b2b_volume_discount_enabled,
        p1_0.b2c_display_in_catalog,
        p1_0.b2c_featured,
        p1_0.b2c_loyalty_points_multiplier,
        p1_0.b2c_promo_end_date,
        p1_0.b2c_promo_price,
        p1_0.b2c_promo_start_date,
        p1_0.b2c_rating,
        p1_0.b2c_retail_price,
        p1_0.b2c_review_count,
        p1_0.barcode,
        p1_0.bulk_discount_percentage,
        p1_0.bulk_discount_threshold,
        p1_0.bulk_package_size,
        p1_0.bulk_package_unit,
        p1_0.certification,
        p1_0.country_of_origin,
        p1_0.created_at,
        p1_0.custom_attributes,
        p1_0.customer_segments,
        p1_0.deliverable,
        p1_0.description,
        p1_0.dimensions,
        p1_0.inactive,
        p1_0.is_bulk_item,
        p1_0.is_perishable,
        p1_0.is_wholesale_only,
        p1_0.maximum_order_quantity,
        p1_0.minimum_order_quantity,
        p1_0.package_quantity,
        p1_0.package_size,
        p1_0.photo,
        p1_0.price_including_tax,
        p1_0.family_code,
        p1_0.promo_sku_points,
        p1_0.reference,
        p1_0.requires_approval,
        p1_0.requires_cold_storage,
        p1_0.requires_contract,
        p1_0.sale_price,
        p1_0.sale_unit,
        p1_0.seasonality,
        p1_0.sku,
        p1_0.stock_tracking,
        p1_0.supplier_code,
        p1_0.supplier_name,
        p1_0.target_market,
        p1_0.tax_rate,
        p1_0.title,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.vendable,
        p1_0.visible,
        p1_0.weight,
        p1_0.weight_unit,
        p1_0.wholesale_discount_percentage,
        p1_0.wholesale_minimum_quantity,
        p1_0.wholesale_price,
        p1_0.wholesale_tier_1_price,
        p1_0.wholesale_tier_1_quantity,
        p1_0.wholesale_tier_2_price,
        p1_0.wholesale_tier_2_quantity,
        p1_0.wholesale_tier_3_price,
        p1_0.wholesale_tier_3_quantity 
    from
        products p1_0
2025-06-14 18:41:08 [main] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.code,
        pf1_0.created_at,
        pf1_0.description,
        pf1_0.is_active,
        pf1_0.name,
        pf1_0.updated_at 
    from
        product_families pf1_0 
    where
        pf1_0.code=?
2025-06-14 18:41:08 [main] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.code,
        pf1_0.created_at,
        pf1_0.description,
        pf1_0.is_active,
        pf1_0.name,
        pf1_0.updated_at 
    from
        product_families pf1_0 
    where
        pf1_0.code=?
2025-06-14 18:41:08 [main] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.code,
        pf1_0.created_at,
        pf1_0.description,
        pf1_0.is_active,
        pf1_0.name,
        pf1_0.updated_at 
    from
        product_families pf1_0 
    where
        pf1_0.code=?
2025-06-14 18:41:08 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.product_id,
        c1_1.id,
        c1_1.code,
        c1_1.created_at,
        c1_1.description,
        c1_1.is_active,
        c1_1.level,
        c1_1.name,
        c1_1.parent_id,
        c1_1.updated_at 
    from
        product_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.product_id=?
2025-06-14 18:41:08 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.product_id,
        c1_1.id,
        c1_1.code,
        c1_1.created_at,
        c1_1.description,
        c1_1.is_active,
        c1_1.level,
        c1_1.name,
        c1_1.parent_id,
        c1_1.updated_at 
    from
        product_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.product_id=?
2025-06-14 18:41:08 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.product_id,
        c1_1.id,
        c1_1.code,
        c1_1.created_at,
        c1_1.description,
        c1_1.is_active,
        c1_1.level,
        c1_1.name,
        c1_1.parent_id,
        c1_1.updated_at 
    from
        product_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.product_id=?
2025-06-14 18:41:08 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.product_id,
        c1_1.id,
        c1_1.code,
        c1_1.created_at,
        c1_1.description,
        c1_1.is_active,
        c1_1.level,
        c1_1.name,
        c1_1.parent_id,
        c1_1.updated_at 
    from
        product_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.product_id=?
2025-06-14 18:41:08 [main] INFO  m.f.o.s.p.s.CacheWarmingService - Warmed up all products cache
2025-06-14 18:41:08 [main] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.additional_photos,
        p1_0.availability_schedule,
        p1_0.b2b_contract_discount_percentage,
        p1_0.b2b_contract_required,
        p1_0.b2b_credit_terms,
        p1_0.b2b_custom_pricing_enabled,
        p1_0.b2b_delivery_lead_time,
        p1_0.b2b_minimum_order_value,
        p1_0.b2b_payment_methods,
        p1_0.b2b_volume_discount_enabled,
        p1_0.b2c_display_in_catalog,
        p1_0.b2c_featured,
        p1_0.b2c_loyalty_points_multiplier,
        p1_0.b2c_promo_end_date,
        p1_0.b2c_promo_price,
        p1_0.b2c_promo_start_date,
        p1_0.b2c_rating,
        p1_0.b2c_retail_price,
        p1_0.b2c_review_count,
        p1_0.barcode,
        p1_0.bulk_discount_percentage,
        p1_0.bulk_discount_threshold,
        p1_0.bulk_package_size,
        p1_0.bulk_package_unit,
        p1_0.certification,
        p1_0.country_of_origin,
        p1_0.created_at,
        p1_0.custom_attributes,
        p1_0.customer_segments,
        p1_0.deliverable,
        p1_0.description,
        p1_0.dimensions,
        p1_0.inactive,
        p1_0.is_bulk_item,
        p1_0.is_perishable,
        p1_0.is_wholesale_only,
        p1_0.maximum_order_quantity,
        p1_0.minimum_order_quantity,
        p1_0.package_quantity,
        p1_0.package_size,
        p1_0.photo,
        p1_0.price_including_tax,
        p1_0.family_code,
        p1_0.promo_sku_points,
        p1_0.reference,
        p1_0.requires_approval,
        p1_0.requires_cold_storage,
        p1_0.requires_contract,
        p1_0.sale_price,
        p1_0.sale_unit,
        p1_0.seasonality,
        p1_0.sku,
        p1_0.stock_tracking,
        p1_0.supplier_code,
        p1_0.supplier_name,
        p1_0.target_market,
        p1_0.tax_rate,
        p1_0.title,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.vendable,
        p1_0.visible,
        p1_0.weight,
        p1_0.weight_unit,
        p1_0.wholesale_discount_percentage,
        p1_0.wholesale_minimum_quantity,
        p1_0.wholesale_price,
        p1_0.wholesale_tier_1_price,
        p1_0.wholesale_tier_1_quantity,
        p1_0.wholesale_tier_2_price,
        p1_0.wholesale_tier_2_quantity,
        p1_0.wholesale_tier_3_price,
        p1_0.wholesale_tier_3_quantity 
    from
        products p1_0 
    where
        p1_0.deliverable
2025-06-14 18:41:08 [main] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.code,
        pf1_0.created_at,
        pf1_0.description,
        pf1_0.is_active,
        pf1_0.name,
        pf1_0.updated_at 
    from
        product_families pf1_0 
    where
        pf1_0.code=?
2025-06-14 18:41:09 [main] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.code,
        pf1_0.created_at,
        pf1_0.description,
        pf1_0.is_active,
        pf1_0.name,
        pf1_0.updated_at 
    from
        product_families pf1_0 
    where
        pf1_0.code=?
2025-06-14 18:41:09 [main] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.code,
        pf1_0.created_at,
        pf1_0.description,
        pf1_0.is_active,
        pf1_0.name,
        pf1_0.updated_at 
    from
        product_families pf1_0 
    where
        pf1_0.code=?
2025-06-14 18:41:09 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.product_id,
        c1_1.id,
        c1_1.code,
        c1_1.created_at,
        c1_1.description,
        c1_1.is_active,
        c1_1.level,
        c1_1.name,
        c1_1.parent_id,
        c1_1.updated_at 
    from
        product_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.product_id=?
2025-06-14 18:41:09 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.product_id,
        c1_1.id,
        c1_1.code,
        c1_1.created_at,
        c1_1.description,
        c1_1.is_active,
        c1_1.level,
        c1_1.name,
        c1_1.parent_id,
        c1_1.updated_at 
    from
        product_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.product_id=?
2025-06-14 18:41:09 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.product_id,
        c1_1.id,
        c1_1.code,
        c1_1.created_at,
        c1_1.description,
        c1_1.is_active,
        c1_1.level,
        c1_1.name,
        c1_1.parent_id,
        c1_1.updated_at 
    from
        product_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.product_id=?
2025-06-14 18:41:09 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.product_id,
        c1_1.id,
        c1_1.code,
        c1_1.created_at,
        c1_1.description,
        c1_1.is_active,
        c1_1.level,
        c1_1.name,
        c1_1.parent_id,
        c1_1.updated_at 
    from
        product_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.product_id=?
2025-06-14 18:41:09 [main] ERROR m.f.o.s.p.s.CacheWarmingService - Error during cache warm-up
org.springframework.data.redis.serializer.SerializationException: Could not write JSON: Java 8 date/time type `java.time.ZonedDateTime` not supported by default: add Module "com.fasterxml.jackson.datatype:jackson-datatype-jsr310" to enable handling (or disable `MapperFeature.REQUIRE_HANDLERS_FOR_JAVA8_TIMES`) (through reference chain: java.util.ArrayList[0]->ma.foodplus.ordering.system.product.dto.response.ProductResponse["createdAt"])
	at org.springframework.data.redis.serializer.GenericJackson2JsonRedisSerializer.serialize(GenericJackson2JsonRedisSerializer.java:274)
	at org.springframework.data.redis.serializer.DefaultRedisElementWriter.write(DefaultRedisElementWriter.java:42)
	at org.springframework.data.redis.serializer.RedisSerializationContext$SerializationPair.write(RedisSerializationContext.java:292)
	at org.springframework.data.redis.cache.RedisCache.serializeCacheValue(RedisCache.java:343)
	at org.springframework.data.redis.cache.RedisCache.put(RedisCache.java:204)
	at org.springframework.cache.interceptor.AbstractCacheInvoker.doPut(AbstractCacheInvoker.java:157)
	at org.springframework.cache.interceptor.CacheAspectSupport$CachePutRequest.performCachePut(CacheAspectSupport.java:1087)
	at org.springframework.cache.interceptor.CacheAspectSupport$CachePutRequest.apply(CacheAspectSupport.java:1072)
	at org.springframework.cache.interceptor.CacheAspectSupport.evaluate(CacheAspectSupport.java:616)
	at org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:448)
	at org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:410)
	at org.springframework.cache.interceptor.CacheInterceptor.invoke(CacheInterceptor.java:65)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at ma.foodplus.ordering.system.product.service.ProductService$$SpringCGLIB$$0.getDeliverableProducts(<generated>)
	at ma.foodplus.ordering.system.product.service.CacheWarmingService.warmUpCache(CacheWarmingService.java:28)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.doInvoke(ApplicationListenerMethodAdapter.java:382)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.processEvent(ApplicationListenerMethodAdapter.java:254)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.onApplicationEvent(ApplicationListenerMethodAdapter.java:173)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:185)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:178)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:156)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:454)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:387)
	at org.springframework.boot.context.event.EventPublishingRunListener.ready(EventPublishingRunListener.java:109)
	at org.springframework.boot.SpringApplicationRunListeners.lambda$ready$6(SpringApplicationRunListeners.java:80)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:118)
	at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:112)
	at org.springframework.boot.SpringApplicationRunListeners.ready(SpringApplicationRunListeners.java:80)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:332)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1362)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1351)
	at ma.foodplus.ordering.system.FoodPlusOrderingApplication.main(FoodPlusOrderingApplication.java:22)
Caused by: com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Java 8 date/time type `java.time.ZonedDateTime` not supported by default: add Module "com.fasterxml.jackson.datatype:jackson-datatype-jsr310" to enable handling (or disable `MapperFeature.REQUIRE_HANDLERS_FOR_JAVA8_TIMES`) (through reference chain: java.util.ArrayList[0]->ma.foodplus.ordering.system.product.dto.response.ProductResponse["createdAt"])
	at com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:77)
	at com.fasterxml.jackson.databind.SerializerProvider.reportBadDefinition(SerializerProvider.java:1359)
	at com.fasterxml.jackson.databind.ser.impl.UnsupportedTypeSerializer.serialize(UnsupportedTypeSerializer.java:34)
	at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:732)
	at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:760)
	at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeWithType(BeanSerializerBase.java:643)
	at com.fasterxml.jackson.databind.ser.impl.IndexedListSerializer.serializeTypedContents(IndexedListSerializer.java:181)
	at com.fasterxml.jackson.databind.ser.impl.IndexedListSerializer.serializeContents(IndexedListSerializer.java:92)
	at com.fasterxml.jackson.databind.ser.impl.IndexedListSerializer.serializeContents(IndexedListSerializer.java:18)
	at com.fasterxml.jackson.databind.ser.std.AsArraySerializerBase.serializeWithType(AsArraySerializerBase.java:265)
	at com.fasterxml.jackson.databind.ser.impl.TypeWrappedSerializer.serialize(TypeWrappedSerializer.java:32)
	at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider._serialize(DefaultSerializerProvider.java:503)
	at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider.serializeValue(DefaultSerializerProvider.java:342)
	at com.fasterxml.jackson.databind.ObjectMapper._writeValueAndClose(ObjectMapper.java:4859)
	at com.fasterxml.jackson.databind.ObjectMapper.writeValueAsBytes(ObjectMapper.java:4104)
	at org.springframework.data.redis.serializer.GenericJackson2JsonRedisSerializer.serialize(GenericJackson2JsonRedisSerializer.java:272)
	... 38 common frames omitted
2025-06-14 18:41:09 [main] INFO  m.f.o.s.p.s.CacheWarmingService - Cache warm-up completed
2025-06-14 18:41:22 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-06-14 18:41:22 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-06-14 18:41:23 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-06-14 18:41:23 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-06-14 18:41:23 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-06-14 18:41:34 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - Starting FoodPlusOrderingApplication using Java 21.0.7 with PID 457258 (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes started by louki in /home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system)
2025-06-14 18:41:34 [main] DEBUG m.f.o.s.FoodPlusOrderingApplication - Running with Spring Boot v3.5.0, Spring v6.2.7
2025-06-14 18:41:34 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - The following 1 profile is active: "dev"
2025-06-14 18:41:35 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-14 18:41:35 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-14 18:41:35 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 147 ms. Found 12 JPA repository interfaces.
2025-06-14 18:41:35 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-14 18:41:35 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-06-14 18:41:35 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.common.repository.CategoryTarifRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 18:41:35 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.CustomerGroupRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 18:41:35 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.CustomerRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 18:41:35 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.ProductCustomerRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 18:41:35 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.DepotRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 18:41:35 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.ProductStockRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 18:41:35 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.SiteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 18:41:35 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.order.repository.OrderRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 18:41:35 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.product.repository.CategoryRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 18:41:35 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.product.repository.ProductAuditRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 18:41:35 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.product.repository.ProductRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 18:41:35 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.promos.repository.PromotionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 18:41:35 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 31 ms. Found 0 Redis repository interfaces.
2025-06-14 18:41:36 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8087 (http)
2025-06-14 18:41:36 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-14 18:41:36 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.41]
2025-06-14 18:41:36 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-14 18:41:36 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2518 ms
2025-06-14 18:41:37 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-06-14 18:41:37 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@5ebe903a
2025-06-14 18:41:37 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-06-14 18:41:37 [main] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://10.113.181.84:5432/foodplus_ordering (PostgreSQL 17.5)
2025-06-14 18:41:37 [main] INFO  o.f.core.internal.command.DbValidate - Successfully validated 5 migrations (execution time 00:00.040s)
2025-06-14 18:41:37 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "public": 1.7.2
2025-06-14 18:41:37 [main] WARN  o.f.core.internal.command.DbMigrate - outOfOrder mode is active. Migration of schema "public" may not be reproducible.
2025-06-14 18:41:37 [main] INFO  o.f.core.internal.command.DbMigrate - Schema "public" is up to date. No migration necessary.
2025-06-14 18:41:37 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-06-14 18:41:37 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.15.Final
2025-06-14 18:41:37 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-06-14 18:41:37 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-06-14 18:41:37 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 17.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-06-14 18:41:37 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-06-14 18:41:39 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-06-14 18:41:39 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-06-14 18:41:39 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-06-14 18:41:41 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-06-14 18:41:42 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 4 endpoints beneath base path '/actuator'
2025-06-14 18:41:42 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8087 (http) with context path '/'
2025-06-14 18:41:42 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - Started FoodPlusOrderingApplication in 9.178 seconds (process running for 9.718)
2025-06-14 18:41:42 [main] INFO  m.f.o.s.p.s.CacheWarmingService - Starting cache warm-up...
2025-06-14 18:41:42 [main] INFO  m.f.o.s.p.service.ProductService - Getting all products
2025-06-14 18:41:42 [main] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.additional_photos,
        p1_0.availability_schedule,
        p1_0.b2b_contract_discount_percentage,
        p1_0.b2b_contract_required,
        p1_0.b2b_credit_terms,
        p1_0.b2b_custom_pricing_enabled,
        p1_0.b2b_delivery_lead_time,
        p1_0.b2b_minimum_order_value,
        p1_0.b2b_payment_methods,
        p1_0.b2b_volume_discount_enabled,
        p1_0.b2c_display_in_catalog,
        p1_0.b2c_featured,
        p1_0.b2c_loyalty_points_multiplier,
        p1_0.b2c_promo_end_date,
        p1_0.b2c_promo_price,
        p1_0.b2c_promo_start_date,
        p1_0.b2c_rating,
        p1_0.b2c_retail_price,
        p1_0.b2c_review_count,
        p1_0.barcode,
        p1_0.bulk_discount_percentage,
        p1_0.bulk_discount_threshold,
        p1_0.bulk_package_size,
        p1_0.bulk_package_unit,
        p1_0.certification,
        p1_0.country_of_origin,
        p1_0.created_at,
        p1_0.custom_attributes,
        p1_0.customer_segments,
        p1_0.deliverable,
        p1_0.description,
        p1_0.dimensions,
        p1_0.inactive,
        p1_0.is_bulk_item,
        p1_0.is_perishable,
        p1_0.is_wholesale_only,
        p1_0.maximum_order_quantity,
        p1_0.minimum_order_quantity,
        p1_0.package_quantity,
        p1_0.package_size,
        p1_0.photo,
        p1_0.price_including_tax,
        p1_0.family_code,
        p1_0.promo_sku_points,
        p1_0.reference,
        p1_0.requires_approval,
        p1_0.requires_cold_storage,
        p1_0.requires_contract,
        p1_0.sale_price,
        p1_0.sale_unit,
        p1_0.seasonality,
        p1_0.sku,
        p1_0.stock_tracking,
        p1_0.supplier_code,
        p1_0.supplier_name,
        p1_0.target_market,
        p1_0.tax_rate,
        p1_0.title,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.vendable,
        p1_0.visible,
        p1_0.weight,
        p1_0.weight_unit,
        p1_0.wholesale_discount_percentage,
        p1_0.wholesale_minimum_quantity,
        p1_0.wholesale_price,
        p1_0.wholesale_tier_1_price,
        p1_0.wholesale_tier_1_quantity,
        p1_0.wholesale_tier_2_price,
        p1_0.wholesale_tier_2_quantity,
        p1_0.wholesale_tier_3_price,
        p1_0.wholesale_tier_3_quantity 
    from
        products p1_0
2025-06-14 18:41:42 [main] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.code,
        pf1_0.created_at,
        pf1_0.description,
        pf1_0.is_active,
        pf1_0.name,
        pf1_0.updated_at 
    from
        product_families pf1_0 
    where
        pf1_0.code=?
2025-06-14 18:41:42 [main] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.code,
        pf1_0.created_at,
        pf1_0.description,
        pf1_0.is_active,
        pf1_0.name,
        pf1_0.updated_at 
    from
        product_families pf1_0 
    where
        pf1_0.code=?
2025-06-14 18:41:42 [main] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.code,
        pf1_0.created_at,
        pf1_0.description,
        pf1_0.is_active,
        pf1_0.name,
        pf1_0.updated_at 
    from
        product_families pf1_0 
    where
        pf1_0.code=?
2025-06-14 18:41:42 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.product_id,
        c1_1.id,
        c1_1.code,
        c1_1.created_at,
        c1_1.description,
        c1_1.is_active,
        c1_1.level,
        c1_1.name,
        c1_1.parent_id,
        c1_1.updated_at 
    from
        product_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.product_id=?
2025-06-14 18:41:42 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.product_id,
        c1_1.id,
        c1_1.code,
        c1_1.created_at,
        c1_1.description,
        c1_1.is_active,
        c1_1.level,
        c1_1.name,
        c1_1.parent_id,
        c1_1.updated_at 
    from
        product_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.product_id=?
2025-06-14 18:41:42 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.product_id,
        c1_1.id,
        c1_1.code,
        c1_1.created_at,
        c1_1.description,
        c1_1.is_active,
        c1_1.level,
        c1_1.name,
        c1_1.parent_id,
        c1_1.updated_at 
    from
        product_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.product_id=?
2025-06-14 18:41:42 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.product_id,
        c1_1.id,
        c1_1.code,
        c1_1.created_at,
        c1_1.description,
        c1_1.is_active,
        c1_1.level,
        c1_1.name,
        c1_1.parent_id,
        c1_1.updated_at 
    from
        product_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.product_id=?
2025-06-14 18:41:42 [main] INFO  m.f.o.s.p.s.CacheWarmingService - Warmed up all products cache
2025-06-14 18:41:42 [main] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.additional_photos,
        p1_0.availability_schedule,
        p1_0.b2b_contract_discount_percentage,
        p1_0.b2b_contract_required,
        p1_0.b2b_credit_terms,
        p1_0.b2b_custom_pricing_enabled,
        p1_0.b2b_delivery_lead_time,
        p1_0.b2b_minimum_order_value,
        p1_0.b2b_payment_methods,
        p1_0.b2b_volume_discount_enabled,
        p1_0.b2c_display_in_catalog,
        p1_0.b2c_featured,
        p1_0.b2c_loyalty_points_multiplier,
        p1_0.b2c_promo_end_date,
        p1_0.b2c_promo_price,
        p1_0.b2c_promo_start_date,
        p1_0.b2c_rating,
        p1_0.b2c_retail_price,
        p1_0.b2c_review_count,
        p1_0.barcode,
        p1_0.bulk_discount_percentage,
        p1_0.bulk_discount_threshold,
        p1_0.bulk_package_size,
        p1_0.bulk_package_unit,
        p1_0.certification,
        p1_0.country_of_origin,
        p1_0.created_at,
        p1_0.custom_attributes,
        p1_0.customer_segments,
        p1_0.deliverable,
        p1_0.description,
        p1_0.dimensions,
        p1_0.inactive,
        p1_0.is_bulk_item,
        p1_0.is_perishable,
        p1_0.is_wholesale_only,
        p1_0.maximum_order_quantity,
        p1_0.minimum_order_quantity,
        p1_0.package_quantity,
        p1_0.package_size,
        p1_0.photo,
        p1_0.price_including_tax,
        p1_0.family_code,
        p1_0.promo_sku_points,
        p1_0.reference,
        p1_0.requires_approval,
        p1_0.requires_cold_storage,
        p1_0.requires_contract,
        p1_0.sale_price,
        p1_0.sale_unit,
        p1_0.seasonality,
        p1_0.sku,
        p1_0.stock_tracking,
        p1_0.supplier_code,
        p1_0.supplier_name,
        p1_0.target_market,
        p1_0.tax_rate,
        p1_0.title,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.vendable,
        p1_0.visible,
        p1_0.weight,
        p1_0.weight_unit,
        p1_0.wholesale_discount_percentage,
        p1_0.wholesale_minimum_quantity,
        p1_0.wholesale_price,
        p1_0.wholesale_tier_1_price,
        p1_0.wholesale_tier_1_quantity,
        p1_0.wholesale_tier_2_price,
        p1_0.wholesale_tier_2_quantity,
        p1_0.wholesale_tier_3_price,
        p1_0.wholesale_tier_3_quantity 
    from
        products p1_0 
    where
        p1_0.deliverable
2025-06-14 18:41:42 [main] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.code,
        pf1_0.created_at,
        pf1_0.description,
        pf1_0.is_active,
        pf1_0.name,
        pf1_0.updated_at 
    from
        product_families pf1_0 
    where
        pf1_0.code=?
2025-06-14 18:41:42 [main] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.code,
        pf1_0.created_at,
        pf1_0.description,
        pf1_0.is_active,
        pf1_0.name,
        pf1_0.updated_at 
    from
        product_families pf1_0 
    where
        pf1_0.code=?
2025-06-14 18:41:42 [main] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.code,
        pf1_0.created_at,
        pf1_0.description,
        pf1_0.is_active,
        pf1_0.name,
        pf1_0.updated_at 
    from
        product_families pf1_0 
    where
        pf1_0.code=?
2025-06-14 18:41:42 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.product_id,
        c1_1.id,
        c1_1.code,
        c1_1.created_at,
        c1_1.description,
        c1_1.is_active,
        c1_1.level,
        c1_1.name,
        c1_1.parent_id,
        c1_1.updated_at 
    from
        product_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.product_id=?
2025-06-14 18:41:42 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.product_id,
        c1_1.id,
        c1_1.code,
        c1_1.created_at,
        c1_1.description,
        c1_1.is_active,
        c1_1.level,
        c1_1.name,
        c1_1.parent_id,
        c1_1.updated_at 
    from
        product_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.product_id=?
2025-06-14 18:41:42 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.product_id,
        c1_1.id,
        c1_1.code,
        c1_1.created_at,
        c1_1.description,
        c1_1.is_active,
        c1_1.level,
        c1_1.name,
        c1_1.parent_id,
        c1_1.updated_at 
    from
        product_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.product_id=?
2025-06-14 18:41:42 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.product_id,
        c1_1.id,
        c1_1.code,
        c1_1.created_at,
        c1_1.description,
        c1_1.is_active,
        c1_1.level,
        c1_1.name,
        c1_1.parent_id,
        c1_1.updated_at 
    from
        product_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.product_id=?
2025-06-14 18:41:42 [main] ERROR m.f.o.s.p.s.CacheWarmingService - Error during cache warm-up
org.springframework.data.redis.serializer.SerializationException: Could not write JSON: Java 8 date/time type `java.time.ZonedDateTime` not supported by default: add Module "com.fasterxml.jackson.datatype:jackson-datatype-jsr310" to enable handling (or disable `MapperFeature.REQUIRE_HANDLERS_FOR_JAVA8_TIMES`) (through reference chain: java.util.ArrayList[0]->ma.foodplus.ordering.system.product.dto.response.ProductResponse["createdAt"])
	at org.springframework.data.redis.serializer.GenericJackson2JsonRedisSerializer.serialize(GenericJackson2JsonRedisSerializer.java:274)
	at org.springframework.data.redis.serializer.DefaultRedisElementWriter.write(DefaultRedisElementWriter.java:42)
	at org.springframework.data.redis.serializer.RedisSerializationContext$SerializationPair.write(RedisSerializationContext.java:292)
	at org.springframework.data.redis.cache.RedisCache.serializeCacheValue(RedisCache.java:343)
	at org.springframework.data.redis.cache.RedisCache.put(RedisCache.java:204)
	at org.springframework.cache.interceptor.AbstractCacheInvoker.doPut(AbstractCacheInvoker.java:157)
	at org.springframework.cache.interceptor.CacheAspectSupport$CachePutRequest.performCachePut(CacheAspectSupport.java:1087)
	at org.springframework.cache.interceptor.CacheAspectSupport$CachePutRequest.apply(CacheAspectSupport.java:1072)
	at org.springframework.cache.interceptor.CacheAspectSupport.evaluate(CacheAspectSupport.java:616)
	at org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:448)
	at org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:410)
	at org.springframework.cache.interceptor.CacheInterceptor.invoke(CacheInterceptor.java:65)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at ma.foodplus.ordering.system.product.service.ProductService$$SpringCGLIB$$0.getDeliverableProducts(<generated>)
	at ma.foodplus.ordering.system.product.service.CacheWarmingService.warmUpCache(CacheWarmingService.java:28)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.doInvoke(ApplicationListenerMethodAdapter.java:382)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.processEvent(ApplicationListenerMethodAdapter.java:254)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.onApplicationEvent(ApplicationListenerMethodAdapter.java:173)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:185)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:178)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:156)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:454)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:387)
	at org.springframework.boot.context.event.EventPublishingRunListener.ready(EventPublishingRunListener.java:109)
	at org.springframework.boot.SpringApplicationRunListeners.lambda$ready$6(SpringApplicationRunListeners.java:80)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:118)
	at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:112)
	at org.springframework.boot.SpringApplicationRunListeners.ready(SpringApplicationRunListeners.java:80)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:332)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1362)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1351)
	at ma.foodplus.ordering.system.FoodPlusOrderingApplication.main(FoodPlusOrderingApplication.java:22)
Caused by: com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Java 8 date/time type `java.time.ZonedDateTime` not supported by default: add Module "com.fasterxml.jackson.datatype:jackson-datatype-jsr310" to enable handling (or disable `MapperFeature.REQUIRE_HANDLERS_FOR_JAVA8_TIMES`) (through reference chain: java.util.ArrayList[0]->ma.foodplus.ordering.system.product.dto.response.ProductResponse["createdAt"])
	at com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:77)
	at com.fasterxml.jackson.databind.SerializerProvider.reportBadDefinition(SerializerProvider.java:1359)
	at com.fasterxml.jackson.databind.ser.impl.UnsupportedTypeSerializer.serialize(UnsupportedTypeSerializer.java:34)
	at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:732)
	at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:760)
	at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeWithType(BeanSerializerBase.java:643)
	at com.fasterxml.jackson.databind.ser.impl.IndexedListSerializer.serializeTypedContents(IndexedListSerializer.java:181)
	at com.fasterxml.jackson.databind.ser.impl.IndexedListSerializer.serializeContents(IndexedListSerializer.java:92)
	at com.fasterxml.jackson.databind.ser.impl.IndexedListSerializer.serializeContents(IndexedListSerializer.java:18)
	at com.fasterxml.jackson.databind.ser.std.AsArraySerializerBase.serializeWithType(AsArraySerializerBase.java:265)
	at com.fasterxml.jackson.databind.ser.impl.TypeWrappedSerializer.serialize(TypeWrappedSerializer.java:32)
	at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider._serialize(DefaultSerializerProvider.java:503)
	at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider.serializeValue(DefaultSerializerProvider.java:342)
	at com.fasterxml.jackson.databind.ObjectMapper._writeValueAndClose(ObjectMapper.java:4859)
	at com.fasterxml.jackson.databind.ObjectMapper.writeValueAsBytes(ObjectMapper.java:4104)
	at org.springframework.data.redis.serializer.GenericJackson2JsonRedisSerializer.serialize(GenericJackson2JsonRedisSerializer.java:272)
	... 38 common frames omitted
2025-06-14 18:41:42 [main] INFO  m.f.o.s.p.s.CacheWarmingService - Cache warm-up completed
2025-06-14 18:41:55 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-06-14 18:41:55 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-06-14 18:41:55 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-06-14 18:41:55 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-06-14 18:41:55 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-06-14 18:42:13 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - Starting FoodPlusOrderingApplication using Java 21.0.7 with PID 457839 (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes started by louki in /home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system)
2025-06-14 18:42:13 [main] DEBUG m.f.o.s.FoodPlusOrderingApplication - Running with Spring Boot v3.5.0, Spring v6.2.7
2025-06-14 18:42:13 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - The following 1 profile is active: "dev"
2025-06-14 18:42:13 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-14 18:42:13 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-14 18:42:14 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 100 ms. Found 12 JPA repository interfaces.
2025-06-14 18:42:14 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-14 18:42:14 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-06-14 18:42:14 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.common.repository.CategoryTarifRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 18:42:14 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.CustomerGroupRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 18:42:14 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.CustomerRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 18:42:14 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.ProductCustomerRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 18:42:14 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.DepotRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 18:42:14 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.ProductStockRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 18:42:14 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.SiteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 18:42:14 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.order.repository.OrderRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 18:42:14 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.product.repository.CategoryRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 18:42:14 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.product.repository.ProductAuditRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 18:42:14 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.product.repository.ProductRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 18:42:14 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.promos.repository.PromotionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 18:42:14 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 25 ms. Found 0 Redis repository interfaces.
2025-06-14 18:42:15 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8087 (http)
2025-06-14 18:42:15 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-14 18:42:15 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.41]
2025-06-14 18:42:15 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-14 18:42:15 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2192 ms
2025-06-14 18:42:15 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-06-14 18:42:15 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@f08f8a9
2025-06-14 18:42:15 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-06-14 18:42:15 [main] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://10.113.181.84:5432/foodplus_ordering (PostgreSQL 17.5)
2025-06-14 18:42:15 [main] INFO  o.f.core.internal.command.DbValidate - Successfully validated 5 migrations (execution time 00:00.022s)
2025-06-14 18:42:15 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "public": 1.7.2
2025-06-14 18:42:15 [main] WARN  o.f.core.internal.command.DbMigrate - outOfOrder mode is active. Migration of schema "public" may not be reproducible.
2025-06-14 18:42:15 [main] INFO  o.f.core.internal.command.DbMigrate - Schema "public" is up to date. No migration necessary.
2025-06-14 18:42:16 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-06-14 18:42:16 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.15.Final
2025-06-14 18:42:16 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-06-14 18:42:16 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-06-14 18:42:16 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 17.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-06-14 18:42:16 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-06-14 18:42:17 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-06-14 18:42:17 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-06-14 18:42:17 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-06-14 18:42:20 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-06-14 18:42:21 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 4 endpoints beneath base path '/actuator'
2025-06-14 18:42:21 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8087 (http) with context path '/'
2025-06-14 18:42:21 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - Started FoodPlusOrderingApplication in 8.793 seconds (process running for 9.1)
2025-06-14 18:42:21 [main] INFO  m.f.o.s.p.s.CacheWarmingService - Starting cache warm-up...
2025-06-14 18:42:21 [main] INFO  m.f.o.s.p.service.ProductService - Getting all products
2025-06-14 18:42:21 [main] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.additional_photos,
        p1_0.availability_schedule,
        p1_0.b2b_contract_discount_percentage,
        p1_0.b2b_contract_required,
        p1_0.b2b_credit_terms,
        p1_0.b2b_custom_pricing_enabled,
        p1_0.b2b_delivery_lead_time,
        p1_0.b2b_minimum_order_value,
        p1_0.b2b_payment_methods,
        p1_0.b2b_volume_discount_enabled,
        p1_0.b2c_display_in_catalog,
        p1_0.b2c_featured,
        p1_0.b2c_loyalty_points_multiplier,
        p1_0.b2c_promo_end_date,
        p1_0.b2c_promo_price,
        p1_0.b2c_promo_start_date,
        p1_0.b2c_rating,
        p1_0.b2c_retail_price,
        p1_0.b2c_review_count,
        p1_0.barcode,
        p1_0.bulk_discount_percentage,
        p1_0.bulk_discount_threshold,
        p1_0.bulk_package_size,
        p1_0.bulk_package_unit,
        p1_0.certification,
        p1_0.country_of_origin,
        p1_0.created_at,
        p1_0.custom_attributes,
        p1_0.customer_segments,
        p1_0.deliverable,
        p1_0.description,
        p1_0.dimensions,
        p1_0.inactive,
        p1_0.is_bulk_item,
        p1_0.is_perishable,
        p1_0.is_wholesale_only,
        p1_0.maximum_order_quantity,
        p1_0.minimum_order_quantity,
        p1_0.package_quantity,
        p1_0.package_size,
        p1_0.photo,
        p1_0.price_including_tax,
        p1_0.family_code,
        p1_0.promo_sku_points,
        p1_0.reference,
        p1_0.requires_approval,
        p1_0.requires_cold_storage,
        p1_0.requires_contract,
        p1_0.sale_price,
        p1_0.sale_unit,
        p1_0.seasonality,
        p1_0.sku,
        p1_0.stock_tracking,
        p1_0.supplier_code,
        p1_0.supplier_name,
        p1_0.target_market,
        p1_0.tax_rate,
        p1_0.title,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.vendable,
        p1_0.visible,
        p1_0.weight,
        p1_0.weight_unit,
        p1_0.wholesale_discount_percentage,
        p1_0.wholesale_minimum_quantity,
        p1_0.wholesale_price,
        p1_0.wholesale_tier_1_price,
        p1_0.wholesale_tier_1_quantity,
        p1_0.wholesale_tier_2_price,
        p1_0.wholesale_tier_2_quantity,
        p1_0.wholesale_tier_3_price,
        p1_0.wholesale_tier_3_quantity 
    from
        products p1_0
2025-06-14 18:42:21 [main] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.code,
        pf1_0.created_at,
        pf1_0.description,
        pf1_0.is_active,
        pf1_0.name,
        pf1_0.updated_at 
    from
        product_families pf1_0 
    where
        pf1_0.code=?
2025-06-14 18:42:21 [main] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.code,
        pf1_0.created_at,
        pf1_0.description,
        pf1_0.is_active,
        pf1_0.name,
        pf1_0.updated_at 
    from
        product_families pf1_0 
    where
        pf1_0.code=?
2025-06-14 18:42:21 [main] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.code,
        pf1_0.created_at,
        pf1_0.description,
        pf1_0.is_active,
        pf1_0.name,
        pf1_0.updated_at 
    from
        product_families pf1_0 
    where
        pf1_0.code=?
2025-06-14 18:42:21 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.product_id,
        c1_1.id,
        c1_1.code,
        c1_1.created_at,
        c1_1.description,
        c1_1.is_active,
        c1_1.level,
        c1_1.name,
        c1_1.parent_id,
        c1_1.updated_at 
    from
        product_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.product_id=?
2025-06-14 18:42:21 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.product_id,
        c1_1.id,
        c1_1.code,
        c1_1.created_at,
        c1_1.description,
        c1_1.is_active,
        c1_1.level,
        c1_1.name,
        c1_1.parent_id,
        c1_1.updated_at 
    from
        product_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.product_id=?
2025-06-14 18:42:21 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.product_id,
        c1_1.id,
        c1_1.code,
        c1_1.created_at,
        c1_1.description,
        c1_1.is_active,
        c1_1.level,
        c1_1.name,
        c1_1.parent_id,
        c1_1.updated_at 
    from
        product_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.product_id=?
2025-06-14 18:42:21 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.product_id,
        c1_1.id,
        c1_1.code,
        c1_1.created_at,
        c1_1.description,
        c1_1.is_active,
        c1_1.level,
        c1_1.name,
        c1_1.parent_id,
        c1_1.updated_at 
    from
        product_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.product_id=?
2025-06-14 18:42:21 [main] INFO  m.f.o.s.p.s.CacheWarmingService - Warmed up all products cache
2025-06-14 18:42:21 [main] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.additional_photos,
        p1_0.availability_schedule,
        p1_0.b2b_contract_discount_percentage,
        p1_0.b2b_contract_required,
        p1_0.b2b_credit_terms,
        p1_0.b2b_custom_pricing_enabled,
        p1_0.b2b_delivery_lead_time,
        p1_0.b2b_minimum_order_value,
        p1_0.b2b_payment_methods,
        p1_0.b2b_volume_discount_enabled,
        p1_0.b2c_display_in_catalog,
        p1_0.b2c_featured,
        p1_0.b2c_loyalty_points_multiplier,
        p1_0.b2c_promo_end_date,
        p1_0.b2c_promo_price,
        p1_0.b2c_promo_start_date,
        p1_0.b2c_rating,
        p1_0.b2c_retail_price,
        p1_0.b2c_review_count,
        p1_0.barcode,
        p1_0.bulk_discount_percentage,
        p1_0.bulk_discount_threshold,
        p1_0.bulk_package_size,
        p1_0.bulk_package_unit,
        p1_0.certification,
        p1_0.country_of_origin,
        p1_0.created_at,
        p1_0.custom_attributes,
        p1_0.customer_segments,
        p1_0.deliverable,
        p1_0.description,
        p1_0.dimensions,
        p1_0.inactive,
        p1_0.is_bulk_item,
        p1_0.is_perishable,
        p1_0.is_wholesale_only,
        p1_0.maximum_order_quantity,
        p1_0.minimum_order_quantity,
        p1_0.package_quantity,
        p1_0.package_size,
        p1_0.photo,
        p1_0.price_including_tax,
        p1_0.family_code,
        p1_0.promo_sku_points,
        p1_0.reference,
        p1_0.requires_approval,
        p1_0.requires_cold_storage,
        p1_0.requires_contract,
        p1_0.sale_price,
        p1_0.sale_unit,
        p1_0.seasonality,
        p1_0.sku,
        p1_0.stock_tracking,
        p1_0.supplier_code,
        p1_0.supplier_name,
        p1_0.target_market,
        p1_0.tax_rate,
        p1_0.title,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.vendable,
        p1_0.visible,
        p1_0.weight,
        p1_0.weight_unit,
        p1_0.wholesale_discount_percentage,
        p1_0.wholesale_minimum_quantity,
        p1_0.wholesale_price,
        p1_0.wholesale_tier_1_price,
        p1_0.wholesale_tier_1_quantity,
        p1_0.wholesale_tier_2_price,
        p1_0.wholesale_tier_2_quantity,
        p1_0.wholesale_tier_3_price,
        p1_0.wholesale_tier_3_quantity 
    from
        products p1_0 
    where
        p1_0.deliverable
2025-06-14 18:42:21 [main] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.code,
        pf1_0.created_at,
        pf1_0.description,
        pf1_0.is_active,
        pf1_0.name,
        pf1_0.updated_at 
    from
        product_families pf1_0 
    where
        pf1_0.code=?
2025-06-14 18:42:21 [main] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.code,
        pf1_0.created_at,
        pf1_0.description,
        pf1_0.is_active,
        pf1_0.name,
        pf1_0.updated_at 
    from
        product_families pf1_0 
    where
        pf1_0.code=?
2025-06-14 18:42:21 [main] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.code,
        pf1_0.created_at,
        pf1_0.description,
        pf1_0.is_active,
        pf1_0.name,
        pf1_0.updated_at 
    from
        product_families pf1_0 
    where
        pf1_0.code=?
2025-06-14 18:42:21 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.product_id,
        c1_1.id,
        c1_1.code,
        c1_1.created_at,
        c1_1.description,
        c1_1.is_active,
        c1_1.level,
        c1_1.name,
        c1_1.parent_id,
        c1_1.updated_at 
    from
        product_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.product_id=?
2025-06-14 18:42:21 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.product_id,
        c1_1.id,
        c1_1.code,
        c1_1.created_at,
        c1_1.description,
        c1_1.is_active,
        c1_1.level,
        c1_1.name,
        c1_1.parent_id,
        c1_1.updated_at 
    from
        product_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.product_id=?
2025-06-14 18:42:21 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.product_id,
        c1_1.id,
        c1_1.code,
        c1_1.created_at,
        c1_1.description,
        c1_1.is_active,
        c1_1.level,
        c1_1.name,
        c1_1.parent_id,
        c1_1.updated_at 
    from
        product_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.product_id=?
2025-06-14 18:42:21 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.product_id,
        c1_1.id,
        c1_1.code,
        c1_1.created_at,
        c1_1.description,
        c1_1.is_active,
        c1_1.level,
        c1_1.name,
        c1_1.parent_id,
        c1_1.updated_at 
    from
        product_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.product_id=?
2025-06-14 18:42:21 [main] ERROR m.f.o.s.p.s.CacheWarmingService - Error during cache warm-up
org.springframework.data.redis.serializer.SerializationException: Could not write JSON: Java 8 date/time type `java.time.ZonedDateTime` not supported by default: add Module "com.fasterxml.jackson.datatype:jackson-datatype-jsr310" to enable handling (or disable `MapperFeature.REQUIRE_HANDLERS_FOR_JAVA8_TIMES`) (through reference chain: java.util.ArrayList[0]->ma.foodplus.ordering.system.product.dto.response.ProductResponse["createdAt"])
	at org.springframework.data.redis.serializer.GenericJackson2JsonRedisSerializer.serialize(GenericJackson2JsonRedisSerializer.java:274)
	at org.springframework.data.redis.serializer.DefaultRedisElementWriter.write(DefaultRedisElementWriter.java:42)
	at org.springframework.data.redis.serializer.RedisSerializationContext$SerializationPair.write(RedisSerializationContext.java:292)
	at org.springframework.data.redis.cache.RedisCache.serializeCacheValue(RedisCache.java:343)
	at org.springframework.data.redis.cache.RedisCache.put(RedisCache.java:204)
	at org.springframework.cache.interceptor.AbstractCacheInvoker.doPut(AbstractCacheInvoker.java:157)
	at org.springframework.cache.interceptor.CacheAspectSupport$CachePutRequest.performCachePut(CacheAspectSupport.java:1087)
	at org.springframework.cache.interceptor.CacheAspectSupport$CachePutRequest.apply(CacheAspectSupport.java:1072)
	at org.springframework.cache.interceptor.CacheAspectSupport.evaluate(CacheAspectSupport.java:616)
	at org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:448)
	at org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:410)
	at org.springframework.cache.interceptor.CacheInterceptor.invoke(CacheInterceptor.java:65)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at ma.foodplus.ordering.system.product.service.ProductService$$SpringCGLIB$$0.getDeliverableProducts(<generated>)
	at ma.foodplus.ordering.system.product.service.CacheWarmingService.warmUpCache(CacheWarmingService.java:28)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.doInvoke(ApplicationListenerMethodAdapter.java:382)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.processEvent(ApplicationListenerMethodAdapter.java:254)
	at org.springframework.context.event.ApplicationListenerMethodAdapter.onApplicationEvent(ApplicationListenerMethodAdapter.java:173)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:185)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:178)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:156)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:454)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:387)
	at org.springframework.boot.context.event.EventPublishingRunListener.ready(EventPublishingRunListener.java:109)
	at org.springframework.boot.SpringApplicationRunListeners.lambda$ready$6(SpringApplicationRunListeners.java:80)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:118)
	at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:112)
	at org.springframework.boot.SpringApplicationRunListeners.ready(SpringApplicationRunListeners.java:80)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:332)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1362)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1351)
	at ma.foodplus.ordering.system.FoodPlusOrderingApplication.main(FoodPlusOrderingApplication.java:22)
Caused by: com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Java 8 date/time type `java.time.ZonedDateTime` not supported by default: add Module "com.fasterxml.jackson.datatype:jackson-datatype-jsr310" to enable handling (or disable `MapperFeature.REQUIRE_HANDLERS_FOR_JAVA8_TIMES`) (through reference chain: java.util.ArrayList[0]->ma.foodplus.ordering.system.product.dto.response.ProductResponse["createdAt"])
	at com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:77)
	at com.fasterxml.jackson.databind.SerializerProvider.reportBadDefinition(SerializerProvider.java:1359)
	at com.fasterxml.jackson.databind.ser.impl.UnsupportedTypeSerializer.serialize(UnsupportedTypeSerializer.java:34)
	at com.fasterxml.jackson.databind.ser.BeanPropertyWriter.serializeAsField(BeanPropertyWriter.java:732)
	at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeFields(BeanSerializerBase.java:760)
	at com.fasterxml.jackson.databind.ser.std.BeanSerializerBase.serializeWithType(BeanSerializerBase.java:643)
	at com.fasterxml.jackson.databind.ser.impl.IndexedListSerializer.serializeTypedContents(IndexedListSerializer.java:181)
	at com.fasterxml.jackson.databind.ser.impl.IndexedListSerializer.serializeContents(IndexedListSerializer.java:92)
	at com.fasterxml.jackson.databind.ser.impl.IndexedListSerializer.serializeContents(IndexedListSerializer.java:18)
	at com.fasterxml.jackson.databind.ser.std.AsArraySerializerBase.serializeWithType(AsArraySerializerBase.java:265)
	at com.fasterxml.jackson.databind.ser.impl.TypeWrappedSerializer.serialize(TypeWrappedSerializer.java:32)
	at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider._serialize(DefaultSerializerProvider.java:503)
	at com.fasterxml.jackson.databind.ser.DefaultSerializerProvider.serializeValue(DefaultSerializerProvider.java:342)
	at com.fasterxml.jackson.databind.ObjectMapper._writeValueAndClose(ObjectMapper.java:4859)
	at com.fasterxml.jackson.databind.ObjectMapper.writeValueAsBytes(ObjectMapper.java:4104)
	at org.springframework.data.redis.serializer.GenericJackson2JsonRedisSerializer.serialize(GenericJackson2JsonRedisSerializer.java:272)
	... 38 common frames omitted
2025-06-14 18:42:21 [main] INFO  m.f.o.s.p.s.CacheWarmingService - Cache warm-up completed
2025-06-14 18:42:26 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-06-14 18:42:26 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-06-14 18:42:26 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-06-14 18:42:26 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-06-14 18:42:26 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-06-14 18:44:33 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - Starting FoodPlusOrderingApplication using Java 21.0.7 with PID 460031 (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes started by louki in /home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system)
2025-06-14 18:44:33 [main] DEBUG m.f.o.s.FoodPlusOrderingApplication - Running with Spring Boot v3.5.0, Spring v6.2.7
2025-06-14 18:44:33 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - The following 1 profile is active: "dev"
2025-06-14 18:44:34 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-14 18:44:34 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-14 18:44:34 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 134 ms. Found 12 JPA repository interfaces.
2025-06-14 18:44:35 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-14 18:44:35 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-06-14 18:44:35 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.common.repository.CategoryTarifRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 18:44:35 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.CustomerGroupRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 18:44:35 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.CustomerRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 18:44:35 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.ProductCustomerRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 18:44:35 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.DepotRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 18:44:35 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.ProductStockRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 18:44:35 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.SiteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 18:44:35 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.order.repository.OrderRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 18:44:35 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.product.repository.CategoryRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 18:44:35 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.product.repository.ProductAuditRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 18:44:35 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.product.repository.ProductRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 18:44:35 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.promos.repository.PromotionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 18:44:35 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 19 ms. Found 0 Redis repository interfaces.
2025-06-14 18:44:35 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8087 (http)
2025-06-14 18:44:35 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-14 18:44:35 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.41]
2025-06-14 18:44:36 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-14 18:44:36 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1997 ms
2025-06-14 18:44:36 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-06-14 18:44:36 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@b529d7e
2025-06-14 18:44:36 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-06-14 18:44:36 [main] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://10.113.181.84:5432/foodplus_ordering (PostgreSQL 17.5)
2025-06-14 18:44:36 [main] INFO  o.f.core.internal.command.DbValidate - Successfully validated 5 migrations (execution time 00:00.029s)
2025-06-14 18:44:36 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "public": 1.7.2
2025-06-14 18:44:36 [main] WARN  o.f.core.internal.command.DbMigrate - outOfOrder mode is active. Migration of schema "public" may not be reproducible.
2025-06-14 18:44:36 [main] INFO  o.f.core.internal.command.DbMigrate - Schema "public" is up to date. No migration necessary.
2025-06-14 18:44:36 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-06-14 18:44:36 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.15.Final
2025-06-14 18:44:36 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-06-14 18:44:37 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-06-14 18:44:37 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 17.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-06-14 18:44:37 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-06-14 18:44:38 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-06-14 18:44:38 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-06-14 18:44:38 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-06-14 18:44:40 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-06-14 18:44:41 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 4 endpoints beneath base path '/actuator'
2025-06-14 18:44:41 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8087 (http) with context path '/'
2025-06-14 18:44:41 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - Started FoodPlusOrderingApplication in 8.353 seconds (process running for 8.632)
2025-06-14 18:44:41 [main] INFO  m.f.o.s.p.s.CacheWarmingService - Starting cache warm-up...
2025-06-14 18:44:41 [main] INFO  m.f.o.s.p.service.ProductService - Getting all products
2025-06-14 18:44:41 [main] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.additional_photos,
        p1_0.availability_schedule,
        p1_0.b2b_contract_discount_percentage,
        p1_0.b2b_contract_required,
        p1_0.b2b_credit_terms,
        p1_0.b2b_custom_pricing_enabled,
        p1_0.b2b_delivery_lead_time,
        p1_0.b2b_minimum_order_value,
        p1_0.b2b_payment_methods,
        p1_0.b2b_volume_discount_enabled,
        p1_0.b2c_display_in_catalog,
        p1_0.b2c_featured,
        p1_0.b2c_loyalty_points_multiplier,
        p1_0.b2c_promo_end_date,
        p1_0.b2c_promo_price,
        p1_0.b2c_promo_start_date,
        p1_0.b2c_rating,
        p1_0.b2c_retail_price,
        p1_0.b2c_review_count,
        p1_0.barcode,
        p1_0.bulk_discount_percentage,
        p1_0.bulk_discount_threshold,
        p1_0.bulk_package_size,
        p1_0.bulk_package_unit,
        p1_0.certification,
        p1_0.country_of_origin,
        p1_0.created_at,
        p1_0.custom_attributes,
        p1_0.customer_segments,
        p1_0.deliverable,
        p1_0.description,
        p1_0.dimensions,
        p1_0.inactive,
        p1_0.is_bulk_item,
        p1_0.is_perishable,
        p1_0.is_wholesale_only,
        p1_0.maximum_order_quantity,
        p1_0.minimum_order_quantity,
        p1_0.package_quantity,
        p1_0.package_size,
        p1_0.photo,
        p1_0.price_including_tax,
        p1_0.family_code,
        p1_0.promo_sku_points,
        p1_0.reference,
        p1_0.requires_approval,
        p1_0.requires_cold_storage,
        p1_0.requires_contract,
        p1_0.sale_price,
        p1_0.sale_unit,
        p1_0.seasonality,
        p1_0.sku,
        p1_0.stock_tracking,
        p1_0.supplier_code,
        p1_0.supplier_name,
        p1_0.target_market,
        p1_0.tax_rate,
        p1_0.title,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.vendable,
        p1_0.visible,
        p1_0.weight,
        p1_0.weight_unit,
        p1_0.wholesale_discount_percentage,
        p1_0.wholesale_minimum_quantity,
        p1_0.wholesale_price,
        p1_0.wholesale_tier_1_price,
        p1_0.wholesale_tier_1_quantity,
        p1_0.wholesale_tier_2_price,
        p1_0.wholesale_tier_2_quantity,
        p1_0.wholesale_tier_3_price,
        p1_0.wholesale_tier_3_quantity 
    from
        products p1_0
2025-06-14 18:44:41 [main] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.code,
        pf1_0.created_at,
        pf1_0.description,
        pf1_0.is_active,
        pf1_0.name,
        pf1_0.updated_at 
    from
        product_families pf1_0 
    where
        pf1_0.code=?
2025-06-14 18:44:41 [main] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.code,
        pf1_0.created_at,
        pf1_0.description,
        pf1_0.is_active,
        pf1_0.name,
        pf1_0.updated_at 
    from
        product_families pf1_0 
    where
        pf1_0.code=?
2025-06-14 18:44:41 [main] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.code,
        pf1_0.created_at,
        pf1_0.description,
        pf1_0.is_active,
        pf1_0.name,
        pf1_0.updated_at 
    from
        product_families pf1_0 
    where
        pf1_0.code=?
2025-06-14 18:44:41 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.product_id,
        c1_1.id,
        c1_1.code,
        c1_1.created_at,
        c1_1.description,
        c1_1.is_active,
        c1_1.level,
        c1_1.name,
        c1_1.parent_id,
        c1_1.updated_at 
    from
        product_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.product_id=?
2025-06-14 18:44:41 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.product_id,
        c1_1.id,
        c1_1.code,
        c1_1.created_at,
        c1_1.description,
        c1_1.is_active,
        c1_1.level,
        c1_1.name,
        c1_1.parent_id,
        c1_1.updated_at 
    from
        product_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.product_id=?
2025-06-14 18:44:41 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.product_id,
        c1_1.id,
        c1_1.code,
        c1_1.created_at,
        c1_1.description,
        c1_1.is_active,
        c1_1.level,
        c1_1.name,
        c1_1.parent_id,
        c1_1.updated_at 
    from
        product_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.product_id=?
2025-06-14 18:44:41 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.product_id,
        c1_1.id,
        c1_1.code,
        c1_1.created_at,
        c1_1.description,
        c1_1.is_active,
        c1_1.level,
        c1_1.name,
        c1_1.parent_id,
        c1_1.updated_at 
    from
        product_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.product_id=?
2025-06-14 18:44:41 [main] INFO  m.f.o.s.p.s.CacheWarmingService - Warmed up all products cache
2025-06-14 18:44:41 [main] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.additional_photos,
        p1_0.availability_schedule,
        p1_0.b2b_contract_discount_percentage,
        p1_0.b2b_contract_required,
        p1_0.b2b_credit_terms,
        p1_0.b2b_custom_pricing_enabled,
        p1_0.b2b_delivery_lead_time,
        p1_0.b2b_minimum_order_value,
        p1_0.b2b_payment_methods,
        p1_0.b2b_volume_discount_enabled,
        p1_0.b2c_display_in_catalog,
        p1_0.b2c_featured,
        p1_0.b2c_loyalty_points_multiplier,
        p1_0.b2c_promo_end_date,
        p1_0.b2c_promo_price,
        p1_0.b2c_promo_start_date,
        p1_0.b2c_rating,
        p1_0.b2c_retail_price,
        p1_0.b2c_review_count,
        p1_0.barcode,
        p1_0.bulk_discount_percentage,
        p1_0.bulk_discount_threshold,
        p1_0.bulk_package_size,
        p1_0.bulk_package_unit,
        p1_0.certification,
        p1_0.country_of_origin,
        p1_0.created_at,
        p1_0.custom_attributes,
        p1_0.customer_segments,
        p1_0.deliverable,
        p1_0.description,
        p1_0.dimensions,
        p1_0.inactive,
        p1_0.is_bulk_item,
        p1_0.is_perishable,
        p1_0.is_wholesale_only,
        p1_0.maximum_order_quantity,
        p1_0.minimum_order_quantity,
        p1_0.package_quantity,
        p1_0.package_size,
        p1_0.photo,
        p1_0.price_including_tax,
        p1_0.family_code,
        p1_0.promo_sku_points,
        p1_0.reference,
        p1_0.requires_approval,
        p1_0.requires_cold_storage,
        p1_0.requires_contract,
        p1_0.sale_price,
        p1_0.sale_unit,
        p1_0.seasonality,
        p1_0.sku,
        p1_0.stock_tracking,
        p1_0.supplier_code,
        p1_0.supplier_name,
        p1_0.target_market,
        p1_0.tax_rate,
        p1_0.title,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.vendable,
        p1_0.visible,
        p1_0.weight,
        p1_0.weight_unit,
        p1_0.wholesale_discount_percentage,
        p1_0.wholesale_minimum_quantity,
        p1_0.wholesale_price,
        p1_0.wholesale_tier_1_price,
        p1_0.wholesale_tier_1_quantity,
        p1_0.wholesale_tier_2_price,
        p1_0.wholesale_tier_2_quantity,
        p1_0.wholesale_tier_3_price,
        p1_0.wholesale_tier_3_quantity 
    from
        products p1_0 
    where
        p1_0.deliverable
2025-06-14 18:44:41 [main] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.code,
        pf1_0.created_at,
        pf1_0.description,
        pf1_0.is_active,
        pf1_0.name,
        pf1_0.updated_at 
    from
        product_families pf1_0 
    where
        pf1_0.code=?
2025-06-14 18:44:41 [main] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.code,
        pf1_0.created_at,
        pf1_0.description,
        pf1_0.is_active,
        pf1_0.name,
        pf1_0.updated_at 
    from
        product_families pf1_0 
    where
        pf1_0.code=?
2025-06-14 18:44:41 [main] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.code,
        pf1_0.created_at,
        pf1_0.description,
        pf1_0.is_active,
        pf1_0.name,
        pf1_0.updated_at 
    from
        product_families pf1_0 
    where
        pf1_0.code=?
2025-06-14 18:44:41 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.product_id,
        c1_1.id,
        c1_1.code,
        c1_1.created_at,
        c1_1.description,
        c1_1.is_active,
        c1_1.level,
        c1_1.name,
        c1_1.parent_id,
        c1_1.updated_at 
    from
        product_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.product_id=?
2025-06-14 18:44:41 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.product_id,
        c1_1.id,
        c1_1.code,
        c1_1.created_at,
        c1_1.description,
        c1_1.is_active,
        c1_1.level,
        c1_1.name,
        c1_1.parent_id,
        c1_1.updated_at 
    from
        product_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.product_id=?
2025-06-14 18:44:41 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.product_id,
        c1_1.id,
        c1_1.code,
        c1_1.created_at,
        c1_1.description,
        c1_1.is_active,
        c1_1.level,
        c1_1.name,
        c1_1.parent_id,
        c1_1.updated_at 
    from
        product_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.product_id=?
2025-06-14 18:44:41 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.product_id,
        c1_1.id,
        c1_1.code,
        c1_1.created_at,
        c1_1.description,
        c1_1.is_active,
        c1_1.level,
        c1_1.name,
        c1_1.parent_id,
        c1_1.updated_at 
    from
        product_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.product_id=?
2025-06-14 18:44:41 [main] INFO  m.f.o.s.p.s.CacheWarmingService - Warmed up deliverable products cache
2025-06-14 18:44:41 [main] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.additional_photos,
        p1_0.availability_schedule,
        p1_0.b2b_contract_discount_percentage,
        p1_0.b2b_contract_required,
        p1_0.b2b_credit_terms,
        p1_0.b2b_custom_pricing_enabled,
        p1_0.b2b_delivery_lead_time,
        p1_0.b2b_minimum_order_value,
        p1_0.b2b_payment_methods,
        p1_0.b2b_volume_discount_enabled,
        p1_0.b2c_display_in_catalog,
        p1_0.b2c_featured,
        p1_0.b2c_loyalty_points_multiplier,
        p1_0.b2c_promo_end_date,
        p1_0.b2c_promo_price,
        p1_0.b2c_promo_start_date,
        p1_0.b2c_rating,
        p1_0.b2c_retail_price,
        p1_0.b2c_review_count,
        p1_0.barcode,
        p1_0.bulk_discount_percentage,
        p1_0.bulk_discount_threshold,
        p1_0.bulk_package_size,
        p1_0.bulk_package_unit,
        p1_0.certification,
        p1_0.country_of_origin,
        p1_0.created_at,
        p1_0.custom_attributes,
        p1_0.customer_segments,
        p1_0.deliverable,
        p1_0.description,
        p1_0.dimensions,
        p1_0.inactive,
        p1_0.is_bulk_item,
        p1_0.is_perishable,
        p1_0.is_wholesale_only,
        p1_0.maximum_order_quantity,
        p1_0.minimum_order_quantity,
        p1_0.package_quantity,
        p1_0.package_size,
        p1_0.photo,
        p1_0.price_including_tax,
        p1_0.family_code,
        p1_0.promo_sku_points,
        p1_0.reference,
        p1_0.requires_approval,
        p1_0.requires_cold_storage,
        p1_0.requires_contract,
        p1_0.sale_price,
        p1_0.sale_unit,
        p1_0.seasonality,
        p1_0.sku,
        p1_0.stock_tracking,
        p1_0.supplier_code,
        p1_0.supplier_name,
        p1_0.target_market,
        p1_0.tax_rate,
        p1_0.title,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.vendable,
        p1_0.visible,
        p1_0.weight,
        p1_0.weight_unit,
        p1_0.wholesale_discount_percentage,
        p1_0.wholesale_minimum_quantity,
        p1_0.wholesale_price,
        p1_0.wholesale_tier_1_price,
        p1_0.wholesale_tier_1_quantity,
        p1_0.wholesale_tier_2_price,
        p1_0.wholesale_tier_2_quantity,
        p1_0.wholesale_tier_3_price,
        p1_0.wholesale_tier_3_quantity 
    from
        products p1_0 
    where
        not(p1_0.inactive)
2025-06-14 18:44:41 [main] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.code,
        pf1_0.created_at,
        pf1_0.description,
        pf1_0.is_active,
        pf1_0.name,
        pf1_0.updated_at 
    from
        product_families pf1_0 
    where
        pf1_0.code=?
2025-06-14 18:44:41 [main] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.code,
        pf1_0.created_at,
        pf1_0.description,
        pf1_0.is_active,
        pf1_0.name,
        pf1_0.updated_at 
    from
        product_families pf1_0 
    where
        pf1_0.code=?
2025-06-14 18:44:41 [main] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.code,
        pf1_0.created_at,
        pf1_0.description,
        pf1_0.is_active,
        pf1_0.name,
        pf1_0.updated_at 
    from
        product_families pf1_0 
    where
        pf1_0.code=?
2025-06-14 18:44:41 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.product_id,
        c1_1.id,
        c1_1.code,
        c1_1.created_at,
        c1_1.description,
        c1_1.is_active,
        c1_1.level,
        c1_1.name,
        c1_1.parent_id,
        c1_1.updated_at 
    from
        product_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.product_id=?
2025-06-14 18:44:41 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.product_id,
        c1_1.id,
        c1_1.code,
        c1_1.created_at,
        c1_1.description,
        c1_1.is_active,
        c1_1.level,
        c1_1.name,
        c1_1.parent_id,
        c1_1.updated_at 
    from
        product_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.product_id=?
2025-06-14 18:44:41 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.product_id,
        c1_1.id,
        c1_1.code,
        c1_1.created_at,
        c1_1.description,
        c1_1.is_active,
        c1_1.level,
        c1_1.name,
        c1_1.parent_id,
        c1_1.updated_at 
    from
        product_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.product_id=?
2025-06-14 18:44:41 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.product_id,
        c1_1.id,
        c1_1.code,
        c1_1.created_at,
        c1_1.description,
        c1_1.is_active,
        c1_1.level,
        c1_1.name,
        c1_1.parent_id,
        c1_1.updated_at 
    from
        product_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.product_id=?
2025-06-14 18:44:41 [main] INFO  m.f.o.s.p.s.CacheWarmingService - Warmed up active products cache
2025-06-14 18:44:41 [main] INFO  m.f.o.s.p.s.CacheWarmingService - Cache warm-up completed
2025-06-14 18:50:54 [http-nio-8087-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-06-14 18:50:54 [http-nio-8087-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-06-14 18:50:54 [http-nio-8087-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-06-14 18:50:54 [http-nio-8087-exec-1] INFO  m.f.o.s.p.c.CategoryController - Getting all categories with pagination
2025-06-14 18:50:54 [http-nio-8087-exec-1] INFO  m.f.o.s.p.s.impl.CategoryServiceImpl - Getting all categories with pagination
2025-06-14 18:50:54 [http-nio-8087-exec-1] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.code,
        c1_0.created_at,
        c1_0.description,
        c1_0.is_active,
        c1_0.level,
        c1_0.name,
        c1_0.parent_id,
        c1_0.updated_at 
    from
        categories c1_0 
    offset
        ? rows 
    fetch
        first ? rows only
2025-06-14 18:51:11 [http-nio-8087-exec-3] INFO  m.f.o.s.p.c.CategoryController - Getting all categories with pagination
2025-06-14 18:51:11 [http-nio-8087-exec-3] INFO  m.f.o.s.p.s.impl.CategoryServiceImpl - Getting all categories with pagination
2025-06-14 18:51:11 [http-nio-8087-exec-3] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.code,
        c1_0.created_at,
        c1_0.description,
        c1_0.is_active,
        c1_0.level,
        c1_0.name,
        c1_0.parent_id,
        c1_0.updated_at 
    from
        categories c1_0 
    offset
        ? rows 
    fetch
        first ? rows only
2025-06-14 18:51:11 [http-nio-8087-exec-3] DEBUG org.hibernate.SQL - 
    select
        count(c1_0.id) 
    from
        categories c1_0
2025-06-14 18:51:22 [http-nio-8087-exec-5] INFO  m.f.o.s.p.c.CategoryController - Getting all categories with pagination
2025-06-14 18:51:22 [http-nio-8087-exec-5] INFO  m.f.o.s.p.s.impl.CategoryServiceImpl - Getting all categories with pagination
2025-06-14 18:51:22 [http-nio-8087-exec-5] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.code,
        c1_0.created_at,
        c1_0.description,
        c1_0.is_active,
        c1_0.level,
        c1_0.name,
        c1_0.parent_id,
        c1_0.updated_at 
    from
        categories c1_0 
    offset
        ? rows 
    fetch
        first ? rows only
2025-06-14 18:51:36 [http-nio-8087-exec-6] INFO  m.f.o.s.p.c.CategoryController - Getting all categories with pagination
2025-06-14 18:51:36 [http-nio-8087-exec-6] INFO  m.f.o.s.p.s.impl.CategoryServiceImpl - Getting all categories with pagination
2025-06-14 18:51:36 [http-nio-8087-exec-6] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.code,
        c1_0.created_at,
        c1_0.description,
        c1_0.is_active,
        c1_0.level,
        c1_0.name,
        c1_0.parent_id,
        c1_0.updated_at 
    from
        categories c1_0 
    offset
        ? rows 
    fetch
        first ? rows only
2025-06-14 18:51:43 [http-nio-8087-exec-7] INFO  m.f.o.s.p.c.CategoryController - Getting all categories with pagination
2025-06-14 18:51:43 [http-nio-8087-exec-7] INFO  m.f.o.s.p.s.impl.CategoryServiceImpl - Getting all categories with pagination
2025-06-14 18:51:43 [http-nio-8087-exec-7] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.code,
        c1_0.created_at,
        c1_0.description,
        c1_0.is_active,
        c1_0.level,
        c1_0.name,
        c1_0.parent_id,
        c1_0.updated_at 
    from
        categories c1_0 
    offset
        ? rows 
    fetch
        first ? rows only
2025-06-14 18:51:45 [http-nio-8087-exec-8] INFO  m.f.o.s.p.c.CategoryController - Getting all categories with pagination
2025-06-14 18:51:45 [http-nio-8087-exec-8] INFO  m.f.o.s.p.s.impl.CategoryServiceImpl - Getting all categories with pagination
2025-06-14 18:51:45 [http-nio-8087-exec-8] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.code,
        c1_0.created_at,
        c1_0.description,
        c1_0.is_active,
        c1_0.level,
        c1_0.name,
        c1_0.parent_id,
        c1_0.updated_at 
    from
        categories c1_0 
    offset
        ? rows 
    fetch
        first ? rows only
2025-06-14 18:51:47 [http-nio-8087-exec-9] INFO  m.f.o.s.p.c.CategoryController - Getting all categories with pagination
2025-06-14 18:51:47 [http-nio-8087-exec-9] INFO  m.f.o.s.p.s.impl.CategoryServiceImpl - Getting all categories with pagination
2025-06-14 18:51:47 [http-nio-8087-exec-9] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.code,
        c1_0.created_at,
        c1_0.description,
        c1_0.is_active,
        c1_0.level,
        c1_0.name,
        c1_0.parent_id,
        c1_0.updated_at 
    from
        categories c1_0 
    offset
        ? rows 
    fetch
        first ? rows only
2025-06-14 18:51:55 [http-nio-8087-exec-10] INFO  m.f.o.s.p.c.CategoryController - Getting all categories with pagination
2025-06-14 18:51:55 [http-nio-8087-exec-10] INFO  m.f.o.s.p.s.impl.CategoryServiceImpl - Getting all categories with pagination
2025-06-14 18:51:55 [http-nio-8087-exec-10] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.code,
        c1_0.created_at,
        c1_0.description,
        c1_0.is_active,
        c1_0.level,
        c1_0.name,
        c1_0.parent_id,
        c1_0.updated_at 
    from
        categories c1_0 
    offset
        ? rows 
    fetch
        first ? rows only
2025-06-14 18:52:00 [http-nio-8087-exec-2] INFO  m.f.o.s.p.c.CategoryController - Getting all categories with pagination
2025-06-14 18:52:00 [http-nio-8087-exec-2] INFO  m.f.o.s.p.s.impl.CategoryServiceImpl - Getting all categories with pagination
2025-06-14 18:52:00 [http-nio-8087-exec-2] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.code,
        c1_0.created_at,
        c1_0.description,
        c1_0.is_active,
        c1_0.level,
        c1_0.name,
        c1_0.parent_id,
        c1_0.updated_at 
    from
        categories c1_0 
    offset
        ? rows 
    fetch
        first ? rows only
2025-06-14 18:53:01 [http-nio-8087-exec-4] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Unrecognized field "parent" (class ma.foodplus.ordering.system.product.dto.category.CreateCategoryCommand), not marked as ignorable]
2025-06-14 18:53:24 [http-nio-8087-exec-6] INFO  m.f.o.s.p.c.CategoryController - Creating new category: CreateCategoryCommand[code=SCAT001, name=Sousse, description=Souses, level=1, parentId=1]
2025-06-14 18:53:24 [http-nio-8087-exec-6] INFO  m.f.o.s.p.s.impl.CategoryServiceImpl - Creating new category with command: CreateCategoryCommand[code=SCAT001, name=Sousse, description=Souses, level=1, parentId=1]
2025-06-14 18:53:24 [http-nio-8087-exec-6] DEBUG org.hibernate.SQL - 
    select
        c1_0.id 
    from
        categories c1_0 
    where
        c1_0.code=? 
    fetch
        first ? rows only
2025-06-14 18:53:24 [http-nio-8087-exec-6] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.code,
        c1_0.created_at,
        c1_0.description,
        c1_0.is_active,
        c1_0.level,
        c1_0.name,
        c1_0.parent_id,
        c1_0.updated_at 
    from
        categories c1_0 
    where
        c1_0.id=?
2025-06-14 18:53:24 [http-nio-8087-exec-6] DEBUG org.hibernate.SQL - 
    insert 
    into
        categories
        (code, created_at, description, is_active, level, name, parent_id, updated_at) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)
2025-06-14 18:53:24 [http-nio-8087-exec-6] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23505
2025-06-14 18:53:24 [http-nio-8087-exec-6] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: duplicate key value violates unique constraint "categories_pkey"
  Detail: Key (id)=(1) already exists.
2025-06-14 18:53:24 [http-nio-8087-exec-6] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: duplicate key value violates unique constraint "categories_pkey"
  Detail: Key (id)=(1) already exists.] [insert into categories (code,created_at,description,is_active,level,name,parent_id,updated_at) values (?,?,?,?,?,?,?,?)]; SQL [insert into categories (code,created_at,description,is_active,level,name,parent_id,updated_at) values (?,?,?,?,?,?,?,?)]; constraint [categories_pkey]] with root cause
org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "categories_pkey"
  Detail: Key (id)=(1) already exists.
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:155)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:194)
	at org.hibernate.id.insert.GetGeneratedKeysDelegate.performMutation(GetGeneratedKeysDelegate.java:116)
	at org.hibernate.engine.jdbc.mutation.internal.MutationExecutorSingleNonBatched.performNonBatchedOperations(MutationExecutorSingleNonBatched.java:47)
	at org.hibernate.engine.jdbc.mutation.internal.AbstractMutationExecutor.execute(AbstractMutationExecutor.java:55)
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.doStaticInserts(InsertCoordinatorStandard.java:194)
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.coordinateInsert(InsertCoordinatorStandard.java:132)
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.insert(InsertCoordinatorStandard.java:95)
	at org.hibernate.action.internal.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:85)
	at org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:682)
	at org.hibernate.engine.spi.ActionQueue.addResolvedEntityInsertAction(ActionQueue.java:293)
	at org.hibernate.engine.spi.ActionQueue.addInsertAction(ActionQueue.java:274)
	at org.hibernate.engine.spi.ActionQueue.addAction(ActionQueue.java:324)
	at org.hibernate.event.internal.AbstractSaveEventListener.addInsertAction(AbstractSaveEventListener.java:394)
	at org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:308)
	at org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:224)
	at org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:136)
	at org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:177)
	at org.hibernate.event.internal.DefaultPersistEventListener.persist(DefaultPersistEventListener.java:95)
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:79)
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:55)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)
	at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:761)
	at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:745)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:364)
	at jdk.proxy2/jdk.proxy2.$Proxy199.persist(Unknown Source)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:320)
	at jdk.proxy2/jdk.proxy2.$Proxy199.persist(Unknown Source)
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:651)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:277)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:515)
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:284)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:734)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:174)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:165)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy2/jdk.proxy2.$Proxy222.save(Unknown Source)
	at ma.foodplus.ordering.system.product.service.impl.CategoryServiceImpl.createCategory(CategoryServiceImpl.java:47)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at ma.foodplus.ordering.system.product.service.impl.CategoryServiceImpl$$SpringCGLIB$$0.createCategory(<generated>)
	at ma.foodplus.ordering.system.product.controller.CategoryController.createCategory(CategoryController.java:41)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:114)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-06-14 18:53:44 [http-nio-8087-exec-8] INFO  m.f.o.s.p.c.CategoryController - Getting all categories with pagination
2025-06-14 18:53:44 [http-nio-8087-exec-8] INFO  m.f.o.s.p.s.impl.CategoryServiceImpl - Getting all categories with pagination
2025-06-14 18:53:44 [http-nio-8087-exec-8] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.code,
        c1_0.created_at,
        c1_0.description,
        c1_0.is_active,
        c1_0.level,
        c1_0.name,
        c1_0.parent_id,
        c1_0.updated_at 
    from
        categories c1_0 
    offset
        ? rows 
    fetch
        first ? rows only
2025-06-14 18:54:26 [http-nio-8087-exec-9] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity<ma.foodplus.ordering.system.product.dto.category.CategoryDTO> ma.foodplus.ordering.system.product.controller.CategoryController.createCategory(ma.foodplus.ordering.system.product.dto.category.CreateCategoryCommand): [Field error in object 'createCategoryCommand' on field 'code': rejected value [null]; codes [NotBlank.createCategoryCommand.code,NotBlank.code,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [createCategoryCommand.code,code]; arguments []; default message [code]]; default message [Category code is required]] ]
2025-06-14 18:54:35 [http-nio-8087-exec-2] INFO  m.f.o.s.p.c.CategoryController - Creating new category: CreateCategoryCommand[code=SCAT001, name=Sousse, description=Souses, level=1, parentId=null]
2025-06-14 18:54:35 [http-nio-8087-exec-2] INFO  m.f.o.s.p.s.impl.CategoryServiceImpl - Creating new category with command: CreateCategoryCommand[code=SCAT001, name=Sousse, description=Souses, level=1, parentId=null]
2025-06-14 18:54:35 [http-nio-8087-exec-2] DEBUG org.hibernate.SQL - 
    select
        c1_0.id 
    from
        categories c1_0 
    where
        c1_0.code=? 
    fetch
        first ? rows only
2025-06-14 18:54:35 [http-nio-8087-exec-2] DEBUG org.hibernate.SQL - 
    insert 
    into
        categories
        (code, created_at, description, is_active, level, name, parent_id, updated_at) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)
2025-06-14 18:54:35 [http-nio-8087-exec-2] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23505
2025-06-14 18:54:35 [http-nio-8087-exec-2] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: duplicate key value violates unique constraint "categories_pkey"
  Detail: Key (id)=(2) already exists.
2025-06-14 18:54:35 [http-nio-8087-exec-2] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: duplicate key value violates unique constraint "categories_pkey"
  Detail: Key (id)=(2) already exists.] [insert into categories (code,created_at,description,is_active,level,name,parent_id,updated_at) values (?,?,?,?,?,?,?,?)]; SQL [insert into categories (code,created_at,description,is_active,level,name,parent_id,updated_at) values (?,?,?,?,?,?,?,?)]; constraint [categories_pkey]] with root cause
org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "categories_pkey"
  Detail: Key (id)=(2) already exists.
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:155)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:194)
	at org.hibernate.id.insert.GetGeneratedKeysDelegate.performMutation(GetGeneratedKeysDelegate.java:116)
	at org.hibernate.engine.jdbc.mutation.internal.MutationExecutorSingleNonBatched.performNonBatchedOperations(MutationExecutorSingleNonBatched.java:47)
	at org.hibernate.engine.jdbc.mutation.internal.AbstractMutationExecutor.execute(AbstractMutationExecutor.java:55)
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.doStaticInserts(InsertCoordinatorStandard.java:194)
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.coordinateInsert(InsertCoordinatorStandard.java:132)
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.insert(InsertCoordinatorStandard.java:95)
	at org.hibernate.action.internal.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:85)
	at org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:682)
	at org.hibernate.engine.spi.ActionQueue.addResolvedEntityInsertAction(ActionQueue.java:293)
	at org.hibernate.engine.spi.ActionQueue.addInsertAction(ActionQueue.java:274)
	at org.hibernate.engine.spi.ActionQueue.addAction(ActionQueue.java:324)
	at org.hibernate.event.internal.AbstractSaveEventListener.addInsertAction(AbstractSaveEventListener.java:394)
	at org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:308)
	at org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:224)
	at org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:136)
	at org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:177)
	at org.hibernate.event.internal.DefaultPersistEventListener.persist(DefaultPersistEventListener.java:95)
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:79)
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:55)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)
	at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:761)
	at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:745)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:364)
	at jdk.proxy2/jdk.proxy2.$Proxy199.persist(Unknown Source)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:320)
	at jdk.proxy2/jdk.proxy2.$Proxy199.persist(Unknown Source)
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:651)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:277)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:515)
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:284)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:734)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:174)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:165)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy2/jdk.proxy2.$Proxy222.save(Unknown Source)
	at ma.foodplus.ordering.system.product.service.impl.CategoryServiceImpl.createCategory(CategoryServiceImpl.java:47)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at ma.foodplus.ordering.system.product.service.impl.CategoryServiceImpl$$SpringCGLIB$$0.createCategory(<generated>)
	at ma.foodplus.ordering.system.product.controller.CategoryController.createCategory(CategoryController.java:41)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:114)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-06-14 18:55:13 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-06-14 18:55:13 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-06-14 18:55:13 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-06-14 18:55:13 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-06-14 18:55:13 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-06-14 18:55:46 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - Starting FoodPlusOrderingApplication using Java 21.0.7 with PID 462713 (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes started by louki in /home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system)
2025-06-14 18:55:46 [main] DEBUG m.f.o.s.FoodPlusOrderingApplication - Running with Spring Boot v3.5.0, Spring v6.2.7
2025-06-14 18:55:46 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - The following 1 profile is active: "dev"
2025-06-14 18:55:47 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-14 18:55:47 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-14 18:55:47 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 138 ms. Found 12 JPA repository interfaces.
2025-06-14 18:55:48 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-14 18:55:48 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-06-14 18:55:48 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.common.repository.CategoryTarifRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 18:55:48 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.CustomerGroupRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 18:55:48 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.CustomerRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 18:55:48 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.ProductCustomerRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 18:55:48 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.DepotRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 18:55:48 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.ProductStockRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 18:55:48 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.SiteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 18:55:48 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.order.repository.OrderRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 18:55:48 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.product.repository.CategoryRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 18:55:48 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.product.repository.ProductAuditRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 18:55:48 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.product.repository.ProductRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 18:55:48 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.promos.repository.PromotionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 18:55:48 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 25 ms. Found 0 Redis repository interfaces.
2025-06-14 18:55:48 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8087 (http)
2025-06-14 18:55:48 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-14 18:55:48 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.41]
2025-06-14 18:55:49 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-14 18:55:49 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2505 ms
2025-06-14 18:55:49 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-06-14 18:55:49 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@28269c65
2025-06-14 18:55:49 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-06-14 18:55:49 [main] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://10.113.181.84:5432/foodplus_ordering (PostgreSQL 17.5)
2025-06-14 18:55:49 [main] INFO  o.f.core.internal.command.DbValidate - Successfully validated 5 migrations (execution time 00:00.031s)
2025-06-14 18:55:49 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "public": 1.7.2
2025-06-14 18:55:49 [main] WARN  o.f.core.internal.command.DbMigrate - outOfOrder mode is active. Migration of schema "public" may not be reproducible.
2025-06-14 18:55:49 [main] INFO  o.f.core.internal.command.DbMigrate - Schema "public" is up to date. No migration necessary.
2025-06-14 18:55:50 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-06-14 18:55:50 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.15.Final
2025-06-14 18:55:50 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-06-14 18:55:50 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-06-14 18:55:50 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 17.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-06-14 18:55:50 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-06-14 18:55:51 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-06-14 18:55:52 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-06-14 18:55:52 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-06-14 18:55:54 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-06-14 18:55:55 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 4 endpoints beneath base path '/actuator'
2025-06-14 18:55:55 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8087 (http) with context path '/'
2025-06-14 18:55:55 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - Started FoodPlusOrderingApplication in 9.871 seconds (process running for 10.818)
2025-06-14 18:55:55 [main] INFO  m.f.o.s.p.s.CacheWarmingService - Starting cache warm-up...
2025-06-14 18:55:55 [main] INFO  m.f.o.s.p.service.ProductService - Getting all products
2025-06-14 18:55:55 [main] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.additional_photos,
        p1_0.availability_schedule,
        p1_0.b2b_contract_discount_percentage,
        p1_0.b2b_contract_required,
        p1_0.b2b_credit_terms,
        p1_0.b2b_custom_pricing_enabled,
        p1_0.b2b_delivery_lead_time,
        p1_0.b2b_minimum_order_value,
        p1_0.b2b_payment_methods,
        p1_0.b2b_volume_discount_enabled,
        p1_0.b2c_display_in_catalog,
        p1_0.b2c_featured,
        p1_0.b2c_loyalty_points_multiplier,
        p1_0.b2c_promo_end_date,
        p1_0.b2c_promo_price,
        p1_0.b2c_promo_start_date,
        p1_0.b2c_rating,
        p1_0.b2c_retail_price,
        p1_0.b2c_review_count,
        p1_0.barcode,
        p1_0.bulk_discount_percentage,
        p1_0.bulk_discount_threshold,
        p1_0.bulk_package_size,
        p1_0.bulk_package_unit,
        p1_0.certification,
        p1_0.country_of_origin,
        p1_0.created_at,
        p1_0.custom_attributes,
        p1_0.customer_segments,
        p1_0.deliverable,
        p1_0.description,
        p1_0.dimensions,
        p1_0.inactive,
        p1_0.is_bulk_item,
        p1_0.is_perishable,
        p1_0.is_wholesale_only,
        p1_0.maximum_order_quantity,
        p1_0.minimum_order_quantity,
        p1_0.package_quantity,
        p1_0.package_size,
        p1_0.photo,
        p1_0.price_including_tax,
        p1_0.family_code,
        p1_0.promo_sku_points,
        p1_0.reference,
        p1_0.requires_approval,
        p1_0.requires_cold_storage,
        p1_0.requires_contract,
        p1_0.sale_price,
        p1_0.sale_unit,
        p1_0.seasonality,
        p1_0.sku,
        p1_0.stock_tracking,
        p1_0.supplier_code,
        p1_0.supplier_name,
        p1_0.target_market,
        p1_0.tax_rate,
        p1_0.title,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.vendable,
        p1_0.visible,
        p1_0.weight,
        p1_0.weight_unit,
        p1_0.wholesale_discount_percentage,
        p1_0.wholesale_minimum_quantity,
        p1_0.wholesale_price,
        p1_0.wholesale_tier_1_price,
        p1_0.wholesale_tier_1_quantity,
        p1_0.wholesale_tier_2_price,
        p1_0.wholesale_tier_2_quantity,
        p1_0.wholesale_tier_3_price,
        p1_0.wholesale_tier_3_quantity 
    from
        products p1_0
2025-06-14 18:55:55 [main] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.code,
        pf1_0.created_at,
        pf1_0.description,
        pf1_0.is_active,
        pf1_0.name,
        pf1_0.updated_at 
    from
        product_families pf1_0 
    where
        pf1_0.code=?
2025-06-14 18:55:55 [main] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.code,
        pf1_0.created_at,
        pf1_0.description,
        pf1_0.is_active,
        pf1_0.name,
        pf1_0.updated_at 
    from
        product_families pf1_0 
    where
        pf1_0.code=?
2025-06-14 18:55:55 [main] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.code,
        pf1_0.created_at,
        pf1_0.description,
        pf1_0.is_active,
        pf1_0.name,
        pf1_0.updated_at 
    from
        product_families pf1_0 
    where
        pf1_0.code=?
2025-06-14 18:55:55 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.product_id,
        c1_1.id,
        c1_1.code,
        c1_1.created_at,
        c1_1.description,
        c1_1.is_active,
        c1_1.level,
        c1_1.name,
        c1_1.parent_id,
        c1_1.updated_at 
    from
        product_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.product_id=?
2025-06-14 18:55:55 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.product_id,
        c1_1.id,
        c1_1.code,
        c1_1.created_at,
        c1_1.description,
        c1_1.is_active,
        c1_1.level,
        c1_1.name,
        c1_1.parent_id,
        c1_1.updated_at 
    from
        product_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.product_id=?
2025-06-14 18:55:55 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.product_id,
        c1_1.id,
        c1_1.code,
        c1_1.created_at,
        c1_1.description,
        c1_1.is_active,
        c1_1.level,
        c1_1.name,
        c1_1.parent_id,
        c1_1.updated_at 
    from
        product_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.product_id=?
2025-06-14 18:55:55 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.product_id,
        c1_1.id,
        c1_1.code,
        c1_1.created_at,
        c1_1.description,
        c1_1.is_active,
        c1_1.level,
        c1_1.name,
        c1_1.parent_id,
        c1_1.updated_at 
    from
        product_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.product_id=?
2025-06-14 18:55:55 [main] INFO  m.f.o.s.p.s.CacheWarmingService - Warmed up all products cache
2025-06-14 18:55:55 [main] INFO  m.f.o.s.p.s.CacheWarmingService - Warmed up deliverable products cache
2025-06-14 18:55:55 [main] INFO  m.f.o.s.p.s.CacheWarmingService - Warmed up active products cache
2025-06-14 18:55:55 [main] INFO  m.f.o.s.p.s.CacheWarmingService - Cache warm-up completed
2025-06-14 18:56:13 [http-nio-8087-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-06-14 18:56:13 [http-nio-8087-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-06-14 18:56:13 [http-nio-8087-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-06-14 18:56:16 [http-nio-8087-exec-2] INFO  m.f.o.s.p.c.CategoryController - Creating new category: CreateCategoryCommand[code=SCAT001, name=Sousse, description=Souses, level=1, parentId=1]
2025-06-14 18:56:23 [http-nio-8087-exec-2] INFO  m.f.o.s.p.s.impl.CategoryServiceImpl - Creating new category with command: CreateCategoryCommand[code=SCAT001, name=Sousse, description=Souses, level=1, parentId=1]
2025-06-14 18:56:24 [http-nio-8087-exec-2] DEBUG org.hibernate.SQL - 
    select
        c1_0.id 
    from
        categories c1_0 
    where
        c1_0.code=? 
    fetch
        first ? rows only
2025-06-14 18:56:27 [http-nio-8087-exec-2] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.code,
        c1_0.created_at,
        c1_0.description,
        c1_0.is_active,
        c1_0.level,
        c1_0.name,
        c1_0.parent_id,
        c1_0.updated_at 
    from
        categories c1_0 
    where
        c1_0.id=?
2025-06-14 18:56:27 [http-nio-8087-exec-2] DEBUG org.hibernate.SQL - 
    select
        c1_0.parent_id,
        c1_0.id,
        c1_0.code,
        c1_0.created_at,
        c1_0.description,
        c1_0.is_active,
        c1_0.level,
        c1_0.name,
        c1_0.updated_at 
    from
        categories c1_0 
    where
        c1_0.parent_id=?
2025-06-14 18:57:06 [http-nio-8087-exec-2] DEBUG org.hibernate.SQL - 
    insert 
    into
        categories
        (code, created_at, description, is_active, level, name, parent_id, updated_at) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)
2025-06-14 18:57:06 [http-nio-8087-exec-2] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23505
2025-06-14 18:57:06 [http-nio-8087-exec-2] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: duplicate key value violates unique constraint "categories_pkey"
  Detail: Key (id)=(3) already exists.
2025-06-14 18:57:06 [http-nio-8087-exec-2] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: duplicate key value violates unique constraint "categories_pkey"
  Detail: Key (id)=(3) already exists.] [insert into categories (code,created_at,description,is_active,level,name,parent_id,updated_at) values (?,?,?,?,?,?,?,?)]; SQL [insert into categories (code,created_at,description,is_active,level,name,parent_id,updated_at) values (?,?,?,?,?,?,?,?)]; constraint [categories_pkey]] with root cause
org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "categories_pkey"
  Detail: Key (id)=(3) already exists.
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:155)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:194)
	at org.hibernate.id.insert.GetGeneratedKeysDelegate.performMutation(GetGeneratedKeysDelegate.java:116)
	at org.hibernate.engine.jdbc.mutation.internal.MutationExecutorSingleNonBatched.performNonBatchedOperations(MutationExecutorSingleNonBatched.java:47)
	at org.hibernate.engine.jdbc.mutation.internal.AbstractMutationExecutor.execute(AbstractMutationExecutor.java:55)
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.doStaticInserts(InsertCoordinatorStandard.java:194)
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.coordinateInsert(InsertCoordinatorStandard.java:132)
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.insert(InsertCoordinatorStandard.java:95)
	at org.hibernate.action.internal.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:85)
	at org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:682)
	at org.hibernate.engine.spi.ActionQueue.addResolvedEntityInsertAction(ActionQueue.java:293)
	at org.hibernate.engine.spi.ActionQueue.addInsertAction(ActionQueue.java:274)
	at org.hibernate.engine.spi.ActionQueue.addAction(ActionQueue.java:324)
	at org.hibernate.event.internal.AbstractSaveEventListener.addInsertAction(AbstractSaveEventListener.java:394)
	at org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:308)
	at org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:224)
	at org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:136)
	at org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:177)
	at org.hibernate.event.internal.DefaultPersistEventListener.persist(DefaultPersistEventListener.java:95)
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:79)
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:55)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)
	at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:761)
	at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:745)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:364)
	at jdk.proxy2/jdk.proxy2.$Proxy199.persist(Unknown Source)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:320)
	at jdk.proxy2/jdk.proxy2.$Proxy199.persist(Unknown Source)
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:651)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:277)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:515)
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:284)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:734)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:174)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:165)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy2/jdk.proxy2.$Proxy222.save(Unknown Source)
	at ma.foodplus.ordering.system.product.service.impl.CategoryServiceImpl.createCategory(CategoryServiceImpl.java:47)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at ma.foodplus.ordering.system.product.service.impl.CategoryServiceImpl$$SpringCGLIB$$0.createCategory(<generated>)
	at ma.foodplus.ordering.system.product.controller.CategoryController.createCategory(CategoryController.java:41)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:114)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-06-14 18:57:53 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-06-14 18:57:53 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-06-14 18:57:53 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-06-14 18:57:53 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-06-14 18:57:53 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-06-14 19:00:42 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - Starting FoodPlusOrderingApplication using Java 21.0.7 with PID 463562 (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes started by louki in /home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system)
2025-06-14 19:00:42 [main] DEBUG m.f.o.s.FoodPlusOrderingApplication - Running with Spring Boot v3.5.0, Spring v6.2.7
2025-06-14 19:00:42 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - The following 1 profile is active: "dev"
2025-06-14 19:00:43 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-14 19:00:43 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-14 19:00:43 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 112 ms. Found 12 JPA repository interfaces.
2025-06-14 19:00:44 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-14 19:00:44 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-06-14 19:00:44 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.common.repository.CategoryTarifRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 19:00:44 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.CustomerGroupRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 19:00:44 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.CustomerRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 19:00:44 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.ProductCustomerRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 19:00:44 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.DepotRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 19:00:44 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.ProductStockRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 19:00:44 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.SiteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 19:00:44 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.order.repository.OrderRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 19:00:44 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.product.repository.CategoryRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 19:00:44 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.product.repository.ProductAuditRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 19:00:44 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.product.repository.ProductRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 19:00:44 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.promos.repository.PromotionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 19:00:44 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 23 ms. Found 0 Redis repository interfaces.
2025-06-14 19:00:44 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8087 (http)
2025-06-14 19:00:44 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-14 19:00:44 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.41]
2025-06-14 19:00:44 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-14 19:00:44 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2079 ms
2025-06-14 19:00:45 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-06-14 19:00:45 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@71df5f30
2025-06-14 19:00:45 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-06-14 19:00:45 [main] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://10.113.181.84:5432/foodplus_ordering (PostgreSQL 17.5)
2025-06-14 19:00:45 [main] INFO  o.f.core.internal.command.DbValidate - Successfully validated 5 migrations (execution time 00:00.024s)
2025-06-14 19:00:45 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "public": 1.7.2
2025-06-14 19:00:45 [main] WARN  o.f.core.internal.command.DbMigrate - outOfOrder mode is active. Migration of schema "public" may not be reproducible.
2025-06-14 19:00:45 [main] INFO  o.f.core.internal.command.DbMigrate - Schema "public" is up to date. No migration necessary.
2025-06-14 19:00:45 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-06-14 19:00:45 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.15.Final
2025-06-14 19:00:45 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-06-14 19:00:46 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-06-14 19:00:46 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 17.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-06-14 19:00:46 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-06-14 19:00:47 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-06-14 19:00:47 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-06-14 19:00:47 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-06-14 19:00:50 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-06-14 19:00:50 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 4 endpoints beneath base path '/actuator'
2025-06-14 19:00:50 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8087 (http) with context path '/'
2025-06-14 19:00:51 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - Started FoodPlusOrderingApplication in 8.711 seconds (process running for 8.975)
2025-06-14 19:00:51 [main] INFO  m.f.o.s.p.s.CacheWarmingService - Starting cache warm-up...
2025-06-14 19:00:51 [main] INFO  m.f.o.s.p.service.ProductService - Getting all products
2025-06-14 19:00:51 [main] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.additional_photos,
        p1_0.availability_schedule,
        p1_0.b2b_contract_discount_percentage,
        p1_0.b2b_contract_required,
        p1_0.b2b_credit_terms,
        p1_0.b2b_custom_pricing_enabled,
        p1_0.b2b_delivery_lead_time,
        p1_0.b2b_minimum_order_value,
        p1_0.b2b_payment_methods,
        p1_0.b2b_volume_discount_enabled,
        p1_0.b2c_display_in_catalog,
        p1_0.b2c_featured,
        p1_0.b2c_loyalty_points_multiplier,
        p1_0.b2c_promo_end_date,
        p1_0.b2c_promo_price,
        p1_0.b2c_promo_start_date,
        p1_0.b2c_rating,
        p1_0.b2c_retail_price,
        p1_0.b2c_review_count,
        p1_0.barcode,
        p1_0.bulk_discount_percentage,
        p1_0.bulk_discount_threshold,
        p1_0.bulk_package_size,
        p1_0.bulk_package_unit,
        p1_0.certification,
        p1_0.country_of_origin,
        p1_0.created_at,
        p1_0.custom_attributes,
        p1_0.customer_segments,
        p1_0.deliverable,
        p1_0.description,
        p1_0.dimensions,
        p1_0.inactive,
        p1_0.is_bulk_item,
        p1_0.is_perishable,
        p1_0.is_wholesale_only,
        p1_0.maximum_order_quantity,
        p1_0.minimum_order_quantity,
        p1_0.package_quantity,
        p1_0.package_size,
        p1_0.photo,
        p1_0.price_including_tax,
        p1_0.family_code,
        p1_0.promo_sku_points,
        p1_0.reference,
        p1_0.requires_approval,
        p1_0.requires_cold_storage,
        p1_0.requires_contract,
        p1_0.sale_price,
        p1_0.sale_unit,
        p1_0.seasonality,
        p1_0.sku,
        p1_0.stock_tracking,
        p1_0.supplier_code,
        p1_0.supplier_name,
        p1_0.target_market,
        p1_0.tax_rate,
        p1_0.title,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.vendable,
        p1_0.visible,
        p1_0.weight,
        p1_0.weight_unit,
        p1_0.wholesale_discount_percentage,
        p1_0.wholesale_minimum_quantity,
        p1_0.wholesale_price,
        p1_0.wholesale_tier_1_price,
        p1_0.wholesale_tier_1_quantity,
        p1_0.wholesale_tier_2_price,
        p1_0.wholesale_tier_2_quantity,
        p1_0.wholesale_tier_3_price,
        p1_0.wholesale_tier_3_quantity 
    from
        products p1_0
2025-06-14 19:00:51 [main] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.code,
        pf1_0.created_at,
        pf1_0.description,
        pf1_0.is_active,
        pf1_0.name,
        pf1_0.updated_at 
    from
        product_families pf1_0 
    where
        pf1_0.code=?
2025-06-14 19:00:51 [main] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.code,
        pf1_0.created_at,
        pf1_0.description,
        pf1_0.is_active,
        pf1_0.name,
        pf1_0.updated_at 
    from
        product_families pf1_0 
    where
        pf1_0.code=?
2025-06-14 19:00:51 [main] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.code,
        pf1_0.created_at,
        pf1_0.description,
        pf1_0.is_active,
        pf1_0.name,
        pf1_0.updated_at 
    from
        product_families pf1_0 
    where
        pf1_0.code=?
2025-06-14 19:00:51 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.product_id,
        c1_1.id,
        c1_1.code,
        c1_1.created_at,
        c1_1.description,
        c1_1.is_active,
        c1_1.level,
        c1_1.name,
        c1_1.parent_id,
        c1_1.updated_at 
    from
        product_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.product_id=?
2025-06-14 19:00:51 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.product_id,
        c1_1.id,
        c1_1.code,
        c1_1.created_at,
        c1_1.description,
        c1_1.is_active,
        c1_1.level,
        c1_1.name,
        c1_1.parent_id,
        c1_1.updated_at 
    from
        product_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.product_id=?
2025-06-14 19:00:51 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.product_id,
        c1_1.id,
        c1_1.code,
        c1_1.created_at,
        c1_1.description,
        c1_1.is_active,
        c1_1.level,
        c1_1.name,
        c1_1.parent_id,
        c1_1.updated_at 
    from
        product_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.product_id=?
2025-06-14 19:00:51 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.product_id,
        c1_1.id,
        c1_1.code,
        c1_1.created_at,
        c1_1.description,
        c1_1.is_active,
        c1_1.level,
        c1_1.name,
        c1_1.parent_id,
        c1_1.updated_at 
    from
        product_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.product_id=?
2025-06-14 19:00:51 [main] INFO  m.f.o.s.p.s.CacheWarmingService - Warmed up all products cache
2025-06-14 19:00:51 [main] INFO  m.f.o.s.p.s.CacheWarmingService - Warmed up deliverable products cache
2025-06-14 19:00:51 [main] INFO  m.f.o.s.p.s.CacheWarmingService - Warmed up active products cache
2025-06-14 19:00:51 [main] INFO  m.f.o.s.p.s.CacheWarmingService - Cache warm-up completed
2025-06-14 19:01:48 [http-nio-8087-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-06-14 19:01:48 [http-nio-8087-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-06-14 19:01:48 [http-nio-8087-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-06-14 19:01:48 [http-nio-8087-exec-2] INFO  m.f.o.s.p.c.CategoryController - Creating new category: CreateCategoryCommand[code=SCAT001, name=Sousse, description=Souses, level=1, parentId=1]
2025-06-14 19:01:48 [http-nio-8087-exec-2] INFO  m.f.o.s.p.s.impl.CategoryServiceImpl - Creating new category with command: CreateCategoryCommand[code=SCAT001, name=Sousse, description=Souses, level=1, parentId=1]
2025-06-14 19:01:48 [http-nio-8087-exec-2] DEBUG org.hibernate.SQL - 
    select
        c1_0.id 
    from
        categories c1_0 
    where
        c1_0.code=? 
    fetch
        first ? rows only
2025-06-14 19:01:48 [http-nio-8087-exec-2] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.code,
        c1_0.created_at,
        c1_0.description,
        c1_0.is_active,
        c1_0.level,
        c1_0.name,
        c1_0.parent_id,
        c1_0.updated_at 
    from
        categories c1_0 
    where
        c1_0.id=?
2025-06-14 19:01:48 [http-nio-8087-exec-2] DEBUG org.hibernate.SQL - 
    insert 
    into
        categories
        (code, created_at, description, is_active, level, name, parent_id, updated_at) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)
2025-06-14 19:02:45 [http-nio-8087-exec-3] INFO  m.f.o.s.p.c.CategoryController - Getting all categories with pagination
2025-06-14 19:02:45 [http-nio-8087-exec-3] INFO  m.f.o.s.p.s.impl.CategoryServiceImpl - Getting all categories with pagination
2025-06-14 19:02:45 [http-nio-8087-exec-3] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.code,
        c1_0.created_at,
        c1_0.description,
        c1_0.is_active,
        c1_0.level,
        c1_0.name,
        c1_0.parent_id,
        c1_0.updated_at 
    from
        categories c1_0 
    offset
        ? rows 
    fetch
        first ? rows only
2025-06-14 19:03:34 [http-nio-8087-exec-4] INFO  m.f.o.s.p.c.CategoryController - Creating new category: CreateCategoryCommand[code=SCAT002, name=Sousse hort, description=Souses hot, level=1, parentId=1]
2025-06-14 19:03:34 [http-nio-8087-exec-4] INFO  m.f.o.s.p.s.impl.CategoryServiceImpl - Creating new category with command: CreateCategoryCommand[code=SCAT002, name=Sousse hort, description=Souses hot, level=1, parentId=1]
2025-06-14 19:03:34 [http-nio-8087-exec-4] DEBUG org.hibernate.SQL - 
    select
        c1_0.id 
    from
        categories c1_0 
    where
        c1_0.code=? 
    fetch
        first ? rows only
2025-06-14 19:03:34 [http-nio-8087-exec-4] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.code,
        c1_0.created_at,
        c1_0.description,
        c1_0.is_active,
        c1_0.level,
        c1_0.name,
        c1_0.parent_id,
        c1_0.updated_at 
    from
        categories c1_0 
    where
        c1_0.id=?
2025-06-14 19:03:34 [http-nio-8087-exec-4] DEBUG org.hibernate.SQL - 
    insert 
    into
        categories
        (code, created_at, description, is_active, level, name, parent_id, updated_at) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)
2025-06-14 19:04:57 [http-nio-8087-exec-7] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Unrecognized field "code" (class ma.foodplus.ordering.system.product.dto.category.UpdateCategoryCommand), not marked as ignorable]
2025-06-14 19:05:32 [http-nio-8087-exec-9] INFO  m.f.o.s.p.c.CategoryController - Updating category with id 7: UpdateCategoryCommand[name=Sousse hort updated, description=Souses hot updated, level=1, parentId=1]
2025-06-14 19:05:32 [http-nio-8087-exec-9] INFO  m.f.o.s.p.s.impl.CategoryServiceImpl - Updating category 7 with command: UpdateCategoryCommand[name=Sousse hort updated, description=Souses hot updated, level=1, parentId=1]
2025-06-14 19:05:32 [http-nio-8087-exec-9] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.code,
        c1_0.created_at,
        c1_0.description,
        c1_0.is_active,
        c1_0.level,
        c1_0.name,
        c1_0.parent_id,
        c1_0.updated_at 
    from
        categories c1_0 
    where
        c1_0.id=?
2025-06-14 19:05:32 [http-nio-8087-exec-9] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.code,
        c1_0.created_at,
        c1_0.description,
        c1_0.is_active,
        c1_0.level,
        c1_0.name,
        c1_0.parent_id,
        c1_0.updated_at 
    from
        categories c1_0 
    where
        c1_0.id=?
2025-06-14 19:05:32 [http-nio-8087-exec-9] DEBUG org.hibernate.SQL - 
    update
        categories 
    set
        code=?,
        description=?,
        is_active=?,
        level=?,
        name=?,
        parent_id=?,
        updated_at=? 
    where
        id=?
2025-06-14 19:05:36 [http-nio-8087-exec-10] INFO  m.f.o.s.p.c.CategoryController - Getting all categories with pagination
2025-06-14 19:05:36 [http-nio-8087-exec-10] INFO  m.f.o.s.p.s.impl.CategoryServiceImpl - Getting all categories with pagination
2025-06-14 19:05:36 [http-nio-8087-exec-10] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.code,
        c1_0.created_at,
        c1_0.description,
        c1_0.is_active,
        c1_0.level,
        c1_0.name,
        c1_0.parent_id,
        c1_0.updated_at 
    from
        categories c1_0 
    offset
        ? rows 
    fetch
        first ? rows only
2025-06-14 19:07:07 [http-nio-8087-exec-3] INFO  m.f.o.s.p.c.CategoryController - Deleting category with id: 7
2025-06-14 19:07:07 [http-nio-8087-exec-3] INFO  m.f.o.s.p.s.impl.CategoryServiceImpl - Deleting category: 7
2025-06-14 19:07:07 [http-nio-8087-exec-3] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.code,
        c1_0.created_at,
        c1_0.description,
        c1_0.is_active,
        c1_0.level,
        c1_0.name,
        c1_0.parent_id,
        c1_0.updated_at 
    from
        categories c1_0 
    where
        c1_0.id=?
2025-06-14 19:07:07 [http-nio-8087-exec-3] DEBUG org.hibernate.SQL - 
    select
        c1_0.parent_id,
        c1_0.id,
        c1_0.code,
        c1_0.created_at,
        c1_0.description,
        c1_0.is_active,
        c1_0.level,
        c1_0.name,
        c1_0.updated_at 
    from
        categories c1_0 
    where
        c1_0.parent_id=?
2025-06-14 19:07:07 [http-nio-8087-exec-3] DEBUG org.hibernate.SQL - 
    select
        p1_0.category_id,
        p1_1.id,
        p1_1.additional_photos,
        p1_1.availability_schedule,
        p1_1.b2b_contract_discount_percentage,
        p1_1.b2b_contract_required,
        p1_1.b2b_credit_terms,
        p1_1.b2b_custom_pricing_enabled,
        p1_1.b2b_delivery_lead_time,
        p1_1.b2b_minimum_order_value,
        p1_1.b2b_payment_methods,
        p1_1.b2b_volume_discount_enabled,
        p1_1.b2c_display_in_catalog,
        p1_1.b2c_featured,
        p1_1.b2c_loyalty_points_multiplier,
        p1_1.b2c_promo_end_date,
        p1_1.b2c_promo_price,
        p1_1.b2c_promo_start_date,
        p1_1.b2c_rating,
        p1_1.b2c_retail_price,
        p1_1.b2c_review_count,
        p1_1.barcode,
        p1_1.bulk_discount_percentage,
        p1_1.bulk_discount_threshold,
        p1_1.bulk_package_size,
        p1_1.bulk_package_unit,
        p1_1.certification,
        p1_1.country_of_origin,
        p1_1.created_at,
        p1_1.custom_attributes,
        p1_1.customer_segments,
        p1_1.deliverable,
        p1_1.description,
        p1_1.dimensions,
        p1_1.inactive,
        p1_1.is_bulk_item,
        p1_1.is_perishable,
        p1_1.is_wholesale_only,
        p1_1.maximum_order_quantity,
        p1_1.minimum_order_quantity,
        p1_1.package_quantity,
        p1_1.package_size,
        p1_1.photo,
        p1_1.price_including_tax,
        p1_1.family_code,
        p1_1.promo_sku_points,
        p1_1.reference,
        p1_1.requires_approval,
        p1_1.requires_cold_storage,
        p1_1.requires_contract,
        p1_1.sale_price,
        p1_1.sale_unit,
        p1_1.seasonality,
        p1_1.sku,
        p1_1.stock_tracking,
        p1_1.supplier_code,
        p1_1.supplier_name,
        p1_1.target_market,
        p1_1.tax_rate,
        p1_1.title,
        p1_1.unit_price,
        p1_1.updated_at,
        p1_1.vendable,
        p1_1.visible,
        p1_1.weight,
        p1_1.weight_unit,
        p1_1.wholesale_discount_percentage,
        p1_1.wholesale_minimum_quantity,
        p1_1.wholesale_price,
        p1_1.wholesale_tier_1_price,
        p1_1.wholesale_tier_1_quantity,
        p1_1.wholesale_tier_2_price,
        p1_1.wholesale_tier_2_quantity,
        p1_1.wholesale_tier_3_price,
        p1_1.wholesale_tier_3_quantity 
    from
        product_categories p1_0 
    join
        products p1_1 
            on p1_1.id=p1_0.product_id 
    where
        p1_0.category_id=?
2025-06-14 19:07:07 [http-nio-8087-exec-3] DEBUG org.hibernate.SQL - 
    delete 
    from
        categories 
    where
        id=?
2025-06-14 19:07:11 [http-nio-8087-exec-4] INFO  m.f.o.s.p.c.CategoryController - Getting all categories with pagination
2025-06-14 19:07:11 [http-nio-8087-exec-4] INFO  m.f.o.s.p.s.impl.CategoryServiceImpl - Getting all categories with pagination
2025-06-14 19:07:11 [http-nio-8087-exec-4] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.code,
        c1_0.created_at,
        c1_0.description,
        c1_0.is_active,
        c1_0.level,
        c1_0.name,
        c1_0.parent_id,
        c1_0.updated_at 
    from
        categories c1_0 
    offset
        ? rows 
    fetch
        first ? rows only
2025-06-14 19:08:20 [http-nio-8087-exec-7] INFO  m.f.o.s.p.c.CategoryController - Getting category with id: 7
2025-06-14 19:08:20 [http-nio-8087-exec-7] INFO  m.f.o.s.p.s.impl.CategoryServiceImpl - Getting category by id: 7
2025-06-14 19:08:20 [http-nio-8087-exec-7] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.code,
        c1_0.created_at,
        c1_0.description,
        c1_0.is_active,
        c1_0.level,
        c1_0.name,
        c1_0.parent_id,
        c1_0.updated_at 
    from
        categories c1_0 
    where
        c1_0.id=?
2025-06-14 19:08:20 [http-nio-8087-exec-7] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.RuntimeException: Category not found] with root cause
java.lang.RuntimeException: Category not found
	at ma.foodplus.ordering.system.product.service.impl.CategoryServiceImpl.lambda$getCategoryById$4(CategoryServiceImpl.java:98)
	at java.base/java.util.Optional.orElseThrow(Optional.java:403)
	at ma.foodplus.ordering.system.product.service.impl.CategoryServiceImpl.getCategoryById(CategoryServiceImpl.java:98)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at ma.foodplus.ordering.system.product.service.impl.CategoryServiceImpl$$SpringCGLIB$$0.getCategoryById(<generated>)
	at ma.foodplus.ordering.system.product.controller.CategoryController.getCategoryById(CategoryController.java:71)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:114)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-06-14 19:08:47 [http-nio-8087-exec-9] INFO  m.f.o.s.p.c.CategoryController - Getting category with id: 6
2025-06-14 19:08:47 [http-nio-8087-exec-9] INFO  m.f.o.s.p.s.impl.CategoryServiceImpl - Getting category by id: 6
2025-06-14 19:08:47 [http-nio-8087-exec-9] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.code,
        c1_0.created_at,
        c1_0.description,
        c1_0.is_active,
        c1_0.level,
        c1_0.name,
        c1_0.parent_id,
        c1_0.updated_at 
    from
        categories c1_0 
    where
        c1_0.id=?
2025-06-14 19:08:54 [http-nio-8087-exec-10] INFO  m.f.o.s.p.c.CategoryController - Getting category with id: 1
2025-06-14 19:08:54 [http-nio-8087-exec-10] INFO  m.f.o.s.p.s.impl.CategoryServiceImpl - Getting category by id: 1
2025-06-14 19:08:54 [http-nio-8087-exec-10] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.code,
        c1_0.created_at,
        c1_0.description,
        c1_0.is_active,
        c1_0.level,
        c1_0.name,
        c1_0.parent_id,
        c1_0.updated_at 
    from
        categories c1_0 
    where
        c1_0.id=?
2025-06-14 19:10:15 [http-nio-8087-exec-3] INFO  m.f.o.s.p.c.CategoryController - Getting category tree
2025-06-14 19:10:15 [http-nio-8087-exec-3] INFO  m.f.o.s.p.s.impl.CategoryServiceImpl - Getting category tree
2025-06-14 19:10:15 [http-nio-8087-exec-3] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.code,
        c1_0.created_at,
        c1_0.description,
        c1_0.is_active,
        c1_0.level,
        c1_0.name,
        c1_0.parent_id,
        c1_0.updated_at 
    from
        categories c1_0 
    where
        c1_0.parent_id is null
2025-06-14 19:10:15 [http-nio-8087-exec-3] DEBUG org.hibernate.SQL - 
    select
        c1_0.parent_id,
        c1_0.id,
        c1_0.code,
        c1_0.created_at,
        c1_0.description,
        c1_0.is_active,
        c1_0.level,
        c1_0.name,
        c1_0.updated_at 
    from
        categories c1_0 
    where
        c1_0.parent_id=?
2025-06-14 19:10:15 [http-nio-8087-exec-3] DEBUG org.hibernate.SQL - 
    select
        c1_0.parent_id,
        c1_0.id,
        c1_0.code,
        c1_0.created_at,
        c1_0.description,
        c1_0.is_active,
        c1_0.level,
        c1_0.name,
        c1_0.updated_at 
    from
        categories c1_0 
    where
        c1_0.parent_id=?
2025-06-14 19:10:15 [http-nio-8087-exec-3] DEBUG org.hibernate.SQL - 
    select
        c1_0.parent_id,
        c1_0.id,
        c1_0.code,
        c1_0.created_at,
        c1_0.description,
        c1_0.is_active,
        c1_0.level,
        c1_0.name,
        c1_0.updated_at 
    from
        categories c1_0 
    where
        c1_0.parent_id=?
2025-06-14 19:10:15 [http-nio-8087-exec-3] DEBUG org.hibernate.SQL - 
    select
        c1_0.parent_id,
        c1_0.id,
        c1_0.code,
        c1_0.created_at,
        c1_0.description,
        c1_0.is_active,
        c1_0.level,
        c1_0.name,
        c1_0.updated_at 
    from
        categories c1_0 
    where
        c1_0.parent_id=?
2025-06-14 19:10:15 [http-nio-8087-exec-3] DEBUG org.hibernate.SQL - 
    select
        c1_0.parent_id,
        c1_0.id,
        c1_0.code,
        c1_0.created_at,
        c1_0.description,
        c1_0.is_active,
        c1_0.level,
        c1_0.name,
        c1_0.updated_at 
    from
        categories c1_0 
    where
        c1_0.parent_id=?
2025-06-14 19:10:15 [http-nio-8087-exec-3] DEBUG org.hibernate.SQL - 
    select
        c1_0.parent_id,
        c1_0.id,
        c1_0.code,
        c1_0.created_at,
        c1_0.description,
        c1_0.is_active,
        c1_0.level,
        c1_0.name,
        c1_0.updated_at 
    from
        categories c1_0 
    where
        c1_0.parent_id=?
2025-06-14 19:10:46 [http-nio-8087-exec-4] INFO  m.f.o.s.p.c.CategoryController - Getting category tree
2025-06-14 19:10:46 [http-nio-8087-exec-4] INFO  m.f.o.s.p.s.impl.CategoryServiceImpl - Getting category tree
2025-06-14 19:10:46 [http-nio-8087-exec-4] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.code,
        c1_0.created_at,
        c1_0.description,
        c1_0.is_active,
        c1_0.level,
        c1_0.name,
        c1_0.parent_id,
        c1_0.updated_at 
    from
        categories c1_0 
    where
        c1_0.parent_id is null
2025-06-14 19:10:46 [http-nio-8087-exec-4] DEBUG org.hibernate.SQL - 
    select
        c1_0.parent_id,
        c1_0.id,
        c1_0.code,
        c1_0.created_at,
        c1_0.description,
        c1_0.is_active,
        c1_0.level,
        c1_0.name,
        c1_0.updated_at 
    from
        categories c1_0 
    where
        c1_0.parent_id=?
2025-06-14 19:10:46 [http-nio-8087-exec-4] DEBUG org.hibernate.SQL - 
    select
        c1_0.parent_id,
        c1_0.id,
        c1_0.code,
        c1_0.created_at,
        c1_0.description,
        c1_0.is_active,
        c1_0.level,
        c1_0.name,
        c1_0.updated_at 
    from
        categories c1_0 
    where
        c1_0.parent_id=?
2025-06-14 19:10:46 [http-nio-8087-exec-4] DEBUG org.hibernate.SQL - 
    select
        c1_0.parent_id,
        c1_0.id,
        c1_0.code,
        c1_0.created_at,
        c1_0.description,
        c1_0.is_active,
        c1_0.level,
        c1_0.name,
        c1_0.updated_at 
    from
        categories c1_0 
    where
        c1_0.parent_id=?
2025-06-14 19:10:46 [http-nio-8087-exec-4] DEBUG org.hibernate.SQL - 
    select
        c1_0.parent_id,
        c1_0.id,
        c1_0.code,
        c1_0.created_at,
        c1_0.description,
        c1_0.is_active,
        c1_0.level,
        c1_0.name,
        c1_0.updated_at 
    from
        categories c1_0 
    where
        c1_0.parent_id=?
2025-06-14 19:10:46 [http-nio-8087-exec-4] DEBUG org.hibernate.SQL - 
    select
        c1_0.parent_id,
        c1_0.id,
        c1_0.code,
        c1_0.created_at,
        c1_0.description,
        c1_0.is_active,
        c1_0.level,
        c1_0.name,
        c1_0.updated_at 
    from
        categories c1_0 
    where
        c1_0.parent_id=?
2025-06-14 19:10:46 [http-nio-8087-exec-4] DEBUG org.hibernate.SQL - 
    select
        c1_0.parent_id,
        c1_0.id,
        c1_0.code,
        c1_0.created_at,
        c1_0.description,
        c1_0.is_active,
        c1_0.level,
        c1_0.name,
        c1_0.updated_at 
    from
        categories c1_0 
    where
        c1_0.parent_id=?
2025-06-14 19:11:28 [http-nio-8087-exec-7] INFO  m.f.o.s.p.c.CategoryController - Getting category with code: CAT001
2025-06-14 19:11:28 [http-nio-8087-exec-7] INFO  m.f.o.s.p.s.impl.CategoryServiceImpl - Getting category by code: CAT001
2025-06-14 19:11:28 [http-nio-8087-exec-7] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.code,
        c1_0.created_at,
        c1_0.description,
        c1_0.is_active,
        c1_0.level,
        c1_0.name,
        c1_0.parent_id,
        c1_0.updated_at 
    from
        categories c1_0 
    where
        c1_0.code=?
2025-06-14 19:12:15 [http-nio-8087-exec-8] INFO  m.f.o.s.p.c.CategoryController - Getting subcategories for parent id: 1
2025-06-14 19:12:15 [http-nio-8087-exec-8] INFO  m.f.o.s.p.s.impl.CategoryServiceImpl - Getting subcategories for parent: 1
2025-06-14 19:12:15 [http-nio-8087-exec-8] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.code,
        c1_0.created_at,
        c1_0.description,
        c1_0.is_active,
        c1_0.level,
        c1_0.name,
        c1_0.parent_id,
        c1_0.updated_at 
    from
        categories c1_0 
    where
        c1_0.id=?
2025-06-14 19:12:15 [http-nio-8087-exec-8] DEBUG org.hibernate.SQL - 
    select
        c1_0.parent_id,
        c1_0.id,
        c1_0.code,
        c1_0.created_at,
        c1_0.description,
        c1_0.is_active,
        c1_0.level,
        c1_0.name,
        c1_0.updated_at 
    from
        categories c1_0 
    where
        c1_0.parent_id=?
2025-06-14 19:14:52 [http-nio-8087-exec-1] INFO  m.f.o.s.p.c.CategoryController - Getting categories at level: 1
2025-06-14 19:14:52 [http-nio-8087-exec-1] INFO  m.f.o.s.p.s.impl.CategoryServiceImpl - Getting categories by level: 1
2025-06-14 19:14:52 [http-nio-8087-exec-1] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.code,
        c1_0.created_at,
        c1_0.description,
        c1_0.is_active,
        c1_0.level,
        c1_0.name,
        c1_0.parent_id,
        c1_0.updated_at 
    from
        categories c1_0 
    where
        c1_0.level=?
2025-06-14 19:14:58 [http-nio-8087-exec-2] INFO  m.f.o.s.p.c.CategoryController - Getting categories at level: 3
2025-06-14 19:14:58 [http-nio-8087-exec-2] INFO  m.f.o.s.p.s.impl.CategoryServiceImpl - Getting categories by level: 3
2025-06-14 19:14:58 [http-nio-8087-exec-2] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.code,
        c1_0.created_at,
        c1_0.description,
        c1_0.is_active,
        c1_0.level,
        c1_0.name,
        c1_0.parent_id,
        c1_0.updated_at 
    from
        categories c1_0 
    where
        c1_0.level=?
2025-06-14 19:15:01 [http-nio-8087-exec-3] INFO  m.f.o.s.p.c.CategoryController - Getting categories at level: 2
2025-06-14 19:15:01 [http-nio-8087-exec-3] INFO  m.f.o.s.p.s.impl.CategoryServiceImpl - Getting categories by level: 2
2025-06-14 19:15:01 [http-nio-8087-exec-3] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.code,
        c1_0.created_at,
        c1_0.description,
        c1_0.is_active,
        c1_0.level,
        c1_0.name,
        c1_0.parent_id,
        c1_0.updated_at 
    from
        categories c1_0 
    where
        c1_0.level=?
2025-06-14 19:15:04 [http-nio-8087-exec-4] INFO  m.f.o.s.p.c.CategoryController - Getting categories at level: 0
2025-06-14 19:15:04 [http-nio-8087-exec-4] INFO  m.f.o.s.p.s.impl.CategoryServiceImpl - Getting categories by level: 0
2025-06-14 19:15:04 [http-nio-8087-exec-4] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.code,
        c1_0.created_at,
        c1_0.description,
        c1_0.is_active,
        c1_0.level,
        c1_0.name,
        c1_0.parent_id,
        c1_0.updated_at 
    from
        categories c1_0 
    where
        c1_0.level=?
2025-06-14 19:15:06 [http-nio-8087-exec-5] INFO  m.f.o.s.p.c.CategoryController - Getting categories at level: 2
2025-06-14 19:15:06 [http-nio-8087-exec-5] INFO  m.f.o.s.p.s.impl.CategoryServiceImpl - Getting categories by level: 2
2025-06-14 19:15:06 [http-nio-8087-exec-5] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.code,
        c1_0.created_at,
        c1_0.description,
        c1_0.is_active,
        c1_0.level,
        c1_0.name,
        c1_0.parent_id,
        c1_0.updated_at 
    from
        categories c1_0 
    where
        c1_0.level=?
2025-06-14 19:20:47 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-06-14 19:20:47 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-06-14 19:20:48 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-06-14 19:20:48 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-06-14 19:20:48 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-06-14 19:20:51 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - Starting FoodPlusOrderingApplication using Java 21.0.7 with PID 466773 (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes started by louki in /home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system)
2025-06-14 19:20:51 [main] DEBUG m.f.o.s.FoodPlusOrderingApplication - Running with Spring Boot v3.5.0, Spring v6.2.7
2025-06-14 19:20:51 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - The following 1 profile is active: "dev"
2025-06-14 19:20:52 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-14 19:20:52 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-14 19:20:52 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 111 ms. Found 12 JPA repository interfaces.
2025-06-14 19:20:52 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-14 19:20:52 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-06-14 19:20:52 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.common.repository.CategoryTarifRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 19:20:52 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.CustomerGroupRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 19:20:52 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.CustomerRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 19:20:52 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.ProductCustomerRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 19:20:52 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.DepotRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 19:20:52 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.ProductStockRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 19:20:52 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.SiteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 19:20:52 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.order.repository.OrderRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 19:20:52 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.product.repository.CategoryRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 19:20:52 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.product.repository.ProductAuditRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 19:20:52 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.product.repository.ProductRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 19:20:52 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.promos.repository.PromotionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 19:20:52 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 22 ms. Found 0 Redis repository interfaces.
2025-06-14 19:20:53 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8087 (http)
2025-06-14 19:20:53 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-14 19:20:53 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.41]
2025-06-14 19:20:53 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-14 19:20:53 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2148 ms
2025-06-14 19:20:53 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-06-14 19:20:54 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@3c62f69a
2025-06-14 19:20:54 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-06-14 19:20:54 [main] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://10.113.181.84:5432/foodplus_ordering (PostgreSQL 17.5)
2025-06-14 19:20:54 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Validate failed: Migrations have failed validation
Migration checksum mismatch for migration version 1.7.1
-> Applied to database : 962755770
-> Resolved locally    : -684029368
Either revert the changes to the migration, or run repair to update the schema history.
Need more flexibility with validation rules? Learn more: https://rd.gt/3AbJUZE
2025-06-14 19:20:54 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-06-14 19:20:54 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-06-14 19:20:54 [main] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-06-14 19:20:54 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-06-14 19:20:54 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Validate failed: Migrations have failed validation
Migration checksum mismatch for migration version 1.7.1
-> Applied to database : 962755770
-> Resolved locally    : -684029368
Either revert the changes to the migration, or run repair to update the schema history.
Need more flexibility with validation rules? Learn more: https://rd.gt/3AbJUZE
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:328)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:753)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1362)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1351)
	at ma.foodplus.ordering.system.FoodPlusOrderingApplication.main(FoodPlusOrderingApplication.java:22)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Validate failed: Migrations have failed validation
Migration checksum mismatch for migration version 1.7.1
-> Applied to database : 962755770
-> Resolved locally    : -684029368
Either revert the changes to the migration, or run repair to update the schema history.
Need more flexibility with validation rules? Learn more: https://rd.gt/3AbJUZE
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1826)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:607)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315)
	... 10 common frames omitted
Caused by: org.flywaydb.core.api.exception.FlywayValidateException: Validate failed: Migrations have failed validation
Migration checksum mismatch for migration version 1.7.1
-> Applied to database : 962755770
-> Resolved locally    : -684029368
Either revert the changes to the migration, or run repair to update the schema history.
Need more flexibility with validation rules? Learn more: https://rd.gt/3AbJUZE
	at org.flywaydb.core.Flyway.lambda$migrate$1(Flyway.java:201)
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:210)
	at org.flywaydb.core.Flyway.migrate(Flyway.java:188)
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1873)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1822)
	... 17 common frames omitted
2025-06-14 19:21:16 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - Starting FoodPlusOrderingApplication using Java 21.0.7 with PID 466896 (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes started by louki in /home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system)
2025-06-14 19:21:16 [main] DEBUG m.f.o.s.FoodPlusOrderingApplication - Running with Spring Boot v3.5.0, Spring v6.2.7
2025-06-14 19:21:16 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - The following 1 profile is active: "dev"
2025-06-14 19:21:16 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-14 19:21:16 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-14 19:21:16 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 82 ms. Found 12 JPA repository interfaces.
2025-06-14 19:21:17 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-14 19:21:17 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-06-14 19:21:17 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.common.repository.CategoryTarifRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 19:21:17 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.CustomerGroupRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 19:21:17 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.CustomerRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 19:21:17 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.ProductCustomerRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 19:21:17 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.DepotRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 19:21:17 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.ProductStockRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 19:21:17 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.SiteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 19:21:17 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.order.repository.OrderRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 19:21:17 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.product.repository.CategoryRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 19:21:17 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.product.repository.ProductAuditRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 19:21:17 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.product.repository.ProductRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 19:21:17 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.promos.repository.PromotionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 19:21:17 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 19 ms. Found 0 Redis repository interfaces.
2025-06-14 19:21:17 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8087 (http)
2025-06-14 19:21:17 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-14 19:21:17 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.41]
2025-06-14 19:21:17 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-14 19:21:17 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1543 ms
2025-06-14 19:21:18 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-06-14 19:21:18 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@5ebe903a
2025-06-14 19:21:18 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-06-14 19:21:18 [main] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://10.113.181.84:5432/foodplus_ordering (PostgreSQL 17.5)
2025-06-14 19:21:18 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Validate failed: Migrations have failed validation
Migration checksum mismatch for migration version 1.7.1
-> Applied to database : 962755770
-> Resolved locally    : -684029368
Either revert the changes to the migration, or run repair to update the schema history.
Need more flexibility with validation rules? Learn more: https://rd.gt/3AbJUZE
2025-06-14 19:21:18 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-06-14 19:21:18 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-06-14 19:21:18 [main] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-06-14 19:21:18 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-06-14 19:21:18 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Validate failed: Migrations have failed validation
Migration checksum mismatch for migration version 1.7.1
-> Applied to database : 962755770
-> Resolved locally    : -684029368
Either revert the changes to the migration, or run repair to update the schema history.
Need more flexibility with validation rules? Learn more: https://rd.gt/3AbJUZE
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:328)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:753)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1362)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1351)
	at ma.foodplus.ordering.system.FoodPlusOrderingApplication.main(FoodPlusOrderingApplication.java:22)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Validate failed: Migrations have failed validation
Migration checksum mismatch for migration version 1.7.1
-> Applied to database : 962755770
-> Resolved locally    : -684029368
Either revert the changes to the migration, or run repair to update the schema history.
Need more flexibility with validation rules? Learn more: https://rd.gt/3AbJUZE
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1826)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:607)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315)
	... 10 common frames omitted
Caused by: org.flywaydb.core.api.exception.FlywayValidateException: Validate failed: Migrations have failed validation
Migration checksum mismatch for migration version 1.7.1
-> Applied to database : 962755770
-> Resolved locally    : -684029368
Either revert the changes to the migration, or run repair to update the schema history.
Need more flexibility with validation rules? Learn more: https://rd.gt/3AbJUZE
	at org.flywaydb.core.Flyway.lambda$migrate$1(Flyway.java:201)
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:210)
	at org.flywaydb.core.Flyway.migrate(Flyway.java:188)
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1873)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1822)
	... 17 common frames omitted
2025-06-14 19:21:41 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - Starting FoodPlusOrderingApplication using Java 21.0.7 with PID 467009 (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes started by louki in /home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system)
2025-06-14 19:21:41 [main] DEBUG m.f.o.s.FoodPlusOrderingApplication - Running with Spring Boot v3.5.0, Spring v6.2.7
2025-06-14 19:21:41 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - The following 1 profile is active: "dev"
2025-06-14 19:21:42 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-14 19:21:42 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-14 19:21:42 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 98 ms. Found 12 JPA repository interfaces.
2025-06-14 19:21:42 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-14 19:21:42 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-06-14 19:21:42 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.common.repository.CategoryTarifRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 19:21:42 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.CustomerGroupRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 19:21:42 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.CustomerRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 19:21:42 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.ProductCustomerRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 19:21:42 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.DepotRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 19:21:42 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.ProductStockRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 19:21:42 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.SiteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 19:21:42 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.order.repository.OrderRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 19:21:42 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.product.repository.CategoryRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 19:21:42 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.product.repository.ProductAuditRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 19:21:42 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.product.repository.ProductRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 19:21:42 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.promos.repository.PromotionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 19:21:42 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 22 ms. Found 0 Redis repository interfaces.
2025-06-14 19:21:43 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8087 (http)
2025-06-14 19:21:43 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-14 19:21:43 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.41]
2025-06-14 19:21:43 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-14 19:21:43 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1814 ms
2025-06-14 19:21:43 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-06-14 19:21:44 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@523ade68
2025-06-14 19:21:44 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-06-14 19:21:44 [main] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://10.113.181.84:5432/foodplus_ordering (PostgreSQL 17.5)
2025-06-14 19:21:44 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Validate failed: Migrations have failed validation
Migration checksum mismatch for migration version 1.7.1
-> Applied to database : 962755770
-> Resolved locally    : 771303609
Either revert the changes to the migration, or run repair to update the schema history.
Need more flexibility with validation rules? Learn more: https://rd.gt/3AbJUZE
2025-06-14 19:21:44 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-06-14 19:21:44 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-06-14 19:21:44 [main] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-06-14 19:21:44 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-06-14 19:21:44 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Validate failed: Migrations have failed validation
Migration checksum mismatch for migration version 1.7.1
-> Applied to database : 962755770
-> Resolved locally    : 771303609
Either revert the changes to the migration, or run repair to update the schema history.
Need more flexibility with validation rules? Learn more: https://rd.gt/3AbJUZE
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:328)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:753)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1362)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1351)
	at ma.foodplus.ordering.system.FoodPlusOrderingApplication.main(FoodPlusOrderingApplication.java:22)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Validate failed: Migrations have failed validation
Migration checksum mismatch for migration version 1.7.1
-> Applied to database : 962755770
-> Resolved locally    : 771303609
Either revert the changes to the migration, or run repair to update the schema history.
Need more flexibility with validation rules? Learn more: https://rd.gt/3AbJUZE
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1826)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:607)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315)
	... 10 common frames omitted
Caused by: org.flywaydb.core.api.exception.FlywayValidateException: Validate failed: Migrations have failed validation
Migration checksum mismatch for migration version 1.7.1
-> Applied to database : 962755770
-> Resolved locally    : 771303609
Either revert the changes to the migration, or run repair to update the schema history.
Need more flexibility with validation rules? Learn more: https://rd.gt/3AbJUZE
	at org.flywaydb.core.Flyway.lambda$migrate$1(Flyway.java:201)
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:210)
	at org.flywaydb.core.Flyway.migrate(Flyway.java:188)
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1873)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1822)
	... 17 common frames omitted
2025-06-14 19:24:05 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - Starting FoodPlusOrderingApplication using Java 21.0.7 with PID 467596 (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes started by louki in /home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system)
2025-06-14 19:24:05 [main] DEBUG m.f.o.s.FoodPlusOrderingApplication - Running with Spring Boot v3.5.0, Spring v6.2.7
2025-06-14 19:24:05 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - The following 1 profile is active: "dev"
2025-06-14 19:24:06 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-14 19:24:06 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-14 19:24:06 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 97 ms. Found 12 JPA repository interfaces.
2025-06-14 19:24:07 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-14 19:24:07 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-06-14 19:24:07 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.common.repository.CategoryTarifRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 19:24:07 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.CustomerGroupRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 19:24:07 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.CustomerRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 19:24:07 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.ProductCustomerRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 19:24:07 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.DepotRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 19:24:07 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.ProductStockRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 19:24:07 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.SiteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 19:24:07 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.order.repository.OrderRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 19:24:07 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.product.repository.CategoryRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 19:24:07 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.product.repository.ProductAuditRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 19:24:07 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.product.repository.ProductRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 19:24:07 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.promos.repository.PromotionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 19:24:07 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 22 ms. Found 0 Redis repository interfaces.
2025-06-14 19:24:07 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8087 (http)
2025-06-14 19:24:07 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-14 19:24:07 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.41]
2025-06-14 19:24:07 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-14 19:24:07 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1805 ms
2025-06-14 19:24:08 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-06-14 19:24:08 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@3c62f69a
2025-06-14 19:24:08 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-06-14 19:24:08 [main] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://10.113.181.84:5432/foodplus_ordering (PostgreSQL 17.5)
2025-06-14 19:24:08 [main] INFO  o.f.core.internal.command.DbValidate - Successfully validated 5 migrations (execution time 00:00.020s)
2025-06-14 19:24:08 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "public": 1.7.2
2025-06-14 19:24:08 [main] WARN  o.f.core.internal.command.DbMigrate - outOfOrder mode is active. Migration of schema "public" may not be reproducible.
2025-06-14 19:24:08 [main] INFO  o.f.core.internal.command.DbMigrate - Schema "public" is up to date. No migration necessary.
2025-06-14 19:24:08 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-06-14 19:24:08 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.15.Final
2025-06-14 19:24:08 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-06-14 19:24:08 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-06-14 19:24:08 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 17.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-06-14 19:24:08 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-06-14 19:24:09 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-06-14 19:24:09 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-06-14 19:24:10 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-06-14 19:24:12 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-06-14 19:24:12 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 4 endpoints beneath base path '/actuator'
2025-06-14 19:24:12 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8087 (http) with context path '/'
2025-06-14 19:24:12 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - Started FoodPlusOrderingApplication in 7.491 seconds (process running for 7.747)
2025-06-14 19:24:12 [main] INFO  m.f.o.s.p.s.CacheWarmingService - Starting cache warm-up...
2025-06-14 19:24:12 [main] INFO  m.f.o.s.p.service.ProductService - Getting all products
2025-06-14 19:24:12 [main] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.additional_photos,
        p1_0.availability_schedule,
        p1_0.b2b_contract_discount_percentage,
        p1_0.b2b_contract_required,
        p1_0.b2b_credit_terms,
        p1_0.b2b_custom_pricing_enabled,
        p1_0.b2b_delivery_lead_time,
        p1_0.b2b_minimum_order_value,
        p1_0.b2b_payment_methods,
        p1_0.b2b_volume_discount_enabled,
        p1_0.b2c_display_in_catalog,
        p1_0.b2c_featured,
        p1_0.b2c_loyalty_points_multiplier,
        p1_0.b2c_promo_end_date,
        p1_0.b2c_promo_price,
        p1_0.b2c_promo_start_date,
        p1_0.b2c_rating,
        p1_0.b2c_retail_price,
        p1_0.b2c_review_count,
        p1_0.barcode,
        p1_0.bulk_discount_percentage,
        p1_0.bulk_discount_threshold,
        p1_0.bulk_package_size,
        p1_0.bulk_package_unit,
        p1_0.certification,
        p1_0.country_of_origin,
        p1_0.created_at,
        p1_0.custom_attributes,
        p1_0.customer_segments,
        p1_0.deliverable,
        p1_0.description,
        p1_0.dimensions,
        p1_0.inactive,
        p1_0.is_bulk_item,
        p1_0.is_perishable,
        p1_0.is_wholesale_only,
        p1_0.maximum_order_quantity,
        p1_0.minimum_order_quantity,
        p1_0.package_quantity,
        p1_0.package_size,
        p1_0.photo,
        p1_0.price_including_tax,
        p1_0.family_code,
        p1_0.promo_sku_points,
        p1_0.reference,
        p1_0.requires_approval,
        p1_0.requires_cold_storage,
        p1_0.requires_contract,
        p1_0.sale_price,
        p1_0.sale_unit,
        p1_0.seasonality,
        p1_0.sku,
        p1_0.stock_tracking,
        p1_0.supplier_code,
        p1_0.supplier_name,
        p1_0.target_market,
        p1_0.tax_rate,
        p1_0.title,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.vendable,
        p1_0.visible,
        p1_0.weight,
        p1_0.weight_unit,
        p1_0.wholesale_discount_percentage,
        p1_0.wholesale_minimum_quantity,
        p1_0.wholesale_price,
        p1_0.wholesale_tier_1_price,
        p1_0.wholesale_tier_1_quantity,
        p1_0.wholesale_tier_2_price,
        p1_0.wholesale_tier_2_quantity,
        p1_0.wholesale_tier_3_price,
        p1_0.wholesale_tier_3_quantity 
    from
        products p1_0
2025-06-14 19:24:12 [main] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.code,
        pf1_0.created_at,
        pf1_0.description,
        pf1_0.is_active,
        pf1_0.name,
        pf1_0.updated_at 
    from
        product_families pf1_0 
    where
        pf1_0.code=?
2025-06-14 19:24:12 [main] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.code,
        pf1_0.created_at,
        pf1_0.description,
        pf1_0.is_active,
        pf1_0.name,
        pf1_0.updated_at 
    from
        product_families pf1_0 
    where
        pf1_0.code=?
2025-06-14 19:24:12 [main] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.code,
        pf1_0.created_at,
        pf1_0.description,
        pf1_0.is_active,
        pf1_0.name,
        pf1_0.updated_at 
    from
        product_families pf1_0 
    where
        pf1_0.code=?
2025-06-14 19:24:12 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.product_id,
        c1_1.id,
        c1_1.code,
        c1_1.created_at,
        c1_1.description,
        c1_1.is_active,
        c1_1.level,
        c1_1.name,
        c1_1.parent_id,
        c1_1.updated_at 
    from
        product_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.product_id=?
2025-06-14 19:24:12 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.product_id,
        c1_1.id,
        c1_1.code,
        c1_1.created_at,
        c1_1.description,
        c1_1.is_active,
        c1_1.level,
        c1_1.name,
        c1_1.parent_id,
        c1_1.updated_at 
    from
        product_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.product_id=?
2025-06-14 19:24:12 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.product_id,
        c1_1.id,
        c1_1.code,
        c1_1.created_at,
        c1_1.description,
        c1_1.is_active,
        c1_1.level,
        c1_1.name,
        c1_1.parent_id,
        c1_1.updated_at 
    from
        product_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.product_id=?
2025-06-14 19:24:12 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.product_id,
        c1_1.id,
        c1_1.code,
        c1_1.created_at,
        c1_1.description,
        c1_1.is_active,
        c1_1.level,
        c1_1.name,
        c1_1.parent_id,
        c1_1.updated_at 
    from
        product_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.product_id=?
2025-06-14 19:24:12 [main] INFO  m.f.o.s.p.s.CacheWarmingService - Warmed up all products cache
2025-06-14 19:24:12 [main] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.additional_photos,
        p1_0.availability_schedule,
        p1_0.b2b_contract_discount_percentage,
        p1_0.b2b_contract_required,
        p1_0.b2b_credit_terms,
        p1_0.b2b_custom_pricing_enabled,
        p1_0.b2b_delivery_lead_time,
        p1_0.b2b_minimum_order_value,
        p1_0.b2b_payment_methods,
        p1_0.b2b_volume_discount_enabled,
        p1_0.b2c_display_in_catalog,
        p1_0.b2c_featured,
        p1_0.b2c_loyalty_points_multiplier,
        p1_0.b2c_promo_end_date,
        p1_0.b2c_promo_price,
        p1_0.b2c_promo_start_date,
        p1_0.b2c_rating,
        p1_0.b2c_retail_price,
        p1_0.b2c_review_count,
        p1_0.barcode,
        p1_0.bulk_discount_percentage,
        p1_0.bulk_discount_threshold,
        p1_0.bulk_package_size,
        p1_0.bulk_package_unit,
        p1_0.certification,
        p1_0.country_of_origin,
        p1_0.created_at,
        p1_0.custom_attributes,
        p1_0.customer_segments,
        p1_0.deliverable,
        p1_0.description,
        p1_0.dimensions,
        p1_0.inactive,
        p1_0.is_bulk_item,
        p1_0.is_perishable,
        p1_0.is_wholesale_only,
        p1_0.maximum_order_quantity,
        p1_0.minimum_order_quantity,
        p1_0.package_quantity,
        p1_0.package_size,
        p1_0.photo,
        p1_0.price_including_tax,
        p1_0.family_code,
        p1_0.promo_sku_points,
        p1_0.reference,
        p1_0.requires_approval,
        p1_0.requires_cold_storage,
        p1_0.requires_contract,
        p1_0.sale_price,
        p1_0.sale_unit,
        p1_0.seasonality,
        p1_0.sku,
        p1_0.stock_tracking,
        p1_0.supplier_code,
        p1_0.supplier_name,
        p1_0.target_market,
        p1_0.tax_rate,
        p1_0.title,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.vendable,
        p1_0.visible,
        p1_0.weight,
        p1_0.weight_unit,
        p1_0.wholesale_discount_percentage,
        p1_0.wholesale_minimum_quantity,
        p1_0.wholesale_price,
        p1_0.wholesale_tier_1_price,
        p1_0.wholesale_tier_1_quantity,
        p1_0.wholesale_tier_2_price,
        p1_0.wholesale_tier_2_quantity,
        p1_0.wholesale_tier_3_price,
        p1_0.wholesale_tier_3_quantity 
    from
        products p1_0 
    where
        p1_0.deliverable
2025-06-14 19:24:12 [main] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.code,
        pf1_0.created_at,
        pf1_0.description,
        pf1_0.is_active,
        pf1_0.name,
        pf1_0.updated_at 
    from
        product_families pf1_0 
    where
        pf1_0.code=?
2025-06-14 19:24:12 [main] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.code,
        pf1_0.created_at,
        pf1_0.description,
        pf1_0.is_active,
        pf1_0.name,
        pf1_0.updated_at 
    from
        product_families pf1_0 
    where
        pf1_0.code=?
2025-06-14 19:24:12 [main] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.code,
        pf1_0.created_at,
        pf1_0.description,
        pf1_0.is_active,
        pf1_0.name,
        pf1_0.updated_at 
    from
        product_families pf1_0 
    where
        pf1_0.code=?
2025-06-14 19:24:12 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.product_id,
        c1_1.id,
        c1_1.code,
        c1_1.created_at,
        c1_1.description,
        c1_1.is_active,
        c1_1.level,
        c1_1.name,
        c1_1.parent_id,
        c1_1.updated_at 
    from
        product_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.product_id=?
2025-06-14 19:24:12 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.product_id,
        c1_1.id,
        c1_1.code,
        c1_1.created_at,
        c1_1.description,
        c1_1.is_active,
        c1_1.level,
        c1_1.name,
        c1_1.parent_id,
        c1_1.updated_at 
    from
        product_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.product_id=?
2025-06-14 19:24:12 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.product_id,
        c1_1.id,
        c1_1.code,
        c1_1.created_at,
        c1_1.description,
        c1_1.is_active,
        c1_1.level,
        c1_1.name,
        c1_1.parent_id,
        c1_1.updated_at 
    from
        product_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.product_id=?
2025-06-14 19:24:12 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.product_id,
        c1_1.id,
        c1_1.code,
        c1_1.created_at,
        c1_1.description,
        c1_1.is_active,
        c1_1.level,
        c1_1.name,
        c1_1.parent_id,
        c1_1.updated_at 
    from
        product_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.product_id=?
2025-06-14 19:24:13 [main] INFO  m.f.o.s.p.s.CacheWarmingService - Warmed up deliverable products cache
2025-06-14 19:24:13 [main] DEBUG org.hibernate.SQL - 
    select
        p1_0.id,
        p1_0.additional_photos,
        p1_0.availability_schedule,
        p1_0.b2b_contract_discount_percentage,
        p1_0.b2b_contract_required,
        p1_0.b2b_credit_terms,
        p1_0.b2b_custom_pricing_enabled,
        p1_0.b2b_delivery_lead_time,
        p1_0.b2b_minimum_order_value,
        p1_0.b2b_payment_methods,
        p1_0.b2b_volume_discount_enabled,
        p1_0.b2c_display_in_catalog,
        p1_0.b2c_featured,
        p1_0.b2c_loyalty_points_multiplier,
        p1_0.b2c_promo_end_date,
        p1_0.b2c_promo_price,
        p1_0.b2c_promo_start_date,
        p1_0.b2c_rating,
        p1_0.b2c_retail_price,
        p1_0.b2c_review_count,
        p1_0.barcode,
        p1_0.bulk_discount_percentage,
        p1_0.bulk_discount_threshold,
        p1_0.bulk_package_size,
        p1_0.bulk_package_unit,
        p1_0.certification,
        p1_0.country_of_origin,
        p1_0.created_at,
        p1_0.custom_attributes,
        p1_0.customer_segments,
        p1_0.deliverable,
        p1_0.description,
        p1_0.dimensions,
        p1_0.inactive,
        p1_0.is_bulk_item,
        p1_0.is_perishable,
        p1_0.is_wholesale_only,
        p1_0.maximum_order_quantity,
        p1_0.minimum_order_quantity,
        p1_0.package_quantity,
        p1_0.package_size,
        p1_0.photo,
        p1_0.price_including_tax,
        p1_0.family_code,
        p1_0.promo_sku_points,
        p1_0.reference,
        p1_0.requires_approval,
        p1_0.requires_cold_storage,
        p1_0.requires_contract,
        p1_0.sale_price,
        p1_0.sale_unit,
        p1_0.seasonality,
        p1_0.sku,
        p1_0.stock_tracking,
        p1_0.supplier_code,
        p1_0.supplier_name,
        p1_0.target_market,
        p1_0.tax_rate,
        p1_0.title,
        p1_0.unit_price,
        p1_0.updated_at,
        p1_0.vendable,
        p1_0.visible,
        p1_0.weight,
        p1_0.weight_unit,
        p1_0.wholesale_discount_percentage,
        p1_0.wholesale_minimum_quantity,
        p1_0.wholesale_price,
        p1_0.wholesale_tier_1_price,
        p1_0.wholesale_tier_1_quantity,
        p1_0.wholesale_tier_2_price,
        p1_0.wholesale_tier_2_quantity,
        p1_0.wholesale_tier_3_price,
        p1_0.wholesale_tier_3_quantity 
    from
        products p1_0 
    where
        not(p1_0.inactive)
2025-06-14 19:24:13 [main] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.code,
        pf1_0.created_at,
        pf1_0.description,
        pf1_0.is_active,
        pf1_0.name,
        pf1_0.updated_at 
    from
        product_families pf1_0 
    where
        pf1_0.code=?
2025-06-14 19:24:13 [main] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.code,
        pf1_0.created_at,
        pf1_0.description,
        pf1_0.is_active,
        pf1_0.name,
        pf1_0.updated_at 
    from
        product_families pf1_0 
    where
        pf1_0.code=?
2025-06-14 19:24:13 [main] DEBUG org.hibernate.SQL - 
    select
        pf1_0.id,
        pf1_0.code,
        pf1_0.created_at,
        pf1_0.description,
        pf1_0.is_active,
        pf1_0.name,
        pf1_0.updated_at 
    from
        product_families pf1_0 
    where
        pf1_0.code=?
2025-06-14 19:24:13 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.product_id,
        c1_1.id,
        c1_1.code,
        c1_1.created_at,
        c1_1.description,
        c1_1.is_active,
        c1_1.level,
        c1_1.name,
        c1_1.parent_id,
        c1_1.updated_at 
    from
        product_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.product_id=?
2025-06-14 19:24:13 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.product_id,
        c1_1.id,
        c1_1.code,
        c1_1.created_at,
        c1_1.description,
        c1_1.is_active,
        c1_1.level,
        c1_1.name,
        c1_1.parent_id,
        c1_1.updated_at 
    from
        product_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.product_id=?
2025-06-14 19:24:13 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.product_id,
        c1_1.id,
        c1_1.code,
        c1_1.created_at,
        c1_1.description,
        c1_1.is_active,
        c1_1.level,
        c1_1.name,
        c1_1.parent_id,
        c1_1.updated_at 
    from
        product_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.product_id=?
2025-06-14 19:24:13 [main] DEBUG org.hibernate.SQL - 
    select
        c1_0.product_id,
        c1_1.id,
        c1_1.code,
        c1_1.created_at,
        c1_1.description,
        c1_1.is_active,
        c1_1.level,
        c1_1.name,
        c1_1.parent_id,
        c1_1.updated_at 
    from
        product_categories c1_0 
    join
        categories c1_1 
            on c1_1.id=c1_0.category_id 
    where
        c1_0.product_id=?
2025-06-14 19:24:13 [main] INFO  m.f.o.s.p.s.CacheWarmingService - Warmed up active products cache
2025-06-14 19:24:13 [main] INFO  m.f.o.s.p.s.CacheWarmingService - Cache warm-up completed
2025-06-14 19:25:06 [http-nio-8087-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-06-14 19:25:06 [http-nio-8087-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-06-14 19:25:06 [http-nio-8087-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-06-14 19:25:06 [http-nio-8087-exec-2] INFO  m.f.o.s.p.c.CategoryController - Creating new category: CreateCategoryCommand[code=SCAT003, name=Sousse tomat, description=Souses tomat, parentId=1]
2025-06-14 19:25:06 [http-nio-8087-exec-2] INFO  m.f.o.s.p.s.impl.CategoryServiceImpl - Creating new category with command: CreateCategoryCommand[code=SCAT003, name=Sousse tomat, description=Souses tomat, parentId=1]
2025-06-14 19:25:06 [http-nio-8087-exec-2] DEBUG org.hibernate.SQL - 
    select
        c1_0.id 
    from
        categories c1_0 
    where
        c1_0.code=? 
    fetch
        first ? rows only
2025-06-14 19:25:06 [http-nio-8087-exec-2] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.code,
        c1_0.created_at,
        c1_0.description,
        c1_0.is_active,
        c1_0.level,
        c1_0.name,
        c1_0.parent_id,
        c1_0.updated_at 
    from
        categories c1_0 
    where
        c1_0.id=?
2025-06-14 19:25:06 [http-nio-8087-exec-2] DEBUG org.hibernate.SQL - 
    insert 
    into
        categories
        (code, created_at, description, is_active, level, name, parent_id, updated_at) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)
2025-06-14 19:25:25 [http-nio-8087-exec-3] INFO  m.f.o.s.p.c.CategoryController - Creating new category: CreateCategoryCommand[code=SCAT004, name=Sousse tomat aicha, description=Souses tomat aicha, parentId=8]
2025-06-14 19:25:25 [http-nio-8087-exec-3] INFO  m.f.o.s.p.s.impl.CategoryServiceImpl - Creating new category with command: CreateCategoryCommand[code=SCAT004, name=Sousse tomat aicha, description=Souses tomat aicha, parentId=8]
2025-06-14 19:25:25 [http-nio-8087-exec-3] DEBUG org.hibernate.SQL - 
    select
        c1_0.id 
    from
        categories c1_0 
    where
        c1_0.code=? 
    fetch
        first ? rows only
2025-06-14 19:25:25 [http-nio-8087-exec-3] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.code,
        c1_0.created_at,
        c1_0.description,
        c1_0.is_active,
        c1_0.level,
        c1_0.name,
        c1_0.parent_id,
        c1_0.updated_at 
    from
        categories c1_0 
    where
        c1_0.id=?
2025-06-14 19:25:25 [http-nio-8087-exec-3] DEBUG org.hibernate.SQL - 
    insert 
    into
        categories
        (code, created_at, description, is_active, level, name, parent_id, updated_at) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)
2025-06-14 19:25:47 [http-nio-8087-exec-4] INFO  m.f.o.s.p.c.CategoryController - Creating new category: CreateCategoryCommand[code=SCAT004, name=Sousse tomat idial, description=Souses tomat idial, parentId=8]
2025-06-14 19:25:47 [http-nio-8087-exec-4] INFO  m.f.o.s.p.s.impl.CategoryServiceImpl - Creating new category with command: CreateCategoryCommand[code=SCAT004, name=Sousse tomat idial, description=Souses tomat idial, parentId=8]
2025-06-14 19:25:47 [http-nio-8087-exec-4] DEBUG org.hibernate.SQL - 
    select
        c1_0.id 
    from
        categories c1_0 
    where
        c1_0.code=? 
    fetch
        first ? rows only
2025-06-14 19:25:47 [http-nio-8087-exec-4] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.RuntimeException: Category code already exists] with root cause
java.lang.RuntimeException: Category code already exists
	at ma.foodplus.ordering.system.product.service.impl.CategoryServiceImpl.validateCategoryCode(CategoryServiceImpl.java:243)
	at ma.foodplus.ordering.system.product.service.impl.CategoryServiceImpl.createCategory(CategoryServiceImpl.java:33)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at ma.foodplus.ordering.system.product.service.impl.CategoryServiceImpl$$SpringCGLIB$$0.createCategory(<generated>)
	at ma.foodplus.ordering.system.product.controller.CategoryController.createCategory(CategoryController.java:41)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:114)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-06-14 19:25:50 [http-nio-8087-exec-6] INFO  m.f.o.s.p.c.CategoryController - Creating new category: CreateCategoryCommand[code=SCAT005, name=Sousse tomat idial, description=Souses tomat idial, parentId=8]
2025-06-14 19:25:50 [http-nio-8087-exec-6] INFO  m.f.o.s.p.s.impl.CategoryServiceImpl - Creating new category with command: CreateCategoryCommand[code=SCAT005, name=Sousse tomat idial, description=Souses tomat idial, parentId=8]
2025-06-14 19:25:50 [http-nio-8087-exec-6] DEBUG org.hibernate.SQL - 
    select
        c1_0.id 
    from
        categories c1_0 
    where
        c1_0.code=? 
    fetch
        first ? rows only
2025-06-14 19:25:50 [http-nio-8087-exec-6] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.code,
        c1_0.created_at,
        c1_0.description,
        c1_0.is_active,
        c1_0.level,
        c1_0.name,
        c1_0.parent_id,
        c1_0.updated_at 
    from
        categories c1_0 
    where
        c1_0.id=?
2025-06-14 19:25:50 [http-nio-8087-exec-6] DEBUG org.hibernate.SQL - 
    insert 
    into
        categories
        (code, created_at, description, is_active, level, name, parent_id, updated_at) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?)
2025-06-14 19:25:57 [http-nio-8087-exec-7] INFO  m.f.o.s.p.c.CategoryController - Getting categories at level: 2
2025-06-14 19:25:57 [http-nio-8087-exec-7] INFO  m.f.o.s.p.s.impl.CategoryServiceImpl - Getting categories by level: 2
2025-06-14 19:25:57 [http-nio-8087-exec-7] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.code,
        c1_0.created_at,
        c1_0.description,
        c1_0.is_active,
        c1_0.level,
        c1_0.name,
        c1_0.parent_id,
        c1_0.updated_at 
    from
        categories c1_0 
    where
        c1_0.level=?
2025-06-14 19:26:03 [http-nio-8087-exec-8] INFO  m.f.o.s.p.c.CategoryController - Getting categories at level: 3
2025-06-14 19:26:03 [http-nio-8087-exec-8] INFO  m.f.o.s.p.s.impl.CategoryServiceImpl - Getting categories by level: 3
2025-06-14 19:26:03 [http-nio-8087-exec-8] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.code,
        c1_0.created_at,
        c1_0.description,
        c1_0.is_active,
        c1_0.level,
        c1_0.name,
        c1_0.parent_id,
        c1_0.updated_at 
    from
        categories c1_0 
    where
        c1_0.level=?
2025-06-14 19:27:39 [http-nio-8087-exec-1] INFO  m.f.o.s.p.c.CategoryController - Getting active categories
2025-06-14 19:27:39 [http-nio-8087-exec-1] INFO  m.f.o.s.p.s.impl.CategoryServiceImpl - Getting active categories
2025-06-14 19:27:39 [http-nio-8087-exec-1] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.code,
        c1_0.created_at,
        c1_0.description,
        c1_0.is_active,
        c1_0.level,
        c1_0.name,
        c1_0.parent_id,
        c1_0.updated_at 
    from
        categories c1_0 
    where
        c1_0.is_active
2025-06-14 19:28:29 [http-nio-8087-exec-2] INFO  m.f.o.s.p.c.CategoryController - Activating category with id: 1
2025-06-14 19:28:29 [http-nio-8087-exec-2] INFO  m.f.o.s.p.s.impl.CategoryServiceImpl - Activating category: 1
2025-06-14 19:28:29 [http-nio-8087-exec-2] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.code,
        c1_0.created_at,
        c1_0.description,
        c1_0.is_active,
        c1_0.level,
        c1_0.name,
        c1_0.parent_id,
        c1_0.updated_at 
    from
        categories c1_0 
    where
        c1_0.id=?
2025-06-14 19:28:42 [http-nio-8087-exec-3] INFO  m.f.o.s.p.c.CategoryController - Getting categories at level: 3
2025-06-14 19:28:42 [http-nio-8087-exec-3] INFO  m.f.o.s.p.s.impl.CategoryServiceImpl - Getting categories by level: 3
2025-06-14 19:28:42 [http-nio-8087-exec-3] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.code,
        c1_0.created_at,
        c1_0.description,
        c1_0.is_active,
        c1_0.level,
        c1_0.name,
        c1_0.parent_id,
        c1_0.updated_at 
    from
        categories c1_0 
    where
        c1_0.level=?
2025-06-14 19:28:49 [http-nio-8087-exec-4] INFO  m.f.o.s.p.c.CategoryController - Getting active categories
2025-06-14 19:28:49 [http-nio-8087-exec-4] INFO  m.f.o.s.p.s.impl.CategoryServiceImpl - Getting active categories
2025-06-14 19:28:49 [http-nio-8087-exec-4] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.code,
        c1_0.created_at,
        c1_0.description,
        c1_0.is_active,
        c1_0.level,
        c1_0.name,
        c1_0.parent_id,
        c1_0.updated_at 
    from
        categories c1_0 
    where
        c1_0.is_active
2025-06-14 19:29:15 [http-nio-8087-exec-5] INFO  m.f.o.s.p.c.CategoryController - Getting active categories
2025-06-14 19:29:15 [http-nio-8087-exec-5] INFO  m.f.o.s.p.s.impl.CategoryServiceImpl - Getting active categories
2025-06-14 19:29:15 [http-nio-8087-exec-5] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.code,
        c1_0.created_at,
        c1_0.description,
        c1_0.is_active,
        c1_0.level,
        c1_0.name,
        c1_0.parent_id,
        c1_0.updated_at 
    from
        categories c1_0 
    where
        c1_0.is_active
2025-06-14 19:29:50 [http-nio-8087-exec-6] INFO  m.f.o.s.p.c.CategoryController - Getting all categories with pagination
2025-06-14 19:29:50 [http-nio-8087-exec-6] INFO  m.f.o.s.p.s.impl.CategoryServiceImpl - Getting all categories with pagination
2025-06-14 19:29:50 [http-nio-8087-exec-6] DEBUG org.hibernate.SQL - 
    select
        c1_0.id,
        c1_0.code,
        c1_0.created_at,
        c1_0.description,
        c1_0.is_active,
        c1_0.level,
        c1_0.name,
        c1_0.parent_id,
        c1_0.updated_at 
    from
        categories c1_0 
    offset
        ? rows 
    fetch
        first ? rows only
2025-06-14 19:31:04 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-06-14 19:31:04 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-06-14 19:31:04 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-06-14 19:31:04 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-06-14 19:31:04 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-06-14 19:31:07 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - Starting FoodPlusOrderingApplication using Java 21.0.7 with PID 468772 (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes started by louki in /home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system)
2025-06-14 19:31:07 [main] DEBUG m.f.o.s.FoodPlusOrderingApplication - Running with Spring Boot v3.5.0, Spring v6.2.7
2025-06-14 19:31:07 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - The following 1 profile is active: "dev"
2025-06-14 19:31:08 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-14 19:31:08 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-14 19:31:08 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 175 ms. Found 12 JPA repository interfaces.
2025-06-14 19:31:09 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-14 19:31:09 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-06-14 19:31:09 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.common.repository.CategoryTarifRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 19:31:09 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.CustomerGroupRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 19:31:09 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.CustomerRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 19:31:09 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.ProductCustomerRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 19:31:09 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.DepotRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 19:31:09 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.ProductStockRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 19:31:09 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.SiteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 19:31:09 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.order.repository.OrderRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 19:31:09 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.product.repository.CategoryRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 19:31:09 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.product.repository.ProductAuditRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 19:31:09 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.product.repository.ProductRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 19:31:09 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.promos.repository.PromotionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 19:31:09 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 19 ms. Found 0 Redis repository interfaces.
2025-06-14 19:31:09 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8087 (http)
2025-06-14 19:31:09 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-14 19:31:09 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.41]
2025-06-14 19:31:09 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-14 19:31:09 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2228 ms
2025-06-14 19:31:10 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-06-14 19:31:10 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@523ade68
2025-06-14 19:31:10 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-06-14 19:31:10 [main] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://10.113.181.84:5432/foodplus_ordering (PostgreSQL 17.5)
2025-06-14 19:31:11 [main] INFO  o.f.core.internal.command.DbValidate - Successfully validated 5 migrations (execution time 00:00.037s)
2025-06-14 19:31:11 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "public": 1.7.2
2025-06-14 19:31:11 [main] WARN  o.f.core.internal.command.DbMigrate - outOfOrder mode is active. Migration of schema "public" may not be reproducible.
2025-06-14 19:31:11 [main] INFO  o.f.core.internal.command.DbMigrate - Schema "public" is up to date. No migration necessary.
2025-06-14 19:31:11 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-06-14 19:31:11 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.15.Final
2025-06-14 19:31:11 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-06-14 19:31:11 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-06-14 19:31:11 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 17.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-06-14 19:31:11 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-06-14 19:31:12 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-06-14 19:31:12 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-06-14 19:31:13 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-06-14 19:31:16 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-06-14 19:31:16 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 4 endpoints beneath base path '/actuator'
2025-06-14 19:31:16 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8087 (http) with context path '/'
2025-06-14 19:31:16 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - Started FoodPlusOrderingApplication in 9.603 seconds (process running for 9.91)
2025-06-14 19:31:16 [main] INFO  m.f.o.s.p.s.CacheWarmingService - Starting cache warm-up...
2025-06-14 19:31:16 [main] INFO  m.f.o.s.p.service.ProductService - Getting all products
2025-06-14 19:31:16 [main] INFO  m.f.o.s.p.s.CacheWarmingService - Warmed up all products cache
2025-06-14 19:31:16 [main] INFO  m.f.o.s.p.s.CacheWarmingService - Warmed up deliverable products cache
2025-06-14 19:31:16 [main] INFO  m.f.o.s.p.s.CacheWarmingService - Warmed up active products cache
2025-06-14 19:31:16 [main] INFO  m.f.o.s.p.s.CacheWarmingService - Cache warm-up completed
2025-06-14 19:31:20 [http-nio-8087-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-06-14 19:31:20 [http-nio-8087-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-06-14 19:31:20 [http-nio-8087-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-06-14 19:31:20 [http-nio-8087-exec-2] INFO  m.f.o.s.p.c.CategoryController - Getting all categories with pagination
2025-06-14 19:31:20 [http-nio-8087-exec-2] INFO  m.f.o.s.p.s.impl.CategoryServiceImpl - Getting all categories with pagination
2025-06-14 19:31:23 [http-nio-8087-exec-3] INFO  m.f.o.s.p.c.CategoryController - Getting active categories
2025-06-14 19:31:23 [http-nio-8087-exec-3] INFO  m.f.o.s.p.s.impl.CategoryServiceImpl - Getting active categories
2025-06-14 19:32:07 [http-nio-8087-exec-4] INFO  m.f.o.s.p.c.CategoryController - Deactivating category with id: 8
2025-06-14 19:32:07 [http-nio-8087-exec-4] INFO  m.f.o.s.p.s.impl.CategoryServiceImpl - Deactivating category: 8
2025-06-14 19:32:10 [http-nio-8087-exec-5] INFO  m.f.o.s.p.c.CategoryController - Getting all categories with pagination
2025-06-14 19:32:10 [http-nio-8087-exec-5] INFO  m.f.o.s.p.s.impl.CategoryServiceImpl - Getting all categories with pagination
2025-06-14 19:32:23 [http-nio-8087-exec-6] INFO  m.f.o.s.p.c.CategoryController - Getting active categories
2025-06-14 19:32:23 [http-nio-8087-exec-6] INFO  m.f.o.s.p.s.impl.CategoryServiceImpl - Getting active categories
2025-06-14 19:32:45 [http-nio-8087-exec-7] INFO  m.f.o.s.p.c.CategoryController - Getting category with id: 8
2025-06-14 19:32:45 [http-nio-8087-exec-7] INFO  m.f.o.s.p.s.impl.CategoryServiceImpl - Getting category by id: 8
2025-06-14 19:33:43 [http-nio-8087-exec-8] INFO  m.f.o.s.p.c.CategoryController - Searching categories with term: Sous
2025-06-14 19:33:43 [http-nio-8087-exec-8] INFO  m.f.o.s.p.s.impl.CategoryServiceImpl - Searching categories with term: Sous
2025-06-14 19:33:56 [http-nio-8087-exec-9] INFO  m.f.o.s.p.c.CategoryController - Searching categories with term: Sousse tomat aicha
2025-06-14 19:33:56 [http-nio-8087-exec-9] INFO  m.f.o.s.p.s.impl.CategoryServiceImpl - Searching categories with term: Sousse tomat aicha
2025-06-14 19:40:58 [http-nio-8087-exec-2] INFO  m.f.o.s.p.c.CategoryController - Getting products for category id: 1
2025-06-14 19:40:58 [http-nio-8087-exec-2] INFO  m.f.o.s.p.s.impl.CategoryServiceImpl - Getting products for category: 1
2025-06-14 19:41:10 [http-nio-8087-exec-3] INFO  m.f.o.s.p.c.CategoryController - Getting products for category id: 2
2025-06-14 19:41:10 [http-nio-8087-exec-3] INFO  m.f.o.s.p.s.impl.CategoryServiceImpl - Getting products for category: 2
2025-06-14 19:42:21 [http-nio-8087-exec-6] INFO  m.f.o.s.p.c.CategoryController - Getting products for category id: 3
2025-06-14 19:42:21 [http-nio-8087-exec-6] INFO  m.f.o.s.p.s.impl.CategoryServiceImpl - Getting products for category: 3
2025-06-14 19:42:32 [http-nio-8087-exec-7] INFO  m.f.o.s.p.c.CategoryController - Getting products for category id: 1
2025-06-14 19:42:32 [http-nio-8087-exec-7] INFO  m.f.o.s.p.s.impl.CategoryServiceImpl - Getting products for category: 1
2025-06-14 19:43:14 [http-nio-8087-exec-8] INFO  m.f.o.s.p.c.CategoryController - Getting products for category id: 8
2025-06-14 19:43:14 [http-nio-8087-exec-8] INFO  m.f.o.s.p.s.impl.CategoryServiceImpl - Getting products for category: 8
2025-06-14 19:43:36 [http-nio-8087-exec-9] INFO  m.f.o.s.p.c.CategoryController - Getting products for category id: 1
2025-06-14 19:43:36 [http-nio-8087-exec-9] INFO  m.f.o.s.p.s.impl.CategoryServiceImpl - Getting products for category: 1
2025-06-14 19:45:17 [http-nio-8087-exec-2] INFO  m.f.o.s.p.c.CategoryController - Getting category statistics
2025-06-14 19:45:17 [http-nio-8087-exec-2] INFO  m.f.o.s.p.s.impl.CategoryServiceImpl - Getting category statistics
2025-06-14 20:00:32 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-06-14 20:00:32 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-06-14 20:00:32 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-06-14 20:00:32 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-06-14 20:00:32 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-06-14 20:07:33 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - Starting FoodPlusOrderingApplication using Java 21.0.7 with PID 479659 (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes started by louki in /home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system)
2025-06-14 20:07:33 [main] DEBUG m.f.o.s.FoodPlusOrderingApplication - Running with Spring Boot v3.5.0, Spring v6.2.7
2025-06-14 20:07:33 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - The following 1 profile is active: "dev"
2025-06-14 20:07:34 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-14 20:07:34 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-14 20:07:34 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 170 ms. Found 12 JPA repository interfaces.
2025-06-14 20:07:35 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-14 20:07:35 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-06-14 20:07:35 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.common.repository.CategoryTarifRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 20:07:35 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.CustomerGroupRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 20:07:35 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.CustomerRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 20:07:35 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.ProductCustomerRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 20:07:35 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.DepotRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 20:07:35 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.ProductStockRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 20:07:35 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.SiteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 20:07:35 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.order.repository.OrderRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 20:07:35 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.product.repository.CategoryRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 20:07:35 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.product.repository.ProductAuditRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 20:07:35 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.product.repository.ProductRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 20:07:35 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.promos.repository.PromotionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 20:07:35 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 22 ms. Found 0 Redis repository interfaces.
2025-06-14 20:07:36 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8087 (http)
2025-06-14 20:07:36 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-14 20:07:36 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.41]
2025-06-14 20:07:36 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-14 20:07:36 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2674 ms
2025-06-14 20:07:36 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-06-14 20:07:37 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@29dfc68f
2025-06-14 20:07:37 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-06-14 20:07:37 [main] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://10.113.181.84:5432/foodplus_ordering (PostgreSQL 17.5)
2025-06-14 20:07:37 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Validate failed: Migrations have failed validation
Detected applied migration not resolved locally: 1.3.4.
If you removed this migration intentionally, run repair to mark the migration as deleted.
Need more flexibility with validation rules? Learn more: https://rd.gt/3AbJUZE
2025-06-14 20:07:37 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-06-14 20:07:37 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-06-14 20:07:37 [main] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-06-14 20:07:37 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-06-14 20:07:37 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Failed to initialize dependency 'flywayInitializer' of LoadTimeWeaverAware bean 'entityManagerFactory': Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Validate failed: Migrations have failed validation
Detected applied migration not resolved locally: 1.3.4.
If you removed this migration intentionally, run repair to mark the migration as deleted.
Need more flexibility with validation rules? Learn more: https://rd.gt/3AbJUZE
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:328)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:753)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1362)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1351)
	at ma.foodplus.ordering.system.FoodPlusOrderingApplication.main(FoodPlusOrderingApplication.java:22)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'flywayInitializer' defined in class path resource [org/springframework/boot/autoconfigure/flyway/FlywayAutoConfiguration$FlywayConfiguration.class]: Validate failed: Migrations have failed validation
Detected applied migration not resolved locally: 1.3.4.
If you removed this migration intentionally, run repair to mark the migration as deleted.
Need more flexibility with validation rules? Learn more: https://rd.gt/3AbJUZE
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1826)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:607)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315)
	... 10 common frames omitted
Caused by: org.flywaydb.core.api.exception.FlywayValidateException: Validate failed: Migrations have failed validation
Detected applied migration not resolved locally: 1.3.4.
If you removed this migration intentionally, run repair to mark the migration as deleted.
Need more flexibility with validation rules? Learn more: https://rd.gt/3AbJUZE
	at org.flywaydb.core.Flyway.lambda$migrate$1(Flyway.java:201)
	at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:210)
	at org.flywaydb.core.Flyway.migrate(Flyway.java:188)
	at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1873)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1822)
	... 17 common frames omitted
2025-06-14 20:08:30 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - Starting FoodPlusOrderingApplication using Java 21.0.7 with PID 480400 (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes started by louki in /home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system)
2025-06-14 20:08:30 [main] DEBUG m.f.o.s.FoodPlusOrderingApplication - Running with Spring Boot v3.5.0, Spring v6.2.7
2025-06-14 20:08:30 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - The following 1 profile is active: "dev"
2025-06-14 20:08:31 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-14 20:08:31 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-14 20:08:31 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 149 ms. Found 12 JPA repository interfaces.
2025-06-14 20:08:31 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-14 20:08:31 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-06-14 20:08:31 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.common.repository.CategoryTarifRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 20:08:31 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.CustomerGroupRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 20:08:31 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.CustomerRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 20:08:31 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.ProductCustomerRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 20:08:31 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.DepotRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 20:08:31 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.ProductStockRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 20:08:31 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.SiteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 20:08:31 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.order.repository.OrderRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 20:08:31 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.product.repository.CategoryRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 20:08:31 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.product.repository.ProductAuditRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 20:08:31 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.product.repository.ProductRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 20:08:31 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.promos.repository.PromotionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 20:08:31 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 26 ms. Found 0 Redis repository interfaces.
2025-06-14 20:08:32 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8087 (http)
2025-06-14 20:08:32 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-14 20:08:32 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.41]
2025-06-14 20:08:32 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-14 20:08:32 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2072 ms
2025-06-14 20:08:32 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-06-14 20:08:33 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@22172b00
2025-06-14 20:08:33 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-06-14 20:08:33 [main] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://10.113.181.84:5432/foodplus_ordering (PostgreSQL 17.5)
2025-06-14 20:08:33 [main] INFO  o.f.core.internal.command.DbValidate - Successfully validated 5 migrations (execution time 00:00.023s)
2025-06-14 20:08:33 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "public": 1.7.2
2025-06-14 20:08:33 [main] WARN  o.f.core.internal.command.DbMigrate - outOfOrder mode is active. Migration of schema "public" may not be reproducible.
2025-06-14 20:08:33 [main] INFO  o.f.core.internal.command.DbMigrate - Schema "public" is up to date. No migration necessary.
2025-06-14 20:08:33 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-06-14 20:08:33 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.15.Final
2025-06-14 20:08:33 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-06-14 20:08:33 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-06-14 20:08:33 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 17.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-06-14 20:08:33 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-06-14 20:08:35 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-06-14 20:08:35 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-06-14 20:08:35 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-06-14 20:08:38 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-06-14 20:08:39 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 4 endpoints beneath base path '/actuator'
2025-06-14 20:08:39 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8087 (http) with context path '/'
2025-06-14 20:08:39 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - Started FoodPlusOrderingApplication in 9.711 seconds (process running for 10.201)
2025-06-14 20:08:39 [main] INFO  m.f.o.s.p.s.CacheWarmingService - Starting cache warm-up...
2025-06-14 20:08:39 [main] INFO  m.f.o.s.p.service.ProductService - Getting all products
2025-06-14 20:08:39 [main] INFO  m.f.o.s.p.s.CacheWarmingService - Warmed up all products cache
2025-06-14 20:08:39 [main] INFO  m.f.o.s.p.s.CacheWarmingService - Warmed up deliverable products cache
2025-06-14 20:08:39 [main] INFO  m.f.o.s.p.s.CacheWarmingService - Warmed up active products cache
2025-06-14 20:08:39 [main] INFO  m.f.o.s.p.s.CacheWarmingService - Cache warm-up completed
2025-06-14 20:09:45 [http-nio-8087-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-06-14 20:09:45 [http-nio-8087-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-06-14 20:09:45 [http-nio-8087-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-06-14 20:09:45 [http-nio-8087-exec-2] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Cannot deserialize value of type `ma.foodplus.ordering.system.product.enums.SuiviStock` from String "ENABLED": not one of the values accepted for Enum class: [PAR_LOT, SERIALIZED, CMUP, LIFO, Aucun, FIFO]]
2025-06-14 20:10:25 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-06-14 20:10:25 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-06-14 20:10:25 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-06-14 20:10:25 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-06-14 20:10:25 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-06-14 20:10:56 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - Starting FoodPlusOrderingApplication using Java 21.0.7 with PID 482649 (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes started by louki in /home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system)
2025-06-14 20:10:56 [main] DEBUG m.f.o.s.FoodPlusOrderingApplication - Running with Spring Boot v3.5.0, Spring v6.2.7
2025-06-14 20:10:56 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - The following 1 profile is active: "dev"
2025-06-14 20:10:57 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-14 20:10:57 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-14 20:10:57 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 105 ms. Found 12 JPA repository interfaces.
2025-06-14 20:10:57 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-14 20:10:57 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-06-14 20:10:57 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.common.repository.CategoryTarifRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 20:10:57 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.CustomerGroupRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 20:10:57 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.CustomerRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 20:10:57 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.ProductCustomerRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 20:10:57 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.DepotRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 20:10:57 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.ProductStockRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 20:10:57 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.SiteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 20:10:57 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.order.repository.OrderRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 20:10:57 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.product.repository.CategoryRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 20:10:57 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.product.repository.ProductAuditRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 20:10:57 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.product.repository.ProductRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 20:10:57 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.promos.repository.PromotionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 20:10:57 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 22 ms. Found 0 Redis repository interfaces.
2025-06-14 20:10:58 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8087 (http)
2025-06-14 20:10:58 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-14 20:10:58 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.41]
2025-06-14 20:10:58 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-14 20:10:58 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1863 ms
2025-06-14 20:10:58 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-06-14 20:10:59 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@70700b8a
2025-06-14 20:10:59 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-06-14 20:10:59 [main] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://10.113.181.84:5432/foodplus_ordering (PostgreSQL 17.5)
2025-06-14 20:10:59 [main] INFO  o.f.core.internal.command.DbValidate - Successfully validated 5 migrations (execution time 00:00.020s)
2025-06-14 20:10:59 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "public": 1.7.2
2025-06-14 20:10:59 [main] WARN  o.f.core.internal.command.DbMigrate - outOfOrder mode is active. Migration of schema "public" may not be reproducible.
2025-06-14 20:10:59 [main] INFO  o.f.core.internal.command.DbMigrate - Schema "public" is up to date. No migration necessary.
2025-06-14 20:10:59 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-06-14 20:10:59 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.15.Final
2025-06-14 20:10:59 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-06-14 20:10:59 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-06-14 20:10:59 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 17.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-06-14 20:10:59 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-06-14 20:11:00 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-06-14 20:11:00 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-06-14 20:11:01 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-06-14 20:11:03 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-06-14 20:11:04 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 4 endpoints beneath base path '/actuator'
2025-06-14 20:11:04 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8087 (http) with context path '/'
2025-06-14 20:11:04 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - Started FoodPlusOrderingApplication in 8.354 seconds (process running for 8.678)
2025-06-14 20:11:04 [main] INFO  m.f.o.s.p.s.CacheWarmingService - Starting cache warm-up...
2025-06-14 20:11:04 [main] INFO  m.f.o.s.p.service.ProductService - Getting all products
2025-06-14 20:11:04 [main] INFO  m.f.o.s.p.s.CacheWarmingService - Warmed up all products cache
2025-06-14 20:11:04 [main] INFO  m.f.o.s.p.s.CacheWarmingService - Warmed up deliverable products cache
2025-06-14 20:11:04 [main] INFO  m.f.o.s.p.s.CacheWarmingService - Warmed up active products cache
2025-06-14 20:11:04 [main] INFO  m.f.o.s.p.s.CacheWarmingService - Cache warm-up completed
2025-06-14 20:11:11 [http-nio-8087-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-06-14 20:11:11 [http-nio-8087-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-06-14 20:11:11 [http-nio-8087-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-06-14 20:11:11 [http-nio-8087-exec-2] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 42804
2025-06-14 20:11:11 [http-nio-8087-exec-2] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: column "availability_schedule" is of type jsonb but expression is of type character varying
  Hint: You will need to rewrite or cast the expression.
  Position: 1283
2025-06-14 20:11:11 [http-nio-8087-exec-2] ERROR m.f.o.s.p.service.ProductService - Error creating product: could not execute statement [ERROR: column "availability_schedule" is of type jsonb but expression is of type character varying
  Hint: You will need to rewrite or cast the expression.
  Position: 1283] [insert into products (additional_photos,availability_schedule,b2b_contract_discount_percentage,b2b_contract_required,b2b_credit_terms,b2b_custom_pricing_enabled,b2b_delivery_lead_time,b2b_minimum_order_value,b2b_payment_methods,b2b_volume_discount_enabled,b2c_display_in_catalog,b2c_featured,b2c_loyalty_points_multiplier,b2c_promo_end_date,b2c_promo_price,b2c_promo_start_date,b2c_rating,b2c_retail_price,b2c_review_count,barcode,bulk_discount_percentage,bulk_discount_threshold,bulk_package_size,bulk_package_unit,certification,country_of_origin,created_at,custom_attributes,customer_segments,deliverable,description,dimensions,inactive,is_bulk_item,is_perishable,is_wholesale_only,maximum_order_quantity,minimum_order_quantity,package_quantity,package_size,photo,price_including_tax,family_code,promo_sku_points,reference,requires_approval,requires_cold_storage,requires_contract,sale_price,sale_unit,seasonality,sku,stock_tracking,supplier_code,supplier_name,target_market,tax_rate,title,unit_price,updated_at,vendable,visible,weight,weight_unit,wholesale_discount_percentage,wholesale_minimum_quantity,wholesale_price,wholesale_tier_1_price,wholesale_tier_1_quantity,wholesale_tier_2_price,wholesale_tier_2_quantity,wholesale_tier_3_price,wholesale_tier_3_quantity) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)]; SQL [insert into products (additional_photos,availability_schedule,b2b_contract_discount_percentage,b2b_contract_required,b2b_credit_terms,b2b_custom_pricing_enabled,b2b_delivery_lead_time,b2b_minimum_order_value,b2b_payment_methods,b2b_volume_discount_enabled,b2c_display_in_catalog,b2c_featured,b2c_loyalty_points_multiplier,b2c_promo_end_date,b2c_promo_price,b2c_promo_start_date,b2c_rating,b2c_retail_price,b2c_review_count,barcode,bulk_discount_percentage,bulk_discount_threshold,bulk_package_size,bulk_package_unit,certification,country_of_origin,created_at,custom_attributes,customer_segments,deliverable,description,dimensions,inactive,is_bulk_item,is_perishable,is_wholesale_only,maximum_order_quantity,minimum_order_quantity,package_quantity,package_size,photo,price_including_tax,family_code,promo_sku_points,reference,requires_approval,requires_cold_storage,requires_contract,sale_price,sale_unit,seasonality,sku,stock_tracking,supplier_code,supplier_name,target_market,tax_rate,title,unit_price,updated_at,vendable,visible,weight,weight_unit,wholesale_discount_percentage,wholesale_minimum_quantity,wholesale_price,wholesale_tier_1_price,wholesale_tier_1_quantity,wholesale_tier_2_price,wholesale_tier_2_quantity,wholesale_tier_3_price,wholesale_tier_3_quantity) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)]
org.springframework.dao.InvalidDataAccessResourceUsageException: could not execute statement [ERROR: column "availability_schedule" is of type jsonb but expression is of type character varying
  Hint: You will need to rewrite or cast the expression.
  Position: 1283] [insert into products (additional_photos,availability_schedule,b2b_contract_discount_percentage,b2b_contract_required,b2b_credit_terms,b2b_custom_pricing_enabled,b2b_delivery_lead_time,b2b_minimum_order_value,b2b_payment_methods,b2b_volume_discount_enabled,b2c_display_in_catalog,b2c_featured,b2c_loyalty_points_multiplier,b2c_promo_end_date,b2c_promo_price,b2c_promo_start_date,b2c_rating,b2c_retail_price,b2c_review_count,barcode,bulk_discount_percentage,bulk_discount_threshold,bulk_package_size,bulk_package_unit,certification,country_of_origin,created_at,custom_attributes,customer_segments,deliverable,description,dimensions,inactive,is_bulk_item,is_perishable,is_wholesale_only,maximum_order_quantity,minimum_order_quantity,package_quantity,package_size,photo,price_including_tax,family_code,promo_sku_points,reference,requires_approval,requires_cold_storage,requires_contract,sale_price,sale_unit,seasonality,sku,stock_tracking,supplier_code,supplier_name,target_market,tax_rate,title,unit_price,updated_at,vendable,visible,weight,weight_unit,wholesale_discount_percentage,wholesale_minimum_quantity,wholesale_price,wholesale_tier_1_price,wholesale_tier_1_quantity,wholesale_tier_2_price,wholesale_tier_2_quantity,wholesale_tier_3_price,wholesale_tier_3_quantity) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)]; SQL [insert into products (additional_photos,availability_schedule,b2b_contract_discount_percentage,b2b_contract_required,b2b_credit_terms,b2b_custom_pricing_enabled,b2b_delivery_lead_time,b2b_minimum_order_value,b2b_payment_methods,b2b_volume_discount_enabled,b2c_display_in_catalog,b2c_featured,b2c_loyalty_points_multiplier,b2c_promo_end_date,b2c_promo_price,b2c_promo_start_date,b2c_rating,b2c_retail_price,b2c_review_count,barcode,bulk_discount_percentage,bulk_discount_threshold,bulk_package_size,bulk_package_unit,certification,country_of_origin,created_at,custom_attributes,customer_segments,deliverable,description,dimensions,inactive,is_bulk_item,is_perishable,is_wholesale_only,maximum_order_quantity,minimum_order_quantity,package_quantity,package_size,photo,price_including_tax,family_code,promo_sku_points,reference,requires_approval,requires_cold_storage,requires_contract,sale_price,sale_unit,seasonality,sku,stock_tracking,supplier_code,supplier_name,target_market,tax_rate,title,unit_price,updated_at,vendable,visible,weight,weight_unit,wholesale_discount_percentage,wholesale_minimum_quantity,wholesale_price,wholesale_tier_1_price,wholesale_tier_1_quantity,wholesale_tier_2_price,wholesale_tier_2_quantity,wholesale_tier_3_price,wholesale_tier_3_quantity) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:281)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:165)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy2/jdk.proxy2.$Proxy215.save(Unknown Source)
	at ma.foodplus.ordering.system.product.service.ProductService.createProduct(ProductService.java:43)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.cache.interceptor.CacheInterceptor.lambda$invoke$0(CacheInterceptor.java:55)
	at org.springframework.cache.interceptor.CacheAspectSupport.invokeOperation(CacheAspectSupport.java:431)
	at org.springframework.cache.interceptor.CacheAspectSupport.evaluate(CacheAspectSupport.java:601)
	at org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:448)
	at org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:410)
	at org.springframework.cache.interceptor.CacheInterceptor.invoke(CacheInterceptor.java:65)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at ma.foodplus.ordering.system.product.service.ProductService$$SpringCGLIB$$0.createProduct(<generated>)
	at ma.foodplus.ordering.system.product.controller.ProductController.createProduct(ProductController.java:65)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.cache.interceptor.CacheInterceptor.lambda$invoke$0(CacheInterceptor.java:55)
	at org.springframework.cache.interceptor.CacheAspectSupport.invokeOperation(CacheAspectSupport.java:431)
	at org.springframework.cache.interceptor.CacheAspectSupport.evaluate(CacheAspectSupport.java:601)
	at org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:448)
	at org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:410)
	at org.springframework.cache.interceptor.CacheInterceptor.invoke(CacheInterceptor.java:65)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at ma.foodplus.ordering.system.product.controller.ProductController$$SpringCGLIB$$0.createProduct(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:114)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: org.hibernate.exception.SQLGrammarException: could not execute statement [ERROR: column "availability_schedule" is of type jsonb but expression is of type character varying
  Hint: You will need to rewrite or cast the expression.
  Position: 1283] [insert into products (additional_photos,availability_schedule,b2b_contract_discount_percentage,b2b_contract_required,b2b_credit_terms,b2b_custom_pricing_enabled,b2b_delivery_lead_time,b2b_minimum_order_value,b2b_payment_methods,b2b_volume_discount_enabled,b2c_display_in_catalog,b2c_featured,b2c_loyalty_points_multiplier,b2c_promo_end_date,b2c_promo_price,b2c_promo_start_date,b2c_rating,b2c_retail_price,b2c_review_count,barcode,bulk_discount_percentage,bulk_discount_threshold,bulk_package_size,bulk_package_unit,certification,country_of_origin,created_at,custom_attributes,customer_segments,deliverable,description,dimensions,inactive,is_bulk_item,is_perishable,is_wholesale_only,maximum_order_quantity,minimum_order_quantity,package_quantity,package_size,photo,price_including_tax,family_code,promo_sku_points,reference,requires_approval,requires_cold_storage,requires_contract,sale_price,sale_unit,seasonality,sku,stock_tracking,supplier_code,supplier_name,target_market,tax_rate,title,unit_price,updated_at,vendable,visible,weight,weight_unit,wholesale_discount_percentage,wholesale_minimum_quantity,wholesale_price,wholesale_tier_1_price,wholesale_tier_1_quantity,wholesale_tier_2_price,wholesale_tier_2_quantity,wholesale_tier_3_price,wholesale_tier_3_quantity) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:91)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)
	at org.hibernate.id.insert.GetGeneratedKeysDelegate.performMutation(GetGeneratedKeysDelegate.java:116)
	at org.hibernate.engine.jdbc.mutation.internal.MutationExecutorSingleNonBatched.performNonBatchedOperations(MutationExecutorSingleNonBatched.java:47)
	at org.hibernate.engine.jdbc.mutation.internal.AbstractMutationExecutor.execute(AbstractMutationExecutor.java:55)
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.doStaticInserts(InsertCoordinatorStandard.java:194)
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.coordinateInsert(InsertCoordinatorStandard.java:132)
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.insert(InsertCoordinatorStandard.java:95)
	at org.hibernate.action.internal.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:85)
	at org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:682)
	at org.hibernate.engine.spi.ActionQueue.addResolvedEntityInsertAction(ActionQueue.java:293)
	at org.hibernate.engine.spi.ActionQueue.addInsertAction(ActionQueue.java:274)
	at org.hibernate.engine.spi.ActionQueue.addAction(ActionQueue.java:324)
	at org.hibernate.event.internal.AbstractSaveEventListener.addInsertAction(AbstractSaveEventListener.java:394)
	at org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:308)
	at org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:224)
	at org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:136)
	at org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:177)
	at org.hibernate.event.internal.DefaultPersistEventListener.persist(DefaultPersistEventListener.java:95)
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:79)
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:55)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)
	at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:761)
	at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:745)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:364)
	at jdk.proxy2/jdk.proxy2.$Proxy199.persist(Unknown Source)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:320)
	at jdk.proxy2/jdk.proxy2.$Proxy199.persist(Unknown Source)
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:651)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:277)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:515)
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:284)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:734)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:174)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 90 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERROR: column "availability_schedule" is of type jsonb but expression is of type character varying
  Hint: You will need to rewrite or cast the expression.
  Position: 1283
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:155)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:194)
	... 140 common frames omitted
2025-06-14 20:11:11 [http-nio-8087-exec-2] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Failure in @ExceptionHandler ma.foodplus.ordering.system.product.exception.ProductExceptionHandler#handleProductCreationException(ProductAlreadyExistsException)
java.lang.IllegalStateException: Could not resolve parameter [0] in public org.springframework.http.ResponseEntity<ma.foodplus.ordering.system.product.exception.ProductExceptionHandler$ErrorResponse> ma.foodplus.ordering.system.product.exception.ProductExceptionHandler.handleProductCreationException(ma.foodplus.ordering.system.product.exception.ProductAlreadyExistsException): No suitable resolver
	at org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:224)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:181)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver.doResolveHandlerMethodException(ExceptionHandlerExceptionResolver.java:471)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodExceptionResolver.doResolveException(AbstractHandlerMethodExceptionResolver.java:73)
	at org.springframework.web.servlet.handler.AbstractHandlerExceptionResolver.resolveException(AbstractHandlerExceptionResolver.java:182)
	at org.springframework.web.servlet.handler.HandlerExceptionResolverComposite.resolveException(HandlerExceptionResolverComposite.java:80)
	at org.springframework.web.servlet.DispatcherServlet.processHandlerException(DispatcherServlet.java:1359)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1161)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1106)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:114)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-06-14 20:11:11 [http-nio-8087-exec-2] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: ma.foodplus.ordering.system.product.exception.ProductCreationException: Failed to create product: could not execute statement [ERROR: column "availability_schedule" is of type jsonb but expression is of type character varying
  Hint: You will need to rewrite or cast the expression.
  Position: 1283] [insert into products (additional_photos,availability_schedule,b2b_contract_discount_percentage,b2b_contract_required,b2b_credit_terms,b2b_custom_pricing_enabled,b2b_delivery_lead_time,b2b_minimum_order_value,b2b_payment_methods,b2b_volume_discount_enabled,b2c_display_in_catalog,b2c_featured,b2c_loyalty_points_multiplier,b2c_promo_end_date,b2c_promo_price,b2c_promo_start_date,b2c_rating,b2c_retail_price,b2c_review_count,barcode,bulk_discount_percentage,bulk_discount_threshold,bulk_package_size,bulk_package_unit,certification,country_of_origin,created_at,custom_attributes,customer_segments,deliverable,description,dimensions,inactive,is_bulk_item,is_perishable,is_wholesale_only,maximum_order_quantity,minimum_order_quantity,package_quantity,package_size,photo,price_including_tax,family_code,promo_sku_points,reference,requires_approval,requires_cold_storage,requires_contract,sale_price,sale_unit,seasonality,sku,stock_tracking,supplier_code,supplier_name,target_market,tax_rate,title,unit_price,updated_at,vendable,visible,weight,weight_unit,wholesale_discount_percentage,wholesale_minimum_quantity,wholesale_price,wholesale_tier_1_price,wholesale_tier_1_quantity,wholesale_tier_2_price,wholesale_tier_2_quantity,wholesale_tier_3_price,wholesale_tier_3_quantity) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)]; SQL [insert into products (additional_photos,availability_schedule,b2b_contract_discount_percentage,b2b_contract_required,b2b_credit_terms,b2b_custom_pricing_enabled,b2b_delivery_lead_time,b2b_minimum_order_value,b2b_payment_methods,b2b_volume_discount_enabled,b2c_display_in_catalog,b2c_featured,b2c_loyalty_points_multiplier,b2c_promo_end_date,b2c_promo_price,b2c_promo_start_date,b2c_rating,b2c_retail_price,b2c_review_count,barcode,bulk_discount_percentage,bulk_discount_threshold,bulk_package_size,bulk_package_unit,certification,country_of_origin,created_at,custom_attributes,customer_segments,deliverable,description,dimensions,inactive,is_bulk_item,is_perishable,is_wholesale_only,maximum_order_quantity,minimum_order_quantity,package_quantity,package_size,photo,price_including_tax,family_code,promo_sku_points,reference,requires_approval,requires_cold_storage,requires_contract,sale_price,sale_unit,seasonality,sku,stock_tracking,supplier_code,supplier_name,target_market,tax_rate,title,unit_price,updated_at,vendable,visible,weight,weight_unit,wholesale_discount_percentage,wholesale_minimum_quantity,wholesale_price,wholesale_tier_1_price,wholesale_tier_1_quantity,wholesale_tier_2_price,wholesale_tier_2_quantity,wholesale_tier_3_price,wholesale_tier_3_quantity) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)]] with root cause
ma.foodplus.ordering.system.product.exception.ProductCreationException: Failed to create product: could not execute statement [ERROR: column "availability_schedule" is of type jsonb but expression is of type character varying
  Hint: You will need to rewrite or cast the expression.
  Position: 1283] [insert into products (additional_photos,availability_schedule,b2b_contract_discount_percentage,b2b_contract_required,b2b_credit_terms,b2b_custom_pricing_enabled,b2b_delivery_lead_time,b2b_minimum_order_value,b2b_payment_methods,b2b_volume_discount_enabled,b2c_display_in_catalog,b2c_featured,b2c_loyalty_points_multiplier,b2c_promo_end_date,b2c_promo_price,b2c_promo_start_date,b2c_rating,b2c_retail_price,b2c_review_count,barcode,bulk_discount_percentage,bulk_discount_threshold,bulk_package_size,bulk_package_unit,certification,country_of_origin,created_at,custom_attributes,customer_segments,deliverable,description,dimensions,inactive,is_bulk_item,is_perishable,is_wholesale_only,maximum_order_quantity,minimum_order_quantity,package_quantity,package_size,photo,price_including_tax,family_code,promo_sku_points,reference,requires_approval,requires_cold_storage,requires_contract,sale_price,sale_unit,seasonality,sku,stock_tracking,supplier_code,supplier_name,target_market,tax_rate,title,unit_price,updated_at,vendable,visible,weight,weight_unit,wholesale_discount_percentage,wholesale_minimum_quantity,wholesale_price,wholesale_tier_1_price,wholesale_tier_1_quantity,wholesale_tier_2_price,wholesale_tier_2_quantity,wholesale_tier_3_price,wholesale_tier_3_quantity) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)]; SQL [insert into products (additional_photos,availability_schedule,b2b_contract_discount_percentage,b2b_contract_required,b2b_credit_terms,b2b_custom_pricing_enabled,b2b_delivery_lead_time,b2b_minimum_order_value,b2b_payment_methods,b2b_volume_discount_enabled,b2c_display_in_catalog,b2c_featured,b2c_loyalty_points_multiplier,b2c_promo_end_date,b2c_promo_price,b2c_promo_start_date,b2c_rating,b2c_retail_price,b2c_review_count,barcode,bulk_discount_percentage,bulk_discount_threshold,bulk_package_size,bulk_package_unit,certification,country_of_origin,created_at,custom_attributes,customer_segments,deliverable,description,dimensions,inactive,is_bulk_item,is_perishable,is_wholesale_only,maximum_order_quantity,minimum_order_quantity,package_quantity,package_size,photo,price_including_tax,family_code,promo_sku_points,reference,requires_approval,requires_cold_storage,requires_contract,sale_price,sale_unit,seasonality,sku,stock_tracking,supplier_code,supplier_name,target_market,tax_rate,title,unit_price,updated_at,vendable,visible,weight,weight_unit,wholesale_discount_percentage,wholesale_minimum_quantity,wholesale_price,wholesale_tier_1_price,wholesale_tier_1_quantity,wholesale_tier_2_price,wholesale_tier_2_quantity,wholesale_tier_3_price,wholesale_tier_3_quantity) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)]
	at ma.foodplus.ordering.system.product.service.ProductService.createProduct(ProductService.java:47)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.cache.interceptor.CacheInterceptor.lambda$invoke$0(CacheInterceptor.java:55)
	at org.springframework.cache.interceptor.CacheAspectSupport.invokeOperation(CacheAspectSupport.java:431)
	at org.springframework.cache.interceptor.CacheAspectSupport.evaluate(CacheAspectSupport.java:601)
	at org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:448)
	at org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:410)
	at org.springframework.cache.interceptor.CacheInterceptor.invoke(CacheInterceptor.java:65)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at ma.foodplus.ordering.system.product.service.ProductService$$SpringCGLIB$$0.createProduct(<generated>)
	at ma.foodplus.ordering.system.product.controller.ProductController.createProduct(ProductController.java:65)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.cache.interceptor.CacheInterceptor.lambda$invoke$0(CacheInterceptor.java:55)
	at org.springframework.cache.interceptor.CacheAspectSupport.invokeOperation(CacheAspectSupport.java:431)
	at org.springframework.cache.interceptor.CacheAspectSupport.evaluate(CacheAspectSupport.java:601)
	at org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:448)
	at org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:410)
	at org.springframework.cache.interceptor.CacheInterceptor.invoke(CacheInterceptor.java:65)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at ma.foodplus.ordering.system.product.controller.ProductController$$SpringCGLIB$$0.createProduct(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:114)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-06-14 20:11:31 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-06-14 20:11:31 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-06-14 20:11:31 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-06-14 20:11:31 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-06-14 20:11:31 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-06-14 20:16:56 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - Starting FoodPlusOrderingApplication using Java 21.0.7 with PID 488098 (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes started by louki in /home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system)
2025-06-14 20:16:56 [main] DEBUG m.f.o.s.FoodPlusOrderingApplication - Running with Spring Boot v3.5.0, Spring v6.2.7
2025-06-14 20:16:56 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - The following 1 profile is active: "dev"
2025-06-14 20:16:57 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-14 20:16:57 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-14 20:16:57 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 112 ms. Found 12 JPA repository interfaces.
2025-06-14 20:16:57 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-14 20:16:57 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-06-14 20:16:57 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.common.repository.CategoryTarifRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 20:16:57 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.CustomerGroupRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 20:16:57 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.CustomerRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 20:16:57 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.ProductCustomerRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 20:16:57 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.DepotRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 20:16:57 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.ProductStockRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 20:16:57 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.SiteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 20:16:57 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.order.repository.OrderRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 20:16:57 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.product.repository.CategoryRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 20:16:57 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.product.repository.ProductAuditRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 20:16:57 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.product.repository.ProductRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 20:16:57 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.promos.repository.PromotionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 20:16:57 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 19 ms. Found 0 Redis repository interfaces.
2025-06-14 20:16:58 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8087 (http)
2025-06-14 20:16:58 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-14 20:16:58 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.41]
2025-06-14 20:16:58 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-14 20:16:58 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1925 ms
2025-06-14 20:16:58 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-06-14 20:16:59 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@b529d7e
2025-06-14 20:16:59 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-06-14 20:16:59 [main] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://10.113.181.84:5432/foodplus_ordering (PostgreSQL 17.5)
2025-06-14 20:16:59 [main] INFO  o.f.core.internal.command.DbValidate - Successfully validated 6 migrations (execution time 00:00.032s)
2025-06-14 20:16:59 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "public": 1.7.2
2025-06-14 20:16:59 [main] WARN  o.f.core.internal.command.DbMigrate - outOfOrder mode is active. Migration of schema "public" may not be reproducible.
2025-06-14 20:16:59 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema "public" to version "1.0.5 - update json columns" [out of order]
2025-06-14 20:16:59 [main] INFO  o.f.core.internal.command.DbMigrate - Successfully applied 1 migration to schema "public", now at version v1.0.5 (execution time 00:00.010s)
2025-06-14 20:16:59 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-06-14 20:16:59 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.15.Final
2025-06-14 20:16:59 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-06-14 20:16:59 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-06-14 20:16:59 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 17.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-06-14 20:16:59 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-06-14 20:17:00 [main] ERROR o.s.o.j.LocalContainerEntityManagerFactoryBean - Failed to initialize JPA EntityManagerFactory: Could not determine recommended JdbcType for Java type 'com.fasterxml.jackson.databind.JsonNode'
2025-06-14 20:17:00 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Could not determine recommended JdbcType for Java type 'com.fasterxml.jackson.databind.JsonNode'
2025-06-14 20:17:00 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-06-14 20:17:00 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-06-14 20:17:00 [main] INFO  o.a.catalina.core.StandardService - Stopping service [Tomcat]
2025-06-14 20:17:00 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLogger - 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-06-14 20:17:00 [main] ERROR o.s.boot.SpringApplication - Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Could not determine recommended JdbcType for Java type 'com.fasterxml.jackson.databind.JsonNode'
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1826)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:607)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:529)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:339)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:373)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:337)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:207)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:970)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:627)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:753)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1362)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1351)
	at ma.foodplus.ordering.system.FoodPlusOrderingApplication.main(FoodPlusOrderingApplication.java:22)
Caused by: org.hibernate.type.descriptor.java.spi.JdbcTypeRecommendationException: Could not determine recommended JdbcType for Java type 'com.fasterxml.jackson.databind.JsonNode'
	at org.hibernate.type.descriptor.java.spi.UnknownBasicJavaType.getRecommendedJdbcType(UnknownBasicJavaType.java:50)
	at org.hibernate.boot.model.process.internal.InferredBasicValueResolver.from(InferredBasicValueResolver.java:195)
	at org.hibernate.mapping.BasicValue.resolution(BasicValue.java:664)
	at org.hibernate.mapping.BasicValue.buildResolution(BasicValue.java:461)
	at org.hibernate.mapping.BasicValue.resolve(BasicValue.java:351)
	at org.hibernate.mapping.BasicValue.resolve(BasicValue.java:341)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.lambda$processValueResolvers$6(InFlightMetadataCollectorImpl.java:1827)
	at java.base/java.util.ArrayList.removeIf(ArrayList.java:1765)
	at java.base/java.util.ArrayList.removeIf(ArrayList.java:1743)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.processValueResolvers(InFlightMetadataCollectorImpl.java:1826)
	at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.processSecondPasses(InFlightMetadataCollectorImpl.java:1812)
	at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:334)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1442)
	at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1513)
	at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:390)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:419)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:400)
	at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1873)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1822)
	... 15 common frames omitted
2025-06-14 20:17:55 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - Starting FoodPlusOrderingApplication using Java 21.0.7 with PID 488918 (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes started by louki in /home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system)
2025-06-14 20:17:55 [main] DEBUG m.f.o.s.FoodPlusOrderingApplication - Running with Spring Boot v3.5.0, Spring v6.2.7
2025-06-14 20:17:55 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - The following 1 profile is active: "dev"
2025-06-14 20:17:56 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-14 20:17:56 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-14 20:17:56 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 98 ms. Found 12 JPA repository interfaces.
2025-06-14 20:17:56 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-14 20:17:56 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-06-14 20:17:56 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.common.repository.CategoryTarifRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 20:17:56 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.CustomerGroupRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 20:17:56 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.CustomerRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 20:17:56 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.ProductCustomerRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 20:17:56 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.DepotRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 20:17:56 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.ProductStockRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 20:17:56 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.SiteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 20:17:56 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.order.repository.OrderRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 20:17:56 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.product.repository.CategoryRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 20:17:56 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.product.repository.ProductAuditRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 20:17:56 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.product.repository.ProductRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 20:17:56 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.promos.repository.PromotionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 20:17:56 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 22 ms. Found 0 Redis repository interfaces.
2025-06-14 20:17:57 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8087 (http)
2025-06-14 20:17:57 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-14 20:17:57 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.41]
2025-06-14 20:17:57 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-14 20:17:57 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1939 ms
2025-06-14 20:17:57 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-06-14 20:17:57 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@570299e3
2025-06-14 20:17:57 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-06-14 20:17:57 [main] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://10.113.181.84:5432/foodplus_ordering (PostgreSQL 17.5)
2025-06-14 20:17:57 [main] INFO  o.f.core.internal.command.DbValidate - Successfully validated 6 migrations (execution time 00:00.024s)
2025-06-14 20:17:57 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "public": 1.7.2
2025-06-14 20:17:57 [main] WARN  o.f.core.internal.command.DbMigrate - outOfOrder mode is active. Migration of schema "public" may not be reproducible.
2025-06-14 20:17:57 [main] INFO  o.f.core.internal.command.DbMigrate - Schema "public" is up to date. No migration necessary.
2025-06-14 20:17:58 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-06-14 20:17:58 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.15.Final
2025-06-14 20:17:58 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-06-14 20:17:58 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-06-14 20:17:58 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 17.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-06-14 20:17:58 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-06-14 20:17:59 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-06-14 20:17:59 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-06-14 20:18:00 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-06-14 20:18:02 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-06-14 20:18:02 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 4 endpoints beneath base path '/actuator'
2025-06-14 20:18:03 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8087 (http) with context path '/'
2025-06-14 20:18:03 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - Started FoodPlusOrderingApplication in 8.35 seconds (process running for 8.715)
2025-06-14 20:18:03 [main] INFO  m.f.o.s.p.s.CacheWarmingService - Starting cache warm-up...
2025-06-14 20:18:03 [main] INFO  m.f.o.s.p.service.ProductService - Getting all products
2025-06-14 20:18:03 [main] INFO  m.f.o.s.p.s.CacheWarmingService - Warmed up all products cache
2025-06-14 20:18:03 [main] INFO  m.f.o.s.p.s.CacheWarmingService - Warmed up deliverable products cache
2025-06-14 20:18:03 [main] INFO  m.f.o.s.p.s.CacheWarmingService - Warmed up active products cache
2025-06-14 20:18:03 [main] INFO  m.f.o.s.p.s.CacheWarmingService - Cache warm-up completed
2025-06-14 20:18:32 [http-nio-8087-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-06-14 20:18:32 [http-nio-8087-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-06-14 20:18:32 [http-nio-8087-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-06-14 20:18:32 [http-nio-8087-exec-2] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23502
2025-06-14 20:18:32 [http-nio-8087-exec-2] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: null value in column "is_bulk_item" of relation "products" violates not-null constraint
  Detail: Failing row contains (null, t, null, null, null, 1000.00, null, t, null, null, null, null, 29.99, null, null, null, null, t, f, null, null, null, 100, 1, 12, 35.99, 10.00, null, null, null, 29.99, 20.00, 25.99, t, t, 1.000, 15.00, 10, 20.00, null, null, null, null, null, null, null, null, 2025-06-14 20:18:32.246391+01, 1, 2025-06-14 20:18:32.246457+01, KG, null, PAR_LOT, 123456789012, 10x5x5, 750ml, BOTTLE, null, SUP-001, null, Spain, Mediterranean Suppliers Ltd, null, https://www.ldc.com/uy/wp-content/uploads/sites/16/Canola-Oil-sc..., Premium Olive Oil, null, null, null, null, Extra virgin olive oil from Mediterranean region, null, PROD-001, SKU-001, null).
2025-06-14 20:18:32 [http-nio-8087-exec-2] ERROR m.f.o.s.p.service.ProductService - Error creating product: could not execute statement [ERROR: null value in column "is_bulk_item" of relation "products" violates not-null constraint
  Detail: Failing row contains (null, t, null, null, null, 1000.00, null, t, null, null, null, null, 29.99, null, null, null, null, t, f, null, null, null, 100, 1, 12, 35.99, 10.00, null, null, null, 29.99, 20.00, 25.99, t, t, 1.000, 15.00, 10, 20.00, null, null, null, null, null, null, null, null, 2025-06-14 20:18:32.246391+01, 1, 2025-06-14 20:18:32.246457+01, KG, null, PAR_LOT, 123456789012, 10x5x5, 750ml, BOTTLE, null, SUP-001, null, Spain, Mediterranean Suppliers Ltd, null, https://www.ldc.com/uy/wp-content/uploads/sites/16/Canola-Oil-sc..., Premium Olive Oil, null, null, null, null, Extra virgin olive oil from Mediterranean region, null, PROD-001, SKU-001, null).] [insert into products (additional_photos,availability_schedule,b2b_contract_discount_percentage,b2b_contract_required,b2b_credit_terms,b2b_custom_pricing_enabled,b2b_delivery_lead_time,b2b_minimum_order_value,b2b_payment_methods,b2b_volume_discount_enabled,b2c_display_in_catalog,b2c_featured,b2c_loyalty_points_multiplier,b2c_promo_end_date,b2c_promo_price,b2c_promo_start_date,b2c_rating,b2c_retail_price,b2c_review_count,barcode,bulk_discount_percentage,bulk_discount_threshold,bulk_package_size,bulk_package_unit,certification,country_of_origin,created_at,custom_attributes,customer_segments,deliverable,description,dimensions,inactive,is_bulk_item,is_perishable,is_wholesale_only,maximum_order_quantity,minimum_order_quantity,package_quantity,package_size,photo,price_including_tax,family_code,promo_sku_points,reference,requires_approval,requires_cold_storage,requires_contract,sale_price,sale_unit,seasonality,sku,stock_tracking,supplier_code,supplier_name,target_market,tax_rate,title,unit_price,updated_at,vendable,visible,weight,weight_unit,wholesale_discount_percentage,wholesale_minimum_quantity,wholesale_price,wholesale_tier_1_price,wholesale_tier_1_quantity,wholesale_tier_2_price,wholesale_tier_2_quantity,wholesale_tier_3_price,wholesale_tier_3_quantity) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)]; SQL [insert into products (additional_photos,availability_schedule,b2b_contract_discount_percentage,b2b_contract_required,b2b_credit_terms,b2b_custom_pricing_enabled,b2b_delivery_lead_time,b2b_minimum_order_value,b2b_payment_methods,b2b_volume_discount_enabled,b2c_display_in_catalog,b2c_featured,b2c_loyalty_points_multiplier,b2c_promo_end_date,b2c_promo_price,b2c_promo_start_date,b2c_rating,b2c_retail_price,b2c_review_count,barcode,bulk_discount_percentage,bulk_discount_threshold,bulk_package_size,bulk_package_unit,certification,country_of_origin,created_at,custom_attributes,customer_segments,deliverable,description,dimensions,inactive,is_bulk_item,is_perishable,is_wholesale_only,maximum_order_quantity,minimum_order_quantity,package_quantity,package_size,photo,price_including_tax,family_code,promo_sku_points,reference,requires_approval,requires_cold_storage,requires_contract,sale_price,sale_unit,seasonality,sku,stock_tracking,supplier_code,supplier_name,target_market,tax_rate,title,unit_price,updated_at,vendable,visible,weight,weight_unit,wholesale_discount_percentage,wholesale_minimum_quantity,wholesale_price,wholesale_tier_1_price,wholesale_tier_1_quantity,wholesale_tier_2_price,wholesale_tier_2_quantity,wholesale_tier_3_price,wholesale_tier_3_quantity) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)]; constraint [is_bulk_item" of relation "products]
org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: null value in column "is_bulk_item" of relation "products" violates not-null constraint
  Detail: Failing row contains (null, t, null, null, null, 1000.00, null, t, null, null, null, null, 29.99, null, null, null, null, t, f, null, null, null, 100, 1, 12, 35.99, 10.00, null, null, null, 29.99, 20.00, 25.99, t, t, 1.000, 15.00, 10, 20.00, null, null, null, null, null, null, null, null, 2025-06-14 20:18:32.246391+01, 1, 2025-06-14 20:18:32.246457+01, KG, null, PAR_LOT, 123456789012, 10x5x5, 750ml, BOTTLE, null, SUP-001, null, Spain, Mediterranean Suppliers Ltd, null, https://www.ldc.com/uy/wp-content/uploads/sites/16/Canola-Oil-sc..., Premium Olive Oil, null, null, null, null, Extra virgin olive oil from Mediterranean region, null, PROD-001, SKU-001, null).] [insert into products (additional_photos,availability_schedule,b2b_contract_discount_percentage,b2b_contract_required,b2b_credit_terms,b2b_custom_pricing_enabled,b2b_delivery_lead_time,b2b_minimum_order_value,b2b_payment_methods,b2b_volume_discount_enabled,b2c_display_in_catalog,b2c_featured,b2c_loyalty_points_multiplier,b2c_promo_end_date,b2c_promo_price,b2c_promo_start_date,b2c_rating,b2c_retail_price,b2c_review_count,barcode,bulk_discount_percentage,bulk_discount_threshold,bulk_package_size,bulk_package_unit,certification,country_of_origin,created_at,custom_attributes,customer_segments,deliverable,description,dimensions,inactive,is_bulk_item,is_perishable,is_wholesale_only,maximum_order_quantity,minimum_order_quantity,package_quantity,package_size,photo,price_including_tax,family_code,promo_sku_points,reference,requires_approval,requires_cold_storage,requires_contract,sale_price,sale_unit,seasonality,sku,stock_tracking,supplier_code,supplier_name,target_market,tax_rate,title,unit_price,updated_at,vendable,visible,weight,weight_unit,wholesale_discount_percentage,wholesale_minimum_quantity,wholesale_price,wholesale_tier_1_price,wholesale_tier_1_quantity,wholesale_tier_2_price,wholesale_tier_2_quantity,wholesale_tier_3_price,wholesale_tier_3_quantity) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)]; SQL [insert into products (additional_photos,availability_schedule,b2b_contract_discount_percentage,b2b_contract_required,b2b_credit_terms,b2b_custom_pricing_enabled,b2b_delivery_lead_time,b2b_minimum_order_value,b2b_payment_methods,b2b_volume_discount_enabled,b2c_display_in_catalog,b2c_featured,b2c_loyalty_points_multiplier,b2c_promo_end_date,b2c_promo_price,b2c_promo_start_date,b2c_rating,b2c_retail_price,b2c_review_count,barcode,bulk_discount_percentage,bulk_discount_threshold,bulk_package_size,bulk_package_unit,certification,country_of_origin,created_at,custom_attributes,customer_segments,deliverable,description,dimensions,inactive,is_bulk_item,is_perishable,is_wholesale_only,maximum_order_quantity,minimum_order_quantity,package_quantity,package_size,photo,price_including_tax,family_code,promo_sku_points,reference,requires_approval,requires_cold_storage,requires_contract,sale_price,sale_unit,seasonality,sku,stock_tracking,supplier_code,supplier_name,target_market,tax_rate,title,unit_price,updated_at,vendable,visible,weight,weight_unit,wholesale_discount_percentage,wholesale_minimum_quantity,wholesale_price,wholesale_tier_1_price,wholesale_tier_1_quantity,wholesale_tier_2_price,wholesale_tier_2_quantity,wholesale_tier_3_price,wholesale_tier_3_quantity) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)]; constraint [is_bulk_item" of relation "products]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:294)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:165)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy2/jdk.proxy2.$Proxy218.save(Unknown Source)
	at ma.foodplus.ordering.system.product.service.ProductService.createProduct(ProductService.java:48)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.cache.interceptor.CacheInterceptor.lambda$invoke$0(CacheInterceptor.java:55)
	at org.springframework.cache.interceptor.CacheAspectSupport.invokeOperation(CacheAspectSupport.java:431)
	at org.springframework.cache.interceptor.CacheAspectSupport.evaluate(CacheAspectSupport.java:601)
	at org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:448)
	at org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:410)
	at org.springframework.cache.interceptor.CacheInterceptor.invoke(CacheInterceptor.java:65)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at ma.foodplus.ordering.system.product.service.ProductService$$SpringCGLIB$$0.createProduct(<generated>)
	at ma.foodplus.ordering.system.product.controller.ProductController.createProduct(ProductController.java:65)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.cache.interceptor.CacheInterceptor.lambda$invoke$0(CacheInterceptor.java:55)
	at org.springframework.cache.interceptor.CacheAspectSupport.invokeOperation(CacheAspectSupport.java:431)
	at org.springframework.cache.interceptor.CacheAspectSupport.evaluate(CacheAspectSupport.java:601)
	at org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:448)
	at org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:410)
	at org.springframework.cache.interceptor.CacheInterceptor.invoke(CacheInterceptor.java:65)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at ma.foodplus.ordering.system.product.controller.ProductController$$SpringCGLIB$$0.createProduct(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:114)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: org.hibernate.exception.ConstraintViolationException: could not execute statement [ERROR: null value in column "is_bulk_item" of relation "products" violates not-null constraint
  Detail: Failing row contains (null, t, null, null, null, 1000.00, null, t, null, null, null, null, 29.99, null, null, null, null, t, f, null, null, null, 100, 1, 12, 35.99, 10.00, null, null, null, 29.99, 20.00, 25.99, t, t, 1.000, 15.00, 10, 20.00, null, null, null, null, null, null, null, null, 2025-06-14 20:18:32.246391+01, 1, 2025-06-14 20:18:32.246457+01, KG, null, PAR_LOT, 123456789012, 10x5x5, 750ml, BOTTLE, null, SUP-001, null, Spain, Mediterranean Suppliers Ltd, null, https://www.ldc.com/uy/wp-content/uploads/sites/16/Canola-Oil-sc..., Premium Olive Oil, null, null, null, null, Extra virgin olive oil from Mediterranean region, null, PROD-001, SKU-001, null).] [insert into products (additional_photos,availability_schedule,b2b_contract_discount_percentage,b2b_contract_required,b2b_credit_terms,b2b_custom_pricing_enabled,b2b_delivery_lead_time,b2b_minimum_order_value,b2b_payment_methods,b2b_volume_discount_enabled,b2c_display_in_catalog,b2c_featured,b2c_loyalty_points_multiplier,b2c_promo_end_date,b2c_promo_price,b2c_promo_start_date,b2c_rating,b2c_retail_price,b2c_review_count,barcode,bulk_discount_percentage,bulk_discount_threshold,bulk_package_size,bulk_package_unit,certification,country_of_origin,created_at,custom_attributes,customer_segments,deliverable,description,dimensions,inactive,is_bulk_item,is_perishable,is_wholesale_only,maximum_order_quantity,minimum_order_quantity,package_quantity,package_size,photo,price_including_tax,family_code,promo_sku_points,reference,requires_approval,requires_cold_storage,requires_contract,sale_price,sale_unit,seasonality,sku,stock_tracking,supplier_code,supplier_name,target_market,tax_rate,title,unit_price,updated_at,vendable,visible,weight,weight_unit,wholesale_discount_percentage,wholesale_minimum_quantity,wholesale_price,wholesale_tier_1_price,wholesale_tier_1_quantity,wholesale_tier_2_price,wholesale_tier_2_quantity,wholesale_tier_3_price,wholesale_tier_3_quantity) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:97)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)
	at org.hibernate.id.insert.GetGeneratedKeysDelegate.performMutation(GetGeneratedKeysDelegate.java:116)
	at org.hibernate.engine.jdbc.mutation.internal.MutationExecutorSingleNonBatched.performNonBatchedOperations(MutationExecutorSingleNonBatched.java:47)
	at org.hibernate.engine.jdbc.mutation.internal.AbstractMutationExecutor.execute(AbstractMutationExecutor.java:55)
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.doStaticInserts(InsertCoordinatorStandard.java:194)
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.coordinateInsert(InsertCoordinatorStandard.java:132)
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.insert(InsertCoordinatorStandard.java:95)
	at org.hibernate.action.internal.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:85)
	at org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:682)
	at org.hibernate.engine.spi.ActionQueue.addResolvedEntityInsertAction(ActionQueue.java:293)
	at org.hibernate.engine.spi.ActionQueue.addInsertAction(ActionQueue.java:274)
	at org.hibernate.engine.spi.ActionQueue.addAction(ActionQueue.java:324)
	at org.hibernate.event.internal.AbstractSaveEventListener.addInsertAction(AbstractSaveEventListener.java:394)
	at org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:308)
	at org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:224)
	at org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:136)
	at org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:177)
	at org.hibernate.event.internal.DefaultPersistEventListener.persist(DefaultPersistEventListener.java:95)
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:79)
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:55)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)
	at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:761)
	at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:745)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:364)
	at jdk.proxy2/jdk.proxy2.$Proxy202.persist(Unknown Source)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:320)
	at jdk.proxy2/jdk.proxy2.$Proxy202.persist(Unknown Source)
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:651)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:277)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:515)
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:284)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:734)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:174)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 90 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERROR: null value in column "is_bulk_item" of relation "products" violates not-null constraint
  Detail: Failing row contains (null, t, null, null, null, 1000.00, null, t, null, null, null, null, 29.99, null, null, null, null, t, f, null, null, null, 100, 1, 12, 35.99, 10.00, null, null, null, 29.99, 20.00, 25.99, t, t, 1.000, 15.00, 10, 20.00, null, null, null, null, null, null, null, null, 2025-06-14 20:18:32.246391+01, 1, 2025-06-14 20:18:32.246457+01, KG, null, PAR_LOT, 123456789012, 10x5x5, 750ml, BOTTLE, null, SUP-001, null, Spain, Mediterranean Suppliers Ltd, null, https://www.ldc.com/uy/wp-content/uploads/sites/16/Canola-Oil-sc..., Premium Olive Oil, null, null, null, null, Extra virgin olive oil from Mediterranean region, null, PROD-001, SKU-001, null).
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:155)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:194)
	... 140 common frames omitted
2025-06-14 20:18:32 [http-nio-8087-exec-2] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Failure in @ExceptionHandler ma.foodplus.ordering.system.product.exception.ProductExceptionHandler#handleProductCreationException(ProductAlreadyExistsException)
java.lang.IllegalStateException: Could not resolve parameter [0] in public org.springframework.http.ResponseEntity<ma.foodplus.ordering.system.product.exception.ProductExceptionHandler$ErrorResponse> ma.foodplus.ordering.system.product.exception.ProductExceptionHandler.handleProductCreationException(ma.foodplus.ordering.system.product.exception.ProductAlreadyExistsException): No suitable resolver
	at org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:224)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:181)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver.doResolveHandlerMethodException(ExceptionHandlerExceptionResolver.java:471)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodExceptionResolver.doResolveException(AbstractHandlerMethodExceptionResolver.java:73)
	at org.springframework.web.servlet.handler.AbstractHandlerExceptionResolver.resolveException(AbstractHandlerExceptionResolver.java:182)
	at org.springframework.web.servlet.handler.HandlerExceptionResolverComposite.resolveException(HandlerExceptionResolverComposite.java:80)
	at org.springframework.web.servlet.DispatcherServlet.processHandlerException(DispatcherServlet.java:1359)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1161)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1106)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:114)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-06-14 20:18:32 [http-nio-8087-exec-2] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: ma.foodplus.ordering.system.product.exception.ProductCreationException: Failed to create product: could not execute statement [ERROR: null value in column "is_bulk_item" of relation "products" violates not-null constraint
  Detail: Failing row contains (null, t, null, null, null, 1000.00, null, t, null, null, null, null, 29.99, null, null, null, null, t, f, null, null, null, 100, 1, 12, 35.99, 10.00, null, null, null, 29.99, 20.00, 25.99, t, t, 1.000, 15.00, 10, 20.00, null, null, null, null, null, null, null, null, 2025-06-14 20:18:32.246391+01, 1, 2025-06-14 20:18:32.246457+01, KG, null, PAR_LOT, 123456789012, 10x5x5, 750ml, BOTTLE, null, SUP-001, null, Spain, Mediterranean Suppliers Ltd, null, https://www.ldc.com/uy/wp-content/uploads/sites/16/Canola-Oil-sc..., Premium Olive Oil, null, null, null, null, Extra virgin olive oil from Mediterranean region, null, PROD-001, SKU-001, null).] [insert into products (additional_photos,availability_schedule,b2b_contract_discount_percentage,b2b_contract_required,b2b_credit_terms,b2b_custom_pricing_enabled,b2b_delivery_lead_time,b2b_minimum_order_value,b2b_payment_methods,b2b_volume_discount_enabled,b2c_display_in_catalog,b2c_featured,b2c_loyalty_points_multiplier,b2c_promo_end_date,b2c_promo_price,b2c_promo_start_date,b2c_rating,b2c_retail_price,b2c_review_count,barcode,bulk_discount_percentage,bulk_discount_threshold,bulk_package_size,bulk_package_unit,certification,country_of_origin,created_at,custom_attributes,customer_segments,deliverable,description,dimensions,inactive,is_bulk_item,is_perishable,is_wholesale_only,maximum_order_quantity,minimum_order_quantity,package_quantity,package_size,photo,price_including_tax,family_code,promo_sku_points,reference,requires_approval,requires_cold_storage,requires_contract,sale_price,sale_unit,seasonality,sku,stock_tracking,supplier_code,supplier_name,target_market,tax_rate,title,unit_price,updated_at,vendable,visible,weight,weight_unit,wholesale_discount_percentage,wholesale_minimum_quantity,wholesale_price,wholesale_tier_1_price,wholesale_tier_1_quantity,wholesale_tier_2_price,wholesale_tier_2_quantity,wholesale_tier_3_price,wholesale_tier_3_quantity) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)]; SQL [insert into products (additional_photos,availability_schedule,b2b_contract_discount_percentage,b2b_contract_required,b2b_credit_terms,b2b_custom_pricing_enabled,b2b_delivery_lead_time,b2b_minimum_order_value,b2b_payment_methods,b2b_volume_discount_enabled,b2c_display_in_catalog,b2c_featured,b2c_loyalty_points_multiplier,b2c_promo_end_date,b2c_promo_price,b2c_promo_start_date,b2c_rating,b2c_retail_price,b2c_review_count,barcode,bulk_discount_percentage,bulk_discount_threshold,bulk_package_size,bulk_package_unit,certification,country_of_origin,created_at,custom_attributes,customer_segments,deliverable,description,dimensions,inactive,is_bulk_item,is_perishable,is_wholesale_only,maximum_order_quantity,minimum_order_quantity,package_quantity,package_size,photo,price_including_tax,family_code,promo_sku_points,reference,requires_approval,requires_cold_storage,requires_contract,sale_price,sale_unit,seasonality,sku,stock_tracking,supplier_code,supplier_name,target_market,tax_rate,title,unit_price,updated_at,vendable,visible,weight,weight_unit,wholesale_discount_percentage,wholesale_minimum_quantity,wholesale_price,wholesale_tier_1_price,wholesale_tier_1_quantity,wholesale_tier_2_price,wholesale_tier_2_quantity,wholesale_tier_3_price,wholesale_tier_3_quantity) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)]; constraint [is_bulk_item" of relation "products]] with root cause
ma.foodplus.ordering.system.product.exception.ProductCreationException: Failed to create product: could not execute statement [ERROR: null value in column "is_bulk_item" of relation "products" violates not-null constraint
  Detail: Failing row contains (null, t, null, null, null, 1000.00, null, t, null, null, null, null, 29.99, null, null, null, null, t, f, null, null, null, 100, 1, 12, 35.99, 10.00, null, null, null, 29.99, 20.00, 25.99, t, t, 1.000, 15.00, 10, 20.00, null, null, null, null, null, null, null, null, 2025-06-14 20:18:32.246391+01, 1, 2025-06-14 20:18:32.246457+01, KG, null, PAR_LOT, 123456789012, 10x5x5, 750ml, BOTTLE, null, SUP-001, null, Spain, Mediterranean Suppliers Ltd, null, https://www.ldc.com/uy/wp-content/uploads/sites/16/Canola-Oil-sc..., Premium Olive Oil, null, null, null, null, Extra virgin olive oil from Mediterranean region, null, PROD-001, SKU-001, null).] [insert into products (additional_photos,availability_schedule,b2b_contract_discount_percentage,b2b_contract_required,b2b_credit_terms,b2b_custom_pricing_enabled,b2b_delivery_lead_time,b2b_minimum_order_value,b2b_payment_methods,b2b_volume_discount_enabled,b2c_display_in_catalog,b2c_featured,b2c_loyalty_points_multiplier,b2c_promo_end_date,b2c_promo_price,b2c_promo_start_date,b2c_rating,b2c_retail_price,b2c_review_count,barcode,bulk_discount_percentage,bulk_discount_threshold,bulk_package_size,bulk_package_unit,certification,country_of_origin,created_at,custom_attributes,customer_segments,deliverable,description,dimensions,inactive,is_bulk_item,is_perishable,is_wholesale_only,maximum_order_quantity,minimum_order_quantity,package_quantity,package_size,photo,price_including_tax,family_code,promo_sku_points,reference,requires_approval,requires_cold_storage,requires_contract,sale_price,sale_unit,seasonality,sku,stock_tracking,supplier_code,supplier_name,target_market,tax_rate,title,unit_price,updated_at,vendable,visible,weight,weight_unit,wholesale_discount_percentage,wholesale_minimum_quantity,wholesale_price,wholesale_tier_1_price,wholesale_tier_1_quantity,wholesale_tier_2_price,wholesale_tier_2_quantity,wholesale_tier_3_price,wholesale_tier_3_quantity) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)]; SQL [insert into products (additional_photos,availability_schedule,b2b_contract_discount_percentage,b2b_contract_required,b2b_credit_terms,b2b_custom_pricing_enabled,b2b_delivery_lead_time,b2b_minimum_order_value,b2b_payment_methods,b2b_volume_discount_enabled,b2c_display_in_catalog,b2c_featured,b2c_loyalty_points_multiplier,b2c_promo_end_date,b2c_promo_price,b2c_promo_start_date,b2c_rating,b2c_retail_price,b2c_review_count,barcode,bulk_discount_percentage,bulk_discount_threshold,bulk_package_size,bulk_package_unit,certification,country_of_origin,created_at,custom_attributes,customer_segments,deliverable,description,dimensions,inactive,is_bulk_item,is_perishable,is_wholesale_only,maximum_order_quantity,minimum_order_quantity,package_quantity,package_size,photo,price_including_tax,family_code,promo_sku_points,reference,requires_approval,requires_cold_storage,requires_contract,sale_price,sale_unit,seasonality,sku,stock_tracking,supplier_code,supplier_name,target_market,tax_rate,title,unit_price,updated_at,vendable,visible,weight,weight_unit,wholesale_discount_percentage,wholesale_minimum_quantity,wholesale_price,wholesale_tier_1_price,wholesale_tier_1_quantity,wholesale_tier_2_price,wholesale_tier_2_quantity,wholesale_tier_3_price,wholesale_tier_3_quantity) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)]; constraint [is_bulk_item" of relation "products]
	at ma.foodplus.ordering.system.product.service.ProductService.createProduct(ProductService.java:52)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.cache.interceptor.CacheInterceptor.lambda$invoke$0(CacheInterceptor.java:55)
	at org.springframework.cache.interceptor.CacheAspectSupport.invokeOperation(CacheAspectSupport.java:431)
	at org.springframework.cache.interceptor.CacheAspectSupport.evaluate(CacheAspectSupport.java:601)
	at org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:448)
	at org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:410)
	at org.springframework.cache.interceptor.CacheInterceptor.invoke(CacheInterceptor.java:65)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at ma.foodplus.ordering.system.product.service.ProductService$$SpringCGLIB$$0.createProduct(<generated>)
	at ma.foodplus.ordering.system.product.controller.ProductController.createProduct(ProductController.java:65)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.cache.interceptor.CacheInterceptor.lambda$invoke$0(CacheInterceptor.java:55)
	at org.springframework.cache.interceptor.CacheAspectSupport.invokeOperation(CacheAspectSupport.java:431)
	at org.springframework.cache.interceptor.CacheAspectSupport.evaluate(CacheAspectSupport.java:601)
	at org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:448)
	at org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:410)
	at org.springframework.cache.interceptor.CacheInterceptor.invoke(CacheInterceptor.java:65)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at ma.foodplus.ordering.system.product.controller.ProductController$$SpringCGLIB$$0.createProduct(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:114)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-06-14 20:18:49 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-06-14 20:18:49 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-06-14 20:18:49 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-06-14 20:18:49 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-06-14 20:18:49 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-06-14 20:19:31 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - Starting FoodPlusOrderingApplication using Java 21.0.7 with PID 490255 (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes started by louki in /home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system)
2025-06-14 20:19:31 [main] DEBUG m.f.o.s.FoodPlusOrderingApplication - Running with Spring Boot v3.5.0, Spring v6.2.7
2025-06-14 20:19:31 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - The following 1 profile is active: "dev"
2025-06-14 20:19:32 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-14 20:19:32 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-14 20:19:32 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 124 ms. Found 12 JPA repository interfaces.
2025-06-14 20:19:32 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-14 20:19:32 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-06-14 20:19:32 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.common.repository.CategoryTarifRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 20:19:32 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.CustomerGroupRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 20:19:32 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.CustomerRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 20:19:32 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.ProductCustomerRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 20:19:32 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.DepotRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 20:19:32 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.ProductStockRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 20:19:32 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.SiteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 20:19:32 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.order.repository.OrderRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 20:19:32 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.product.repository.CategoryRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 20:19:32 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.product.repository.ProductAuditRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 20:19:32 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.product.repository.ProductRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 20:19:32 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.promos.repository.PromotionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 20:19:32 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 19 ms. Found 0 Redis repository interfaces.
2025-06-14 20:19:33 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8087 (http)
2025-06-14 20:19:33 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-14 20:19:33 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.41]
2025-06-14 20:19:33 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-14 20:19:33 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2111 ms
2025-06-14 20:19:34 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-06-14 20:19:34 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@745cf754
2025-06-14 20:19:34 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-06-14 20:19:34 [main] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://10.113.181.84:5432/foodplus_ordering (PostgreSQL 17.5)
2025-06-14 20:19:34 [main] INFO  o.f.core.internal.command.DbValidate - Successfully validated 6 migrations (execution time 00:00.032s)
2025-06-14 20:19:34 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "public": 1.7.2
2025-06-14 20:19:34 [main] WARN  o.f.core.internal.command.DbMigrate - outOfOrder mode is active. Migration of schema "public" may not be reproducible.
2025-06-14 20:19:34 [main] INFO  o.f.core.internal.command.DbMigrate - Schema "public" is up to date. No migration necessary.
2025-06-14 20:19:34 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-06-14 20:19:34 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.15.Final
2025-06-14 20:19:34 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-06-14 20:19:34 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-06-14 20:19:34 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 17.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-06-14 20:19:34 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-06-14 20:19:36 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-06-14 20:19:36 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-06-14 20:19:36 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-06-14 20:19:38 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-06-14 20:19:39 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 4 endpoints beneath base path '/actuator'
2025-06-14 20:19:39 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8087 (http) with context path '/'
2025-06-14 20:19:39 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - Started FoodPlusOrderingApplication in 8.48 seconds (process running for 9.327)
2025-06-14 20:19:39 [main] INFO  m.f.o.s.p.s.CacheWarmingService - Starting cache warm-up...
2025-06-14 20:19:39 [main] INFO  m.f.o.s.p.service.ProductService - Getting all products
2025-06-14 20:19:39 [main] INFO  m.f.o.s.p.s.CacheWarmingService - Warmed up all products cache
2025-06-14 20:19:39 [main] INFO  m.f.o.s.p.s.CacheWarmingService - Warmed up deliverable products cache
2025-06-14 20:19:39 [main] INFO  m.f.o.s.p.s.CacheWarmingService - Warmed up active products cache
2025-06-14 20:19:39 [main] INFO  m.f.o.s.p.s.CacheWarmingService - Cache warm-up completed
2025-06-14 20:19:47 [http-nio-8087-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-06-14 20:19:47 [http-nio-8087-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-06-14 20:19:47 [http-nio-8087-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-06-14 20:19:47 [http-nio-8087-exec-2] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23502
2025-06-14 20:19:47 [http-nio-8087-exec-2] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: null value in column "is_perishable" of relation "products" violates not-null constraint
  Detail: Failing row contains (null, t, null, null, null, 1000.00, null, t, null, null, null, null, 29.99, null, null, null, null, t, f, f, null, null, 100, 1, 12, 35.99, 10.00, null, null, null, 29.99, 20.00, 25.99, t, t, 1.000, 15.00, 10, 20.00, null, null, null, null, null, null, null, null, 2025-06-14 20:19:47.155678+01, 2, 2025-06-14 20:19:47.155719+01, KG, null, PAR_LOT, 123456789012, 10x5x5, 750ml, BOTTLE, null, SUP-001, null, Spain, Mediterranean Suppliers Ltd, null, https://www.ldc.com/uy/wp-content/uploads/sites/16/Canola-Oil-sc..., Premium Olive Oil, null, null, null, null, Extra virgin olive oil from Mediterranean region, null, PROD-001, SKU-001, null).
2025-06-14 20:19:47 [http-nio-8087-exec-2] ERROR m.f.o.s.p.service.ProductService - Error creating product: could not execute statement [ERROR: null value in column "is_perishable" of relation "products" violates not-null constraint
  Detail: Failing row contains (null, t, null, null, null, 1000.00, null, t, null, null, null, null, 29.99, null, null, null, null, t, f, f, null, null, 100, 1, 12, 35.99, 10.00, null, null, null, 29.99, 20.00, 25.99, t, t, 1.000, 15.00, 10, 20.00, null, null, null, null, null, null, null, null, 2025-06-14 20:19:47.155678+01, 2, 2025-06-14 20:19:47.155719+01, KG, null, PAR_LOT, 123456789012, 10x5x5, 750ml, BOTTLE, null, SUP-001, null, Spain, Mediterranean Suppliers Ltd, null, https://www.ldc.com/uy/wp-content/uploads/sites/16/Canola-Oil-sc..., Premium Olive Oil, null, null, null, null, Extra virgin olive oil from Mediterranean region, null, PROD-001, SKU-001, null).] [insert into products (additional_photos,availability_schedule,b2b_contract_discount_percentage,b2b_contract_required,b2b_credit_terms,b2b_custom_pricing_enabled,b2b_delivery_lead_time,b2b_minimum_order_value,b2b_payment_methods,b2b_volume_discount_enabled,b2c_display_in_catalog,b2c_featured,b2c_loyalty_points_multiplier,b2c_promo_end_date,b2c_promo_price,b2c_promo_start_date,b2c_rating,b2c_retail_price,b2c_review_count,barcode,bulk_discount_percentage,bulk_discount_threshold,bulk_package_size,bulk_package_unit,certification,country_of_origin,created_at,custom_attributes,customer_segments,deliverable,description,dimensions,inactive,is_bulk_item,is_perishable,is_wholesale_only,maximum_order_quantity,minimum_order_quantity,package_quantity,package_size,photo,price_including_tax,family_code,promo_sku_points,reference,requires_approval,requires_cold_storage,requires_contract,sale_price,sale_unit,seasonality,sku,stock_tracking,supplier_code,supplier_name,target_market,tax_rate,title,unit_price,updated_at,vendable,visible,weight,weight_unit,wholesale_discount_percentage,wholesale_minimum_quantity,wholesale_price,wholesale_tier_1_price,wholesale_tier_1_quantity,wholesale_tier_2_price,wholesale_tier_2_quantity,wholesale_tier_3_price,wholesale_tier_3_quantity) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)]; SQL [insert into products (additional_photos,availability_schedule,b2b_contract_discount_percentage,b2b_contract_required,b2b_credit_terms,b2b_custom_pricing_enabled,b2b_delivery_lead_time,b2b_minimum_order_value,b2b_payment_methods,b2b_volume_discount_enabled,b2c_display_in_catalog,b2c_featured,b2c_loyalty_points_multiplier,b2c_promo_end_date,b2c_promo_price,b2c_promo_start_date,b2c_rating,b2c_retail_price,b2c_review_count,barcode,bulk_discount_percentage,bulk_discount_threshold,bulk_package_size,bulk_package_unit,certification,country_of_origin,created_at,custom_attributes,customer_segments,deliverable,description,dimensions,inactive,is_bulk_item,is_perishable,is_wholesale_only,maximum_order_quantity,minimum_order_quantity,package_quantity,package_size,photo,price_including_tax,family_code,promo_sku_points,reference,requires_approval,requires_cold_storage,requires_contract,sale_price,sale_unit,seasonality,sku,stock_tracking,supplier_code,supplier_name,target_market,tax_rate,title,unit_price,updated_at,vendable,visible,weight,weight_unit,wholesale_discount_percentage,wholesale_minimum_quantity,wholesale_price,wholesale_tier_1_price,wholesale_tier_1_quantity,wholesale_tier_2_price,wholesale_tier_2_quantity,wholesale_tier_3_price,wholesale_tier_3_quantity) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)]; constraint [is_perishable" of relation "products]
org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: null value in column "is_perishable" of relation "products" violates not-null constraint
  Detail: Failing row contains (null, t, null, null, null, 1000.00, null, t, null, null, null, null, 29.99, null, null, null, null, t, f, f, null, null, 100, 1, 12, 35.99, 10.00, null, null, null, 29.99, 20.00, 25.99, t, t, 1.000, 15.00, 10, 20.00, null, null, null, null, null, null, null, null, 2025-06-14 20:19:47.155678+01, 2, 2025-06-14 20:19:47.155719+01, KG, null, PAR_LOT, 123456789012, 10x5x5, 750ml, BOTTLE, null, SUP-001, null, Spain, Mediterranean Suppliers Ltd, null, https://www.ldc.com/uy/wp-content/uploads/sites/16/Canola-Oil-sc..., Premium Olive Oil, null, null, null, null, Extra virgin olive oil from Mediterranean region, null, PROD-001, SKU-001, null).] [insert into products (additional_photos,availability_schedule,b2b_contract_discount_percentage,b2b_contract_required,b2b_credit_terms,b2b_custom_pricing_enabled,b2b_delivery_lead_time,b2b_minimum_order_value,b2b_payment_methods,b2b_volume_discount_enabled,b2c_display_in_catalog,b2c_featured,b2c_loyalty_points_multiplier,b2c_promo_end_date,b2c_promo_price,b2c_promo_start_date,b2c_rating,b2c_retail_price,b2c_review_count,barcode,bulk_discount_percentage,bulk_discount_threshold,bulk_package_size,bulk_package_unit,certification,country_of_origin,created_at,custom_attributes,customer_segments,deliverable,description,dimensions,inactive,is_bulk_item,is_perishable,is_wholesale_only,maximum_order_quantity,minimum_order_quantity,package_quantity,package_size,photo,price_including_tax,family_code,promo_sku_points,reference,requires_approval,requires_cold_storage,requires_contract,sale_price,sale_unit,seasonality,sku,stock_tracking,supplier_code,supplier_name,target_market,tax_rate,title,unit_price,updated_at,vendable,visible,weight,weight_unit,wholesale_discount_percentage,wholesale_minimum_quantity,wholesale_price,wholesale_tier_1_price,wholesale_tier_1_quantity,wholesale_tier_2_price,wholesale_tier_2_quantity,wholesale_tier_3_price,wholesale_tier_3_quantity) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)]; SQL [insert into products (additional_photos,availability_schedule,b2b_contract_discount_percentage,b2b_contract_required,b2b_credit_terms,b2b_custom_pricing_enabled,b2b_delivery_lead_time,b2b_minimum_order_value,b2b_payment_methods,b2b_volume_discount_enabled,b2c_display_in_catalog,b2c_featured,b2c_loyalty_points_multiplier,b2c_promo_end_date,b2c_promo_price,b2c_promo_start_date,b2c_rating,b2c_retail_price,b2c_review_count,barcode,bulk_discount_percentage,bulk_discount_threshold,bulk_package_size,bulk_package_unit,certification,country_of_origin,created_at,custom_attributes,customer_segments,deliverable,description,dimensions,inactive,is_bulk_item,is_perishable,is_wholesale_only,maximum_order_quantity,minimum_order_quantity,package_quantity,package_size,photo,price_including_tax,family_code,promo_sku_points,reference,requires_approval,requires_cold_storage,requires_contract,sale_price,sale_unit,seasonality,sku,stock_tracking,supplier_code,supplier_name,target_market,tax_rate,title,unit_price,updated_at,vendable,visible,weight,weight_unit,wholesale_discount_percentage,wholesale_minimum_quantity,wholesale_price,wholesale_tier_1_price,wholesale_tier_1_quantity,wholesale_tier_2_price,wholesale_tier_2_quantity,wholesale_tier_3_price,wholesale_tier_3_quantity) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)]; constraint [is_perishable" of relation "products]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:294)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:165)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy2/jdk.proxy2.$Proxy218.save(Unknown Source)
	at ma.foodplus.ordering.system.product.service.ProductService.createProduct(ProductService.java:48)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.cache.interceptor.CacheInterceptor.lambda$invoke$0(CacheInterceptor.java:55)
	at org.springframework.cache.interceptor.CacheAspectSupport.invokeOperation(CacheAspectSupport.java:431)
	at org.springframework.cache.interceptor.CacheAspectSupport.evaluate(CacheAspectSupport.java:601)
	at org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:448)
	at org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:410)
	at org.springframework.cache.interceptor.CacheInterceptor.invoke(CacheInterceptor.java:65)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at ma.foodplus.ordering.system.product.service.ProductService$$SpringCGLIB$$0.createProduct(<generated>)
	at ma.foodplus.ordering.system.product.controller.ProductController.createProduct(ProductController.java:65)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.cache.interceptor.CacheInterceptor.lambda$invoke$0(CacheInterceptor.java:55)
	at org.springframework.cache.interceptor.CacheAspectSupport.invokeOperation(CacheAspectSupport.java:431)
	at org.springframework.cache.interceptor.CacheAspectSupport.evaluate(CacheAspectSupport.java:601)
	at org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:448)
	at org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:410)
	at org.springframework.cache.interceptor.CacheInterceptor.invoke(CacheInterceptor.java:65)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at ma.foodplus.ordering.system.product.controller.ProductController$$SpringCGLIB$$0.createProduct(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:114)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: org.hibernate.exception.ConstraintViolationException: could not execute statement [ERROR: null value in column "is_perishable" of relation "products" violates not-null constraint
  Detail: Failing row contains (null, t, null, null, null, 1000.00, null, t, null, null, null, null, 29.99, null, null, null, null, t, f, f, null, null, 100, 1, 12, 35.99, 10.00, null, null, null, 29.99, 20.00, 25.99, t, t, 1.000, 15.00, 10, 20.00, null, null, null, null, null, null, null, null, 2025-06-14 20:19:47.155678+01, 2, 2025-06-14 20:19:47.155719+01, KG, null, PAR_LOT, 123456789012, 10x5x5, 750ml, BOTTLE, null, SUP-001, null, Spain, Mediterranean Suppliers Ltd, null, https://www.ldc.com/uy/wp-content/uploads/sites/16/Canola-Oil-sc..., Premium Olive Oil, null, null, null, null, Extra virgin olive oil from Mediterranean region, null, PROD-001, SKU-001, null).] [insert into products (additional_photos,availability_schedule,b2b_contract_discount_percentage,b2b_contract_required,b2b_credit_terms,b2b_custom_pricing_enabled,b2b_delivery_lead_time,b2b_minimum_order_value,b2b_payment_methods,b2b_volume_discount_enabled,b2c_display_in_catalog,b2c_featured,b2c_loyalty_points_multiplier,b2c_promo_end_date,b2c_promo_price,b2c_promo_start_date,b2c_rating,b2c_retail_price,b2c_review_count,barcode,bulk_discount_percentage,bulk_discount_threshold,bulk_package_size,bulk_package_unit,certification,country_of_origin,created_at,custom_attributes,customer_segments,deliverable,description,dimensions,inactive,is_bulk_item,is_perishable,is_wholesale_only,maximum_order_quantity,minimum_order_quantity,package_quantity,package_size,photo,price_including_tax,family_code,promo_sku_points,reference,requires_approval,requires_cold_storage,requires_contract,sale_price,sale_unit,seasonality,sku,stock_tracking,supplier_code,supplier_name,target_market,tax_rate,title,unit_price,updated_at,vendable,visible,weight,weight_unit,wholesale_discount_percentage,wholesale_minimum_quantity,wholesale_price,wholesale_tier_1_price,wholesale_tier_1_quantity,wholesale_tier_2_price,wholesale_tier_2_quantity,wholesale_tier_3_price,wholesale_tier_3_quantity) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:97)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)
	at org.hibernate.id.insert.GetGeneratedKeysDelegate.performMutation(GetGeneratedKeysDelegate.java:116)
	at org.hibernate.engine.jdbc.mutation.internal.MutationExecutorSingleNonBatched.performNonBatchedOperations(MutationExecutorSingleNonBatched.java:47)
	at org.hibernate.engine.jdbc.mutation.internal.AbstractMutationExecutor.execute(AbstractMutationExecutor.java:55)
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.doStaticInserts(InsertCoordinatorStandard.java:194)
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.coordinateInsert(InsertCoordinatorStandard.java:132)
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.insert(InsertCoordinatorStandard.java:95)
	at org.hibernate.action.internal.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:85)
	at org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:682)
	at org.hibernate.engine.spi.ActionQueue.addResolvedEntityInsertAction(ActionQueue.java:293)
	at org.hibernate.engine.spi.ActionQueue.addInsertAction(ActionQueue.java:274)
	at org.hibernate.engine.spi.ActionQueue.addAction(ActionQueue.java:324)
	at org.hibernate.event.internal.AbstractSaveEventListener.addInsertAction(AbstractSaveEventListener.java:394)
	at org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:308)
	at org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:224)
	at org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:136)
	at org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:177)
	at org.hibernate.event.internal.DefaultPersistEventListener.persist(DefaultPersistEventListener.java:95)
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:79)
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:55)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)
	at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:761)
	at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:745)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:364)
	at jdk.proxy2/jdk.proxy2.$Proxy202.persist(Unknown Source)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:320)
	at jdk.proxy2/jdk.proxy2.$Proxy202.persist(Unknown Source)
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:651)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:277)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:515)
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:284)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:734)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:174)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 90 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERROR: null value in column "is_perishable" of relation "products" violates not-null constraint
  Detail: Failing row contains (null, t, null, null, null, 1000.00, null, t, null, null, null, null, 29.99, null, null, null, null, t, f, f, null, null, 100, 1, 12, 35.99, 10.00, null, null, null, 29.99, 20.00, 25.99, t, t, 1.000, 15.00, 10, 20.00, null, null, null, null, null, null, null, null, 2025-06-14 20:19:47.155678+01, 2, 2025-06-14 20:19:47.155719+01, KG, null, PAR_LOT, 123456789012, 10x5x5, 750ml, BOTTLE, null, SUP-001, null, Spain, Mediterranean Suppliers Ltd, null, https://www.ldc.com/uy/wp-content/uploads/sites/16/Canola-Oil-sc..., Premium Olive Oil, null, null, null, null, Extra virgin olive oil from Mediterranean region, null, PROD-001, SKU-001, null).
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:155)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:194)
	... 140 common frames omitted
2025-06-14 20:19:47 [http-nio-8087-exec-2] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Failure in @ExceptionHandler ma.foodplus.ordering.system.product.exception.ProductExceptionHandler#handleProductCreationException(ProductAlreadyExistsException)
java.lang.IllegalStateException: Could not resolve parameter [0] in public org.springframework.http.ResponseEntity<ma.foodplus.ordering.system.product.exception.ProductExceptionHandler$ErrorResponse> ma.foodplus.ordering.system.product.exception.ProductExceptionHandler.handleProductCreationException(ma.foodplus.ordering.system.product.exception.ProductAlreadyExistsException): No suitable resolver
	at org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:224)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:181)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver.doResolveHandlerMethodException(ExceptionHandlerExceptionResolver.java:471)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodExceptionResolver.doResolveException(AbstractHandlerMethodExceptionResolver.java:73)
	at org.springframework.web.servlet.handler.AbstractHandlerExceptionResolver.resolveException(AbstractHandlerExceptionResolver.java:182)
	at org.springframework.web.servlet.handler.HandlerExceptionResolverComposite.resolveException(HandlerExceptionResolverComposite.java:80)
	at org.springframework.web.servlet.DispatcherServlet.processHandlerException(DispatcherServlet.java:1359)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1161)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1106)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:114)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-06-14 20:19:47 [http-nio-8087-exec-2] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: ma.foodplus.ordering.system.product.exception.ProductCreationException: Failed to create product: could not execute statement [ERROR: null value in column "is_perishable" of relation "products" violates not-null constraint
  Detail: Failing row contains (null, t, null, null, null, 1000.00, null, t, null, null, null, null, 29.99, null, null, null, null, t, f, f, null, null, 100, 1, 12, 35.99, 10.00, null, null, null, 29.99, 20.00, 25.99, t, t, 1.000, 15.00, 10, 20.00, null, null, null, null, null, null, null, null, 2025-06-14 20:19:47.155678+01, 2, 2025-06-14 20:19:47.155719+01, KG, null, PAR_LOT, 123456789012, 10x5x5, 750ml, BOTTLE, null, SUP-001, null, Spain, Mediterranean Suppliers Ltd, null, https://www.ldc.com/uy/wp-content/uploads/sites/16/Canola-Oil-sc..., Premium Olive Oil, null, null, null, null, Extra virgin olive oil from Mediterranean region, null, PROD-001, SKU-001, null).] [insert into products (additional_photos,availability_schedule,b2b_contract_discount_percentage,b2b_contract_required,b2b_credit_terms,b2b_custom_pricing_enabled,b2b_delivery_lead_time,b2b_minimum_order_value,b2b_payment_methods,b2b_volume_discount_enabled,b2c_display_in_catalog,b2c_featured,b2c_loyalty_points_multiplier,b2c_promo_end_date,b2c_promo_price,b2c_promo_start_date,b2c_rating,b2c_retail_price,b2c_review_count,barcode,bulk_discount_percentage,bulk_discount_threshold,bulk_package_size,bulk_package_unit,certification,country_of_origin,created_at,custom_attributes,customer_segments,deliverable,description,dimensions,inactive,is_bulk_item,is_perishable,is_wholesale_only,maximum_order_quantity,minimum_order_quantity,package_quantity,package_size,photo,price_including_tax,family_code,promo_sku_points,reference,requires_approval,requires_cold_storage,requires_contract,sale_price,sale_unit,seasonality,sku,stock_tracking,supplier_code,supplier_name,target_market,tax_rate,title,unit_price,updated_at,vendable,visible,weight,weight_unit,wholesale_discount_percentage,wholesale_minimum_quantity,wholesale_price,wholesale_tier_1_price,wholesale_tier_1_quantity,wholesale_tier_2_price,wholesale_tier_2_quantity,wholesale_tier_3_price,wholesale_tier_3_quantity) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)]; SQL [insert into products (additional_photos,availability_schedule,b2b_contract_discount_percentage,b2b_contract_required,b2b_credit_terms,b2b_custom_pricing_enabled,b2b_delivery_lead_time,b2b_minimum_order_value,b2b_payment_methods,b2b_volume_discount_enabled,b2c_display_in_catalog,b2c_featured,b2c_loyalty_points_multiplier,b2c_promo_end_date,b2c_promo_price,b2c_promo_start_date,b2c_rating,b2c_retail_price,b2c_review_count,barcode,bulk_discount_percentage,bulk_discount_threshold,bulk_package_size,bulk_package_unit,certification,country_of_origin,created_at,custom_attributes,customer_segments,deliverable,description,dimensions,inactive,is_bulk_item,is_perishable,is_wholesale_only,maximum_order_quantity,minimum_order_quantity,package_quantity,package_size,photo,price_including_tax,family_code,promo_sku_points,reference,requires_approval,requires_cold_storage,requires_contract,sale_price,sale_unit,seasonality,sku,stock_tracking,supplier_code,supplier_name,target_market,tax_rate,title,unit_price,updated_at,vendable,visible,weight,weight_unit,wholesale_discount_percentage,wholesale_minimum_quantity,wholesale_price,wholesale_tier_1_price,wholesale_tier_1_quantity,wholesale_tier_2_price,wholesale_tier_2_quantity,wholesale_tier_3_price,wholesale_tier_3_quantity) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)]; constraint [is_perishable" of relation "products]] with root cause
ma.foodplus.ordering.system.product.exception.ProductCreationException: Failed to create product: could not execute statement [ERROR: null value in column "is_perishable" of relation "products" violates not-null constraint
  Detail: Failing row contains (null, t, null, null, null, 1000.00, null, t, null, null, null, null, 29.99, null, null, null, null, t, f, f, null, null, 100, 1, 12, 35.99, 10.00, null, null, null, 29.99, 20.00, 25.99, t, t, 1.000, 15.00, 10, 20.00, null, null, null, null, null, null, null, null, 2025-06-14 20:19:47.155678+01, 2, 2025-06-14 20:19:47.155719+01, KG, null, PAR_LOT, 123456789012, 10x5x5, 750ml, BOTTLE, null, SUP-001, null, Spain, Mediterranean Suppliers Ltd, null, https://www.ldc.com/uy/wp-content/uploads/sites/16/Canola-Oil-sc..., Premium Olive Oil, null, null, null, null, Extra virgin olive oil from Mediterranean region, null, PROD-001, SKU-001, null).] [insert into products (additional_photos,availability_schedule,b2b_contract_discount_percentage,b2b_contract_required,b2b_credit_terms,b2b_custom_pricing_enabled,b2b_delivery_lead_time,b2b_minimum_order_value,b2b_payment_methods,b2b_volume_discount_enabled,b2c_display_in_catalog,b2c_featured,b2c_loyalty_points_multiplier,b2c_promo_end_date,b2c_promo_price,b2c_promo_start_date,b2c_rating,b2c_retail_price,b2c_review_count,barcode,bulk_discount_percentage,bulk_discount_threshold,bulk_package_size,bulk_package_unit,certification,country_of_origin,created_at,custom_attributes,customer_segments,deliverable,description,dimensions,inactive,is_bulk_item,is_perishable,is_wholesale_only,maximum_order_quantity,minimum_order_quantity,package_quantity,package_size,photo,price_including_tax,family_code,promo_sku_points,reference,requires_approval,requires_cold_storage,requires_contract,sale_price,sale_unit,seasonality,sku,stock_tracking,supplier_code,supplier_name,target_market,tax_rate,title,unit_price,updated_at,vendable,visible,weight,weight_unit,wholesale_discount_percentage,wholesale_minimum_quantity,wholesale_price,wholesale_tier_1_price,wholesale_tier_1_quantity,wholesale_tier_2_price,wholesale_tier_2_quantity,wholesale_tier_3_price,wholesale_tier_3_quantity) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)]; SQL [insert into products (additional_photos,availability_schedule,b2b_contract_discount_percentage,b2b_contract_required,b2b_credit_terms,b2b_custom_pricing_enabled,b2b_delivery_lead_time,b2b_minimum_order_value,b2b_payment_methods,b2b_volume_discount_enabled,b2c_display_in_catalog,b2c_featured,b2c_loyalty_points_multiplier,b2c_promo_end_date,b2c_promo_price,b2c_promo_start_date,b2c_rating,b2c_retail_price,b2c_review_count,barcode,bulk_discount_percentage,bulk_discount_threshold,bulk_package_size,bulk_package_unit,certification,country_of_origin,created_at,custom_attributes,customer_segments,deliverable,description,dimensions,inactive,is_bulk_item,is_perishable,is_wholesale_only,maximum_order_quantity,minimum_order_quantity,package_quantity,package_size,photo,price_including_tax,family_code,promo_sku_points,reference,requires_approval,requires_cold_storage,requires_contract,sale_price,sale_unit,seasonality,sku,stock_tracking,supplier_code,supplier_name,target_market,tax_rate,title,unit_price,updated_at,vendable,visible,weight,weight_unit,wholesale_discount_percentage,wholesale_minimum_quantity,wholesale_price,wholesale_tier_1_price,wholesale_tier_1_quantity,wholesale_tier_2_price,wholesale_tier_2_quantity,wholesale_tier_3_price,wholesale_tier_3_quantity) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)]; constraint [is_perishable" of relation "products]
	at ma.foodplus.ordering.system.product.service.ProductService.createProduct(ProductService.java:52)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.cache.interceptor.CacheInterceptor.lambda$invoke$0(CacheInterceptor.java:55)
	at org.springframework.cache.interceptor.CacheAspectSupport.invokeOperation(CacheAspectSupport.java:431)
	at org.springframework.cache.interceptor.CacheAspectSupport.evaluate(CacheAspectSupport.java:601)
	at org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:448)
	at org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:410)
	at org.springframework.cache.interceptor.CacheInterceptor.invoke(CacheInterceptor.java:65)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at ma.foodplus.ordering.system.product.service.ProductService$$SpringCGLIB$$0.createProduct(<generated>)
	at ma.foodplus.ordering.system.product.controller.ProductController.createProduct(ProductController.java:65)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.cache.interceptor.CacheInterceptor.lambda$invoke$0(CacheInterceptor.java:55)
	at org.springframework.cache.interceptor.CacheAspectSupport.invokeOperation(CacheAspectSupport.java:431)
	at org.springframework.cache.interceptor.CacheAspectSupport.evaluate(CacheAspectSupport.java:601)
	at org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:448)
	at org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:410)
	at org.springframework.cache.interceptor.CacheInterceptor.invoke(CacheInterceptor.java:65)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at ma.foodplus.ordering.system.product.controller.ProductController$$SpringCGLIB$$0.createProduct(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:114)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-06-14 20:20:23 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-06-14 20:20:23 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-06-14 20:20:23 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-06-14 20:20:23 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-06-14 20:20:23 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-06-14 20:20:28 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - Starting FoodPlusOrderingApplication using Java 21.0.7 with PID 491180 (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes started by louki in /home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system)
2025-06-14 20:20:28 [main] DEBUG m.f.o.s.FoodPlusOrderingApplication - Running with Spring Boot v3.5.0, Spring v6.2.7
2025-06-14 20:20:28 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - The following 1 profile is active: "dev"
2025-06-14 20:20:29 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-14 20:20:29 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-14 20:20:29 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 135 ms. Found 12 JPA repository interfaces.
2025-06-14 20:20:30 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-14 20:20:30 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-06-14 20:20:30 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.common.repository.CategoryTarifRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 20:20:30 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.CustomerGroupRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 20:20:30 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.CustomerRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 20:20:30 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.ProductCustomerRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 20:20:30 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.DepotRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 20:20:30 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.ProductStockRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 20:20:30 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.SiteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 20:20:30 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.order.repository.OrderRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 20:20:30 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.product.repository.CategoryRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 20:20:30 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.product.repository.ProductAuditRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 20:20:30 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.product.repository.ProductRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 20:20:30 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.promos.repository.PromotionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 20:20:30 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 26 ms. Found 0 Redis repository interfaces.
2025-06-14 20:20:31 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8087 (http)
2025-06-14 20:20:31 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-14 20:20:31 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.41]
2025-06-14 20:20:31 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-14 20:20:31 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2934 ms
2025-06-14 20:20:31 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-06-14 20:20:31 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@745cf754
2025-06-14 20:20:31 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-06-14 20:20:31 [main] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://10.113.181.84:5432/foodplus_ordering (PostgreSQL 17.5)
2025-06-14 20:20:31 [main] INFO  o.f.core.internal.command.DbValidate - Successfully validated 6 migrations (execution time 00:00.030s)
2025-06-14 20:20:32 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "public": 1.7.2
2025-06-14 20:20:32 [main] WARN  o.f.core.internal.command.DbMigrate - outOfOrder mode is active. Migration of schema "public" may not be reproducible.
2025-06-14 20:20:32 [main] INFO  o.f.core.internal.command.DbMigrate - Schema "public" is up to date. No migration necessary.
2025-06-14 20:20:32 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-06-14 20:20:32 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.15.Final
2025-06-14 20:20:32 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-06-14 20:20:32 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-06-14 20:20:32 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 17.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-06-14 20:20:32 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-06-14 20:20:33 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-06-14 20:20:33 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-06-14 20:20:34 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-06-14 20:20:37 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-06-14 20:20:37 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 4 endpoints beneath base path '/actuator'
2025-06-14 20:20:37 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8087 (http) with context path '/'
2025-06-14 20:20:37 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - Started FoodPlusOrderingApplication in 10.379 seconds (process running for 10.888)
2025-06-14 20:20:37 [main] INFO  m.f.o.s.p.s.CacheWarmingService - Starting cache warm-up...
2025-06-14 20:20:37 [main] INFO  m.f.o.s.p.service.ProductService - Getting all products
2025-06-14 20:20:38 [main] INFO  m.f.o.s.p.s.CacheWarmingService - Warmed up all products cache
2025-06-14 20:20:38 [main] INFO  m.f.o.s.p.s.CacheWarmingService - Warmed up deliverable products cache
2025-06-14 20:20:38 [main] INFO  m.f.o.s.p.s.CacheWarmingService - Warmed up active products cache
2025-06-14 20:20:38 [main] INFO  m.f.o.s.p.s.CacheWarmingService - Cache warm-up completed
2025-06-14 20:20:55 [http-nio-8087-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-06-14 20:20:55 [http-nio-8087-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-06-14 20:20:55 [http-nio-8087-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-06-14 20:20:55 [http-nio-8087-exec-2] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23502
2025-06-14 20:20:55 [http-nio-8087-exec-2] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: null value in column "is_wholesale_only" of relation "products" violates not-null constraint
  Detail: Failing row contains (null, t, null, null, null, 1000.00, null, t, null, null, null, null, 29.99, null, null, null, null, t, f, f, f, null, 100, 1, 12, 35.99, 10.00, null, null, null, 29.99, 20.00, 25.99, t, t, 1.000, 15.00, 10, 20.00, null, null, null, null, null, null, null, null, 2025-06-14 20:20:55.421736+01, 3, 2025-06-14 20:20:55.421776+01, KG, null, PAR_LOT, 123456789012, 10x5x5, 750ml, BOTTLE, null, SUP-001, null, Spain, Mediterranean Suppliers Ltd, null, https://www.ldc.com/uy/wp-content/uploads/sites/16/Canola-Oil-sc..., Premium Olive Oil, null, null, null, null, Extra virgin olive oil from Mediterranean region, null, PROD-001, SKU-001, null).
2025-06-14 20:20:55 [http-nio-8087-exec-2] ERROR m.f.o.s.p.service.ProductService - Error creating product: could not execute statement [ERROR: null value in column "is_wholesale_only" of relation "products" violates not-null constraint
  Detail: Failing row contains (null, t, null, null, null, 1000.00, null, t, null, null, null, null, 29.99, null, null, null, null, t, f, f, f, null, 100, 1, 12, 35.99, 10.00, null, null, null, 29.99, 20.00, 25.99, t, t, 1.000, 15.00, 10, 20.00, null, null, null, null, null, null, null, null, 2025-06-14 20:20:55.421736+01, 3, 2025-06-14 20:20:55.421776+01, KG, null, PAR_LOT, 123456789012, 10x5x5, 750ml, BOTTLE, null, SUP-001, null, Spain, Mediterranean Suppliers Ltd, null, https://www.ldc.com/uy/wp-content/uploads/sites/16/Canola-Oil-sc..., Premium Olive Oil, null, null, null, null, Extra virgin olive oil from Mediterranean region, null, PROD-001, SKU-001, null).] [insert into products (additional_photos,availability_schedule,b2b_contract_discount_percentage,b2b_contract_required,b2b_credit_terms,b2b_custom_pricing_enabled,b2b_delivery_lead_time,b2b_minimum_order_value,b2b_payment_methods,b2b_volume_discount_enabled,b2c_display_in_catalog,b2c_featured,b2c_loyalty_points_multiplier,b2c_promo_end_date,b2c_promo_price,b2c_promo_start_date,b2c_rating,b2c_retail_price,b2c_review_count,barcode,bulk_discount_percentage,bulk_discount_threshold,bulk_package_size,bulk_package_unit,certification,country_of_origin,created_at,custom_attributes,customer_segments,deliverable,description,dimensions,inactive,is_bulk_item,is_perishable,is_wholesale_only,maximum_order_quantity,minimum_order_quantity,package_quantity,package_size,photo,price_including_tax,family_code,promo_sku_points,reference,requires_approval,requires_cold_storage,requires_contract,sale_price,sale_unit,seasonality,sku,stock_tracking,supplier_code,supplier_name,target_market,tax_rate,title,unit_price,updated_at,vendable,visible,weight,weight_unit,wholesale_discount_percentage,wholesale_minimum_quantity,wholesale_price,wholesale_tier_1_price,wholesale_tier_1_quantity,wholesale_tier_2_price,wholesale_tier_2_quantity,wholesale_tier_3_price,wholesale_tier_3_quantity) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)]; SQL [insert into products (additional_photos,availability_schedule,b2b_contract_discount_percentage,b2b_contract_required,b2b_credit_terms,b2b_custom_pricing_enabled,b2b_delivery_lead_time,b2b_minimum_order_value,b2b_payment_methods,b2b_volume_discount_enabled,b2c_display_in_catalog,b2c_featured,b2c_loyalty_points_multiplier,b2c_promo_end_date,b2c_promo_price,b2c_promo_start_date,b2c_rating,b2c_retail_price,b2c_review_count,barcode,bulk_discount_percentage,bulk_discount_threshold,bulk_package_size,bulk_package_unit,certification,country_of_origin,created_at,custom_attributes,customer_segments,deliverable,description,dimensions,inactive,is_bulk_item,is_perishable,is_wholesale_only,maximum_order_quantity,minimum_order_quantity,package_quantity,package_size,photo,price_including_tax,family_code,promo_sku_points,reference,requires_approval,requires_cold_storage,requires_contract,sale_price,sale_unit,seasonality,sku,stock_tracking,supplier_code,supplier_name,target_market,tax_rate,title,unit_price,updated_at,vendable,visible,weight,weight_unit,wholesale_discount_percentage,wholesale_minimum_quantity,wholesale_price,wholesale_tier_1_price,wholesale_tier_1_quantity,wholesale_tier_2_price,wholesale_tier_2_quantity,wholesale_tier_3_price,wholesale_tier_3_quantity) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)]; constraint [is_wholesale_only" of relation "products]
org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: null value in column "is_wholesale_only" of relation "products" violates not-null constraint
  Detail: Failing row contains (null, t, null, null, null, 1000.00, null, t, null, null, null, null, 29.99, null, null, null, null, t, f, f, f, null, 100, 1, 12, 35.99, 10.00, null, null, null, 29.99, 20.00, 25.99, t, t, 1.000, 15.00, 10, 20.00, null, null, null, null, null, null, null, null, 2025-06-14 20:20:55.421736+01, 3, 2025-06-14 20:20:55.421776+01, KG, null, PAR_LOT, 123456789012, 10x5x5, 750ml, BOTTLE, null, SUP-001, null, Spain, Mediterranean Suppliers Ltd, null, https://www.ldc.com/uy/wp-content/uploads/sites/16/Canola-Oil-sc..., Premium Olive Oil, null, null, null, null, Extra virgin olive oil from Mediterranean region, null, PROD-001, SKU-001, null).] [insert into products (additional_photos,availability_schedule,b2b_contract_discount_percentage,b2b_contract_required,b2b_credit_terms,b2b_custom_pricing_enabled,b2b_delivery_lead_time,b2b_minimum_order_value,b2b_payment_methods,b2b_volume_discount_enabled,b2c_display_in_catalog,b2c_featured,b2c_loyalty_points_multiplier,b2c_promo_end_date,b2c_promo_price,b2c_promo_start_date,b2c_rating,b2c_retail_price,b2c_review_count,barcode,bulk_discount_percentage,bulk_discount_threshold,bulk_package_size,bulk_package_unit,certification,country_of_origin,created_at,custom_attributes,customer_segments,deliverable,description,dimensions,inactive,is_bulk_item,is_perishable,is_wholesale_only,maximum_order_quantity,minimum_order_quantity,package_quantity,package_size,photo,price_including_tax,family_code,promo_sku_points,reference,requires_approval,requires_cold_storage,requires_contract,sale_price,sale_unit,seasonality,sku,stock_tracking,supplier_code,supplier_name,target_market,tax_rate,title,unit_price,updated_at,vendable,visible,weight,weight_unit,wholesale_discount_percentage,wholesale_minimum_quantity,wholesale_price,wholesale_tier_1_price,wholesale_tier_1_quantity,wholesale_tier_2_price,wholesale_tier_2_quantity,wholesale_tier_3_price,wholesale_tier_3_quantity) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)]; SQL [insert into products (additional_photos,availability_schedule,b2b_contract_discount_percentage,b2b_contract_required,b2b_credit_terms,b2b_custom_pricing_enabled,b2b_delivery_lead_time,b2b_minimum_order_value,b2b_payment_methods,b2b_volume_discount_enabled,b2c_display_in_catalog,b2c_featured,b2c_loyalty_points_multiplier,b2c_promo_end_date,b2c_promo_price,b2c_promo_start_date,b2c_rating,b2c_retail_price,b2c_review_count,barcode,bulk_discount_percentage,bulk_discount_threshold,bulk_package_size,bulk_package_unit,certification,country_of_origin,created_at,custom_attributes,customer_segments,deliverable,description,dimensions,inactive,is_bulk_item,is_perishable,is_wholesale_only,maximum_order_quantity,minimum_order_quantity,package_quantity,package_size,photo,price_including_tax,family_code,promo_sku_points,reference,requires_approval,requires_cold_storage,requires_contract,sale_price,sale_unit,seasonality,sku,stock_tracking,supplier_code,supplier_name,target_market,tax_rate,title,unit_price,updated_at,vendable,visible,weight,weight_unit,wholesale_discount_percentage,wholesale_minimum_quantity,wholesale_price,wholesale_tier_1_price,wholesale_tier_1_quantity,wholesale_tier_2_price,wholesale_tier_2_quantity,wholesale_tier_3_price,wholesale_tier_3_quantity) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)]; constraint [is_wholesale_only" of relation "products]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:294)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:165)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy2/jdk.proxy2.$Proxy218.save(Unknown Source)
	at ma.foodplus.ordering.system.product.service.ProductService.createProduct(ProductService.java:48)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.cache.interceptor.CacheInterceptor.lambda$invoke$0(CacheInterceptor.java:55)
	at org.springframework.cache.interceptor.CacheAspectSupport.invokeOperation(CacheAspectSupport.java:431)
	at org.springframework.cache.interceptor.CacheAspectSupport.evaluate(CacheAspectSupport.java:601)
	at org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:448)
	at org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:410)
	at org.springframework.cache.interceptor.CacheInterceptor.invoke(CacheInterceptor.java:65)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at ma.foodplus.ordering.system.product.service.ProductService$$SpringCGLIB$$0.createProduct(<generated>)
	at ma.foodplus.ordering.system.product.controller.ProductController.createProduct(ProductController.java:65)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.cache.interceptor.CacheInterceptor.lambda$invoke$0(CacheInterceptor.java:55)
	at org.springframework.cache.interceptor.CacheAspectSupport.invokeOperation(CacheAspectSupport.java:431)
	at org.springframework.cache.interceptor.CacheAspectSupport.evaluate(CacheAspectSupport.java:601)
	at org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:448)
	at org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:410)
	at org.springframework.cache.interceptor.CacheInterceptor.invoke(CacheInterceptor.java:65)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at ma.foodplus.ordering.system.product.controller.ProductController$$SpringCGLIB$$0.createProduct(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:114)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: org.hibernate.exception.ConstraintViolationException: could not execute statement [ERROR: null value in column "is_wholesale_only" of relation "products" violates not-null constraint
  Detail: Failing row contains (null, t, null, null, null, 1000.00, null, t, null, null, null, null, 29.99, null, null, null, null, t, f, f, f, null, 100, 1, 12, 35.99, 10.00, null, null, null, 29.99, 20.00, 25.99, t, t, 1.000, 15.00, 10, 20.00, null, null, null, null, null, null, null, null, 2025-06-14 20:20:55.421736+01, 3, 2025-06-14 20:20:55.421776+01, KG, null, PAR_LOT, 123456789012, 10x5x5, 750ml, BOTTLE, null, SUP-001, null, Spain, Mediterranean Suppliers Ltd, null, https://www.ldc.com/uy/wp-content/uploads/sites/16/Canola-Oil-sc..., Premium Olive Oil, null, null, null, null, Extra virgin olive oil from Mediterranean region, null, PROD-001, SKU-001, null).] [insert into products (additional_photos,availability_schedule,b2b_contract_discount_percentage,b2b_contract_required,b2b_credit_terms,b2b_custom_pricing_enabled,b2b_delivery_lead_time,b2b_minimum_order_value,b2b_payment_methods,b2b_volume_discount_enabled,b2c_display_in_catalog,b2c_featured,b2c_loyalty_points_multiplier,b2c_promo_end_date,b2c_promo_price,b2c_promo_start_date,b2c_rating,b2c_retail_price,b2c_review_count,barcode,bulk_discount_percentage,bulk_discount_threshold,bulk_package_size,bulk_package_unit,certification,country_of_origin,created_at,custom_attributes,customer_segments,deliverable,description,dimensions,inactive,is_bulk_item,is_perishable,is_wholesale_only,maximum_order_quantity,minimum_order_quantity,package_quantity,package_size,photo,price_including_tax,family_code,promo_sku_points,reference,requires_approval,requires_cold_storage,requires_contract,sale_price,sale_unit,seasonality,sku,stock_tracking,supplier_code,supplier_name,target_market,tax_rate,title,unit_price,updated_at,vendable,visible,weight,weight_unit,wholesale_discount_percentage,wholesale_minimum_quantity,wholesale_price,wholesale_tier_1_price,wholesale_tier_1_quantity,wholesale_tier_2_price,wholesale_tier_2_quantity,wholesale_tier_3_price,wholesale_tier_3_quantity) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:97)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)
	at org.hibernate.id.insert.GetGeneratedKeysDelegate.performMutation(GetGeneratedKeysDelegate.java:116)
	at org.hibernate.engine.jdbc.mutation.internal.MutationExecutorSingleNonBatched.performNonBatchedOperations(MutationExecutorSingleNonBatched.java:47)
	at org.hibernate.engine.jdbc.mutation.internal.AbstractMutationExecutor.execute(AbstractMutationExecutor.java:55)
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.doStaticInserts(InsertCoordinatorStandard.java:194)
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.coordinateInsert(InsertCoordinatorStandard.java:132)
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.insert(InsertCoordinatorStandard.java:95)
	at org.hibernate.action.internal.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:85)
	at org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:682)
	at org.hibernate.engine.spi.ActionQueue.addResolvedEntityInsertAction(ActionQueue.java:293)
	at org.hibernate.engine.spi.ActionQueue.addInsertAction(ActionQueue.java:274)
	at org.hibernate.engine.spi.ActionQueue.addAction(ActionQueue.java:324)
	at org.hibernate.event.internal.AbstractSaveEventListener.addInsertAction(AbstractSaveEventListener.java:394)
	at org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:308)
	at org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:224)
	at org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:136)
	at org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:177)
	at org.hibernate.event.internal.DefaultPersistEventListener.persist(DefaultPersistEventListener.java:95)
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:79)
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:55)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)
	at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:761)
	at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:745)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:364)
	at jdk.proxy2/jdk.proxy2.$Proxy202.persist(Unknown Source)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:320)
	at jdk.proxy2/jdk.proxy2.$Proxy202.persist(Unknown Source)
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:651)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:277)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:515)
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:284)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:734)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:174)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 90 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERROR: null value in column "is_wholesale_only" of relation "products" violates not-null constraint
  Detail: Failing row contains (null, t, null, null, null, 1000.00, null, t, null, null, null, null, 29.99, null, null, null, null, t, f, f, f, null, 100, 1, 12, 35.99, 10.00, null, null, null, 29.99, 20.00, 25.99, t, t, 1.000, 15.00, 10, 20.00, null, null, null, null, null, null, null, null, 2025-06-14 20:20:55.421736+01, 3, 2025-06-14 20:20:55.421776+01, KG, null, PAR_LOT, 123456789012, 10x5x5, 750ml, BOTTLE, null, SUP-001, null, Spain, Mediterranean Suppliers Ltd, null, https://www.ldc.com/uy/wp-content/uploads/sites/16/Canola-Oil-sc..., Premium Olive Oil, null, null, null, null, Extra virgin olive oil from Mediterranean region, null, PROD-001, SKU-001, null).
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:155)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:194)
	... 140 common frames omitted
2025-06-14 20:20:55 [http-nio-8087-exec-2] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Failure in @ExceptionHandler ma.foodplus.ordering.system.product.exception.ProductExceptionHandler#handleProductCreationException(ProductAlreadyExistsException)
java.lang.IllegalStateException: Could not resolve parameter [0] in public org.springframework.http.ResponseEntity<ma.foodplus.ordering.system.product.exception.ProductExceptionHandler$ErrorResponse> ma.foodplus.ordering.system.product.exception.ProductExceptionHandler.handleProductCreationException(ma.foodplus.ordering.system.product.exception.ProductAlreadyExistsException): No suitable resolver
	at org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:224)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:181)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver.doResolveHandlerMethodException(ExceptionHandlerExceptionResolver.java:471)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodExceptionResolver.doResolveException(AbstractHandlerMethodExceptionResolver.java:73)
	at org.springframework.web.servlet.handler.AbstractHandlerExceptionResolver.resolveException(AbstractHandlerExceptionResolver.java:182)
	at org.springframework.web.servlet.handler.HandlerExceptionResolverComposite.resolveException(HandlerExceptionResolverComposite.java:80)
	at org.springframework.web.servlet.DispatcherServlet.processHandlerException(DispatcherServlet.java:1359)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1161)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1106)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:114)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-06-14 20:20:55 [http-nio-8087-exec-2] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: ma.foodplus.ordering.system.product.exception.ProductCreationException: Failed to create product: could not execute statement [ERROR: null value in column "is_wholesale_only" of relation "products" violates not-null constraint
  Detail: Failing row contains (null, t, null, null, null, 1000.00, null, t, null, null, null, null, 29.99, null, null, null, null, t, f, f, f, null, 100, 1, 12, 35.99, 10.00, null, null, null, 29.99, 20.00, 25.99, t, t, 1.000, 15.00, 10, 20.00, null, null, null, null, null, null, null, null, 2025-06-14 20:20:55.421736+01, 3, 2025-06-14 20:20:55.421776+01, KG, null, PAR_LOT, 123456789012, 10x5x5, 750ml, BOTTLE, null, SUP-001, null, Spain, Mediterranean Suppliers Ltd, null, https://www.ldc.com/uy/wp-content/uploads/sites/16/Canola-Oil-sc..., Premium Olive Oil, null, null, null, null, Extra virgin olive oil from Mediterranean region, null, PROD-001, SKU-001, null).] [insert into products (additional_photos,availability_schedule,b2b_contract_discount_percentage,b2b_contract_required,b2b_credit_terms,b2b_custom_pricing_enabled,b2b_delivery_lead_time,b2b_minimum_order_value,b2b_payment_methods,b2b_volume_discount_enabled,b2c_display_in_catalog,b2c_featured,b2c_loyalty_points_multiplier,b2c_promo_end_date,b2c_promo_price,b2c_promo_start_date,b2c_rating,b2c_retail_price,b2c_review_count,barcode,bulk_discount_percentage,bulk_discount_threshold,bulk_package_size,bulk_package_unit,certification,country_of_origin,created_at,custom_attributes,customer_segments,deliverable,description,dimensions,inactive,is_bulk_item,is_perishable,is_wholesale_only,maximum_order_quantity,minimum_order_quantity,package_quantity,package_size,photo,price_including_tax,family_code,promo_sku_points,reference,requires_approval,requires_cold_storage,requires_contract,sale_price,sale_unit,seasonality,sku,stock_tracking,supplier_code,supplier_name,target_market,tax_rate,title,unit_price,updated_at,vendable,visible,weight,weight_unit,wholesale_discount_percentage,wholesale_minimum_quantity,wholesale_price,wholesale_tier_1_price,wholesale_tier_1_quantity,wholesale_tier_2_price,wholesale_tier_2_quantity,wholesale_tier_3_price,wholesale_tier_3_quantity) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)]; SQL [insert into products (additional_photos,availability_schedule,b2b_contract_discount_percentage,b2b_contract_required,b2b_credit_terms,b2b_custom_pricing_enabled,b2b_delivery_lead_time,b2b_minimum_order_value,b2b_payment_methods,b2b_volume_discount_enabled,b2c_display_in_catalog,b2c_featured,b2c_loyalty_points_multiplier,b2c_promo_end_date,b2c_promo_price,b2c_promo_start_date,b2c_rating,b2c_retail_price,b2c_review_count,barcode,bulk_discount_percentage,bulk_discount_threshold,bulk_package_size,bulk_package_unit,certification,country_of_origin,created_at,custom_attributes,customer_segments,deliverable,description,dimensions,inactive,is_bulk_item,is_perishable,is_wholesale_only,maximum_order_quantity,minimum_order_quantity,package_quantity,package_size,photo,price_including_tax,family_code,promo_sku_points,reference,requires_approval,requires_cold_storage,requires_contract,sale_price,sale_unit,seasonality,sku,stock_tracking,supplier_code,supplier_name,target_market,tax_rate,title,unit_price,updated_at,vendable,visible,weight,weight_unit,wholesale_discount_percentage,wholesale_minimum_quantity,wholesale_price,wholesale_tier_1_price,wholesale_tier_1_quantity,wholesale_tier_2_price,wholesale_tier_2_quantity,wholesale_tier_3_price,wholesale_tier_3_quantity) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)]; constraint [is_wholesale_only" of relation "products]] with root cause
ma.foodplus.ordering.system.product.exception.ProductCreationException: Failed to create product: could not execute statement [ERROR: null value in column "is_wholesale_only" of relation "products" violates not-null constraint
  Detail: Failing row contains (null, t, null, null, null, 1000.00, null, t, null, null, null, null, 29.99, null, null, null, null, t, f, f, f, null, 100, 1, 12, 35.99, 10.00, null, null, null, 29.99, 20.00, 25.99, t, t, 1.000, 15.00, 10, 20.00, null, null, null, null, null, null, null, null, 2025-06-14 20:20:55.421736+01, 3, 2025-06-14 20:20:55.421776+01, KG, null, PAR_LOT, 123456789012, 10x5x5, 750ml, BOTTLE, null, SUP-001, null, Spain, Mediterranean Suppliers Ltd, null, https://www.ldc.com/uy/wp-content/uploads/sites/16/Canola-Oil-sc..., Premium Olive Oil, null, null, null, null, Extra virgin olive oil from Mediterranean region, null, PROD-001, SKU-001, null).] [insert into products (additional_photos,availability_schedule,b2b_contract_discount_percentage,b2b_contract_required,b2b_credit_terms,b2b_custom_pricing_enabled,b2b_delivery_lead_time,b2b_minimum_order_value,b2b_payment_methods,b2b_volume_discount_enabled,b2c_display_in_catalog,b2c_featured,b2c_loyalty_points_multiplier,b2c_promo_end_date,b2c_promo_price,b2c_promo_start_date,b2c_rating,b2c_retail_price,b2c_review_count,barcode,bulk_discount_percentage,bulk_discount_threshold,bulk_package_size,bulk_package_unit,certification,country_of_origin,created_at,custom_attributes,customer_segments,deliverable,description,dimensions,inactive,is_bulk_item,is_perishable,is_wholesale_only,maximum_order_quantity,minimum_order_quantity,package_quantity,package_size,photo,price_including_tax,family_code,promo_sku_points,reference,requires_approval,requires_cold_storage,requires_contract,sale_price,sale_unit,seasonality,sku,stock_tracking,supplier_code,supplier_name,target_market,tax_rate,title,unit_price,updated_at,vendable,visible,weight,weight_unit,wholesale_discount_percentage,wholesale_minimum_quantity,wholesale_price,wholesale_tier_1_price,wholesale_tier_1_quantity,wholesale_tier_2_price,wholesale_tier_2_quantity,wholesale_tier_3_price,wholesale_tier_3_quantity) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)]; SQL [insert into products (additional_photos,availability_schedule,b2b_contract_discount_percentage,b2b_contract_required,b2b_credit_terms,b2b_custom_pricing_enabled,b2b_delivery_lead_time,b2b_minimum_order_value,b2b_payment_methods,b2b_volume_discount_enabled,b2c_display_in_catalog,b2c_featured,b2c_loyalty_points_multiplier,b2c_promo_end_date,b2c_promo_price,b2c_promo_start_date,b2c_rating,b2c_retail_price,b2c_review_count,barcode,bulk_discount_percentage,bulk_discount_threshold,bulk_package_size,bulk_package_unit,certification,country_of_origin,created_at,custom_attributes,customer_segments,deliverable,description,dimensions,inactive,is_bulk_item,is_perishable,is_wholesale_only,maximum_order_quantity,minimum_order_quantity,package_quantity,package_size,photo,price_including_tax,family_code,promo_sku_points,reference,requires_approval,requires_cold_storage,requires_contract,sale_price,sale_unit,seasonality,sku,stock_tracking,supplier_code,supplier_name,target_market,tax_rate,title,unit_price,updated_at,vendable,visible,weight,weight_unit,wholesale_discount_percentage,wholesale_minimum_quantity,wholesale_price,wholesale_tier_1_price,wholesale_tier_1_quantity,wholesale_tier_2_price,wholesale_tier_2_quantity,wholesale_tier_3_price,wholesale_tier_3_quantity) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)]; constraint [is_wholesale_only" of relation "products]
	at ma.foodplus.ordering.system.product.service.ProductService.createProduct(ProductService.java:52)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.cache.interceptor.CacheInterceptor.lambda$invoke$0(CacheInterceptor.java:55)
	at org.springframework.cache.interceptor.CacheAspectSupport.invokeOperation(CacheAspectSupport.java:431)
	at org.springframework.cache.interceptor.CacheAspectSupport.evaluate(CacheAspectSupport.java:601)
	at org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:448)
	at org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:410)
	at org.springframework.cache.interceptor.CacheInterceptor.invoke(CacheInterceptor.java:65)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at ma.foodplus.ordering.system.product.service.ProductService$$SpringCGLIB$$0.createProduct(<generated>)
	at ma.foodplus.ordering.system.product.controller.ProductController.createProduct(ProductController.java:65)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.cache.interceptor.CacheInterceptor.lambda$invoke$0(CacheInterceptor.java:55)
	at org.springframework.cache.interceptor.CacheAspectSupport.invokeOperation(CacheAspectSupport.java:431)
	at org.springframework.cache.interceptor.CacheAspectSupport.evaluate(CacheAspectSupport.java:601)
	at org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:448)
	at org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:410)
	at org.springframework.cache.interceptor.CacheInterceptor.invoke(CacheInterceptor.java:65)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at ma.foodplus.ordering.system.product.controller.ProductController$$SpringCGLIB$$0.createProduct(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:114)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-06-14 20:21:08 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-06-14 20:21:08 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-06-14 20:21:08 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-06-14 20:21:08 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-06-14 20:21:08 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-06-14 20:21:51 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - Starting FoodPlusOrderingApplication using Java 21.0.7 with PID 492342 (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes started by louki in /home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system)
2025-06-14 20:21:51 [main] DEBUG m.f.o.s.FoodPlusOrderingApplication - Running with Spring Boot v3.5.0, Spring v6.2.7
2025-06-14 20:21:51 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - The following 1 profile is active: "dev"
2025-06-14 20:21:52 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-14 20:21:52 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-14 20:21:52 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 99 ms. Found 12 JPA repository interfaces.
2025-06-14 20:21:53 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-14 20:21:53 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-06-14 20:21:53 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.common.repository.CategoryTarifRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 20:21:53 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.CustomerGroupRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 20:21:53 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.CustomerRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 20:21:53 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.ProductCustomerRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 20:21:53 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.DepotRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 20:21:53 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.ProductStockRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 20:21:53 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.SiteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 20:21:53 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.order.repository.OrderRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 20:21:53 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.product.repository.CategoryRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 20:21:53 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.product.repository.ProductAuditRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 20:21:53 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.product.repository.ProductRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 20:21:53 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.promos.repository.PromotionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 20:21:53 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 20 ms. Found 0 Redis repository interfaces.
2025-06-14 20:21:53 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8087 (http)
2025-06-14 20:21:53 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-14 20:21:53 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.41]
2025-06-14 20:21:54 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-14 20:21:54 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2136 ms
2025-06-14 20:21:54 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-06-14 20:21:54 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@3c1908c8
2025-06-14 20:21:54 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-06-14 20:21:54 [main] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://10.113.181.84:5432/foodplus_ordering (PostgreSQL 17.5)
2025-06-14 20:21:54 [main] INFO  o.f.core.internal.command.DbValidate - Successfully validated 6 migrations (execution time 00:00.022s)
2025-06-14 20:21:54 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "public": 1.7.2
2025-06-14 20:21:54 [main] WARN  o.f.core.internal.command.DbMigrate - outOfOrder mode is active. Migration of schema "public" may not be reproducible.
2025-06-14 20:21:54 [main] INFO  o.f.core.internal.command.DbMigrate - Schema "public" is up to date. No migration necessary.
2025-06-14 20:21:54 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-06-14 20:21:54 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.15.Final
2025-06-14 20:21:54 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-06-14 20:21:55 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-06-14 20:21:55 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 17.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-06-14 20:21:55 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-06-14 20:21:56 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-06-14 20:21:56 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-06-14 20:21:56 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-06-14 20:21:58 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-06-14 20:21:59 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 4 endpoints beneath base path '/actuator'
2025-06-14 20:21:59 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8087 (http) with context path '/'
2025-06-14 20:21:59 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - Started FoodPlusOrderingApplication in 8.101 seconds (process running for 8.594)
2025-06-14 20:21:59 [main] INFO  m.f.o.s.p.s.CacheWarmingService - Starting cache warm-up...
2025-06-14 20:21:59 [main] INFO  m.f.o.s.p.service.ProductService - Getting all products
2025-06-14 20:21:59 [main] INFO  m.f.o.s.p.s.CacheWarmingService - Warmed up all products cache
2025-06-14 20:21:59 [main] INFO  m.f.o.s.p.s.CacheWarmingService - Warmed up deliverable products cache
2025-06-14 20:21:59 [main] INFO  m.f.o.s.p.s.CacheWarmingService - Warmed up active products cache
2025-06-14 20:21:59 [main] INFO  m.f.o.s.p.s.CacheWarmingService - Cache warm-up completed
2025-06-14 20:22:11 [http-nio-8087-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-06-14 20:22:11 [http-nio-8087-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-06-14 20:22:11 [http-nio-8087-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-06-14 20:22:11 [http-nio-8087-exec-2] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23502
2025-06-14 20:22:11 [http-nio-8087-exec-2] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: null value in column "requires_approval" of relation "products" violates not-null constraint
  Detail: Failing row contains (null, t, null, null, null, 1000.00, null, t, null, null, null, null, 29.99, null, null, null, null, t, f, f, f, f, 100, 1, 12, 35.99, 10.00, null, null, null, 29.99, 20.00, 25.99, t, t, 1.000, 15.00, 10, 20.00, null, null, null, null, null, null, null, null, 2025-06-14 20:22:11.396873+01, 4, 2025-06-14 20:22:11.396922+01, KG, null, PAR_LOT, 123456789012, 10x5x5, 750ml, BOTTLE, null, SUP-001, null, Spain, Mediterranean Suppliers Ltd, null, https://www.ldc.com/uy/wp-content/uploads/sites/16/Canola-Oil-sc..., Premium Olive Oil, null, null, null, null, Extra virgin olive oil from Mediterranean region, null, PROD-001, SKU-001, null).
2025-06-14 20:22:11 [http-nio-8087-exec-2] ERROR m.f.o.s.p.service.ProductService - Error creating product: could not execute statement [ERROR: null value in column "requires_approval" of relation "products" violates not-null constraint
  Detail: Failing row contains (null, t, null, null, null, 1000.00, null, t, null, null, null, null, 29.99, null, null, null, null, t, f, f, f, f, 100, 1, 12, 35.99, 10.00, null, null, null, 29.99, 20.00, 25.99, t, t, 1.000, 15.00, 10, 20.00, null, null, null, null, null, null, null, null, 2025-06-14 20:22:11.396873+01, 4, 2025-06-14 20:22:11.396922+01, KG, null, PAR_LOT, 123456789012, 10x5x5, 750ml, BOTTLE, null, SUP-001, null, Spain, Mediterranean Suppliers Ltd, null, https://www.ldc.com/uy/wp-content/uploads/sites/16/Canola-Oil-sc..., Premium Olive Oil, null, null, null, null, Extra virgin olive oil from Mediterranean region, null, PROD-001, SKU-001, null).] [insert into products (additional_photos,availability_schedule,b2b_contract_discount_percentage,b2b_contract_required,b2b_credit_terms,b2b_custom_pricing_enabled,b2b_delivery_lead_time,b2b_minimum_order_value,b2b_payment_methods,b2b_volume_discount_enabled,b2c_display_in_catalog,b2c_featured,b2c_loyalty_points_multiplier,b2c_promo_end_date,b2c_promo_price,b2c_promo_start_date,b2c_rating,b2c_retail_price,b2c_review_count,barcode,bulk_discount_percentage,bulk_discount_threshold,bulk_package_size,bulk_package_unit,certification,country_of_origin,created_at,custom_attributes,customer_segments,deliverable,description,dimensions,inactive,is_bulk_item,is_perishable,is_wholesale_only,maximum_order_quantity,minimum_order_quantity,package_quantity,package_size,photo,price_including_tax,family_code,promo_sku_points,reference,requires_approval,requires_cold_storage,requires_contract,sale_price,sale_unit,seasonality,sku,stock_tracking,supplier_code,supplier_name,target_market,tax_rate,title,unit_price,updated_at,vendable,visible,weight,weight_unit,wholesale_discount_percentage,wholesale_minimum_quantity,wholesale_price,wholesale_tier_1_price,wholesale_tier_1_quantity,wholesale_tier_2_price,wholesale_tier_2_quantity,wholesale_tier_3_price,wholesale_tier_3_quantity) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)]; SQL [insert into products (additional_photos,availability_schedule,b2b_contract_discount_percentage,b2b_contract_required,b2b_credit_terms,b2b_custom_pricing_enabled,b2b_delivery_lead_time,b2b_minimum_order_value,b2b_payment_methods,b2b_volume_discount_enabled,b2c_display_in_catalog,b2c_featured,b2c_loyalty_points_multiplier,b2c_promo_end_date,b2c_promo_price,b2c_promo_start_date,b2c_rating,b2c_retail_price,b2c_review_count,barcode,bulk_discount_percentage,bulk_discount_threshold,bulk_package_size,bulk_package_unit,certification,country_of_origin,created_at,custom_attributes,customer_segments,deliverable,description,dimensions,inactive,is_bulk_item,is_perishable,is_wholesale_only,maximum_order_quantity,minimum_order_quantity,package_quantity,package_size,photo,price_including_tax,family_code,promo_sku_points,reference,requires_approval,requires_cold_storage,requires_contract,sale_price,sale_unit,seasonality,sku,stock_tracking,supplier_code,supplier_name,target_market,tax_rate,title,unit_price,updated_at,vendable,visible,weight,weight_unit,wholesale_discount_percentage,wholesale_minimum_quantity,wholesale_price,wholesale_tier_1_price,wholesale_tier_1_quantity,wholesale_tier_2_price,wholesale_tier_2_quantity,wholesale_tier_3_price,wholesale_tier_3_quantity) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)]; constraint [requires_approval" of relation "products]
org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: null value in column "requires_approval" of relation "products" violates not-null constraint
  Detail: Failing row contains (null, t, null, null, null, 1000.00, null, t, null, null, null, null, 29.99, null, null, null, null, t, f, f, f, f, 100, 1, 12, 35.99, 10.00, null, null, null, 29.99, 20.00, 25.99, t, t, 1.000, 15.00, 10, 20.00, null, null, null, null, null, null, null, null, 2025-06-14 20:22:11.396873+01, 4, 2025-06-14 20:22:11.396922+01, KG, null, PAR_LOT, 123456789012, 10x5x5, 750ml, BOTTLE, null, SUP-001, null, Spain, Mediterranean Suppliers Ltd, null, https://www.ldc.com/uy/wp-content/uploads/sites/16/Canola-Oil-sc..., Premium Olive Oil, null, null, null, null, Extra virgin olive oil from Mediterranean region, null, PROD-001, SKU-001, null).] [insert into products (additional_photos,availability_schedule,b2b_contract_discount_percentage,b2b_contract_required,b2b_credit_terms,b2b_custom_pricing_enabled,b2b_delivery_lead_time,b2b_minimum_order_value,b2b_payment_methods,b2b_volume_discount_enabled,b2c_display_in_catalog,b2c_featured,b2c_loyalty_points_multiplier,b2c_promo_end_date,b2c_promo_price,b2c_promo_start_date,b2c_rating,b2c_retail_price,b2c_review_count,barcode,bulk_discount_percentage,bulk_discount_threshold,bulk_package_size,bulk_package_unit,certification,country_of_origin,created_at,custom_attributes,customer_segments,deliverable,description,dimensions,inactive,is_bulk_item,is_perishable,is_wholesale_only,maximum_order_quantity,minimum_order_quantity,package_quantity,package_size,photo,price_including_tax,family_code,promo_sku_points,reference,requires_approval,requires_cold_storage,requires_contract,sale_price,sale_unit,seasonality,sku,stock_tracking,supplier_code,supplier_name,target_market,tax_rate,title,unit_price,updated_at,vendable,visible,weight,weight_unit,wholesale_discount_percentage,wholesale_minimum_quantity,wholesale_price,wholesale_tier_1_price,wholesale_tier_1_quantity,wholesale_tier_2_price,wholesale_tier_2_quantity,wholesale_tier_3_price,wholesale_tier_3_quantity) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)]; SQL [insert into products (additional_photos,availability_schedule,b2b_contract_discount_percentage,b2b_contract_required,b2b_credit_terms,b2b_custom_pricing_enabled,b2b_delivery_lead_time,b2b_minimum_order_value,b2b_payment_methods,b2b_volume_discount_enabled,b2c_display_in_catalog,b2c_featured,b2c_loyalty_points_multiplier,b2c_promo_end_date,b2c_promo_price,b2c_promo_start_date,b2c_rating,b2c_retail_price,b2c_review_count,barcode,bulk_discount_percentage,bulk_discount_threshold,bulk_package_size,bulk_package_unit,certification,country_of_origin,created_at,custom_attributes,customer_segments,deliverable,description,dimensions,inactive,is_bulk_item,is_perishable,is_wholesale_only,maximum_order_quantity,minimum_order_quantity,package_quantity,package_size,photo,price_including_tax,family_code,promo_sku_points,reference,requires_approval,requires_cold_storage,requires_contract,sale_price,sale_unit,seasonality,sku,stock_tracking,supplier_code,supplier_name,target_market,tax_rate,title,unit_price,updated_at,vendable,visible,weight,weight_unit,wholesale_discount_percentage,wholesale_minimum_quantity,wholesale_price,wholesale_tier_1_price,wholesale_tier_1_quantity,wholesale_tier_2_price,wholesale_tier_2_quantity,wholesale_tier_3_price,wholesale_tier_3_quantity) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)]; constraint [requires_approval" of relation "products]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:294)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:165)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy2/jdk.proxy2.$Proxy218.save(Unknown Source)
	at ma.foodplus.ordering.system.product.service.ProductService.createProduct(ProductService.java:48)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.cache.interceptor.CacheInterceptor.lambda$invoke$0(CacheInterceptor.java:55)
	at org.springframework.cache.interceptor.CacheAspectSupport.invokeOperation(CacheAspectSupport.java:431)
	at org.springframework.cache.interceptor.CacheAspectSupport.evaluate(CacheAspectSupport.java:601)
	at org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:448)
	at org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:410)
	at org.springframework.cache.interceptor.CacheInterceptor.invoke(CacheInterceptor.java:65)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at ma.foodplus.ordering.system.product.service.ProductService$$SpringCGLIB$$0.createProduct(<generated>)
	at ma.foodplus.ordering.system.product.controller.ProductController.createProduct(ProductController.java:65)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.cache.interceptor.CacheInterceptor.lambda$invoke$0(CacheInterceptor.java:55)
	at org.springframework.cache.interceptor.CacheAspectSupport.invokeOperation(CacheAspectSupport.java:431)
	at org.springframework.cache.interceptor.CacheAspectSupport.evaluate(CacheAspectSupport.java:601)
	at org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:448)
	at org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:410)
	at org.springframework.cache.interceptor.CacheInterceptor.invoke(CacheInterceptor.java:65)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at ma.foodplus.ordering.system.product.controller.ProductController$$SpringCGLIB$$0.createProduct(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:114)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: org.hibernate.exception.ConstraintViolationException: could not execute statement [ERROR: null value in column "requires_approval" of relation "products" violates not-null constraint
  Detail: Failing row contains (null, t, null, null, null, 1000.00, null, t, null, null, null, null, 29.99, null, null, null, null, t, f, f, f, f, 100, 1, 12, 35.99, 10.00, null, null, null, 29.99, 20.00, 25.99, t, t, 1.000, 15.00, 10, 20.00, null, null, null, null, null, null, null, null, 2025-06-14 20:22:11.396873+01, 4, 2025-06-14 20:22:11.396922+01, KG, null, PAR_LOT, 123456789012, 10x5x5, 750ml, BOTTLE, null, SUP-001, null, Spain, Mediterranean Suppliers Ltd, null, https://www.ldc.com/uy/wp-content/uploads/sites/16/Canola-Oil-sc..., Premium Olive Oil, null, null, null, null, Extra virgin olive oil from Mediterranean region, null, PROD-001, SKU-001, null).] [insert into products (additional_photos,availability_schedule,b2b_contract_discount_percentage,b2b_contract_required,b2b_credit_terms,b2b_custom_pricing_enabled,b2b_delivery_lead_time,b2b_minimum_order_value,b2b_payment_methods,b2b_volume_discount_enabled,b2c_display_in_catalog,b2c_featured,b2c_loyalty_points_multiplier,b2c_promo_end_date,b2c_promo_price,b2c_promo_start_date,b2c_rating,b2c_retail_price,b2c_review_count,barcode,bulk_discount_percentage,bulk_discount_threshold,bulk_package_size,bulk_package_unit,certification,country_of_origin,created_at,custom_attributes,customer_segments,deliverable,description,dimensions,inactive,is_bulk_item,is_perishable,is_wholesale_only,maximum_order_quantity,minimum_order_quantity,package_quantity,package_size,photo,price_including_tax,family_code,promo_sku_points,reference,requires_approval,requires_cold_storage,requires_contract,sale_price,sale_unit,seasonality,sku,stock_tracking,supplier_code,supplier_name,target_market,tax_rate,title,unit_price,updated_at,vendable,visible,weight,weight_unit,wholesale_discount_percentage,wholesale_minimum_quantity,wholesale_price,wholesale_tier_1_price,wholesale_tier_1_quantity,wholesale_tier_2_price,wholesale_tier_2_quantity,wholesale_tier_3_price,wholesale_tier_3_quantity) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:97)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)
	at org.hibernate.id.insert.GetGeneratedKeysDelegate.performMutation(GetGeneratedKeysDelegate.java:116)
	at org.hibernate.engine.jdbc.mutation.internal.MutationExecutorSingleNonBatched.performNonBatchedOperations(MutationExecutorSingleNonBatched.java:47)
	at org.hibernate.engine.jdbc.mutation.internal.AbstractMutationExecutor.execute(AbstractMutationExecutor.java:55)
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.doStaticInserts(InsertCoordinatorStandard.java:194)
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.coordinateInsert(InsertCoordinatorStandard.java:132)
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.insert(InsertCoordinatorStandard.java:95)
	at org.hibernate.action.internal.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:85)
	at org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:682)
	at org.hibernate.engine.spi.ActionQueue.addResolvedEntityInsertAction(ActionQueue.java:293)
	at org.hibernate.engine.spi.ActionQueue.addInsertAction(ActionQueue.java:274)
	at org.hibernate.engine.spi.ActionQueue.addAction(ActionQueue.java:324)
	at org.hibernate.event.internal.AbstractSaveEventListener.addInsertAction(AbstractSaveEventListener.java:394)
	at org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:308)
	at org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:224)
	at org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:136)
	at org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:177)
	at org.hibernate.event.internal.DefaultPersistEventListener.persist(DefaultPersistEventListener.java:95)
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:79)
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:55)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)
	at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:761)
	at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:745)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:364)
	at jdk.proxy2/jdk.proxy2.$Proxy202.persist(Unknown Source)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:320)
	at jdk.proxy2/jdk.proxy2.$Proxy202.persist(Unknown Source)
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:651)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:277)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:515)
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:284)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:734)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:174)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 90 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERROR: null value in column "requires_approval" of relation "products" violates not-null constraint
  Detail: Failing row contains (null, t, null, null, null, 1000.00, null, t, null, null, null, null, 29.99, null, null, null, null, t, f, f, f, f, 100, 1, 12, 35.99, 10.00, null, null, null, 29.99, 20.00, 25.99, t, t, 1.000, 15.00, 10, 20.00, null, null, null, null, null, null, null, null, 2025-06-14 20:22:11.396873+01, 4, 2025-06-14 20:22:11.396922+01, KG, null, PAR_LOT, 123456789012, 10x5x5, 750ml, BOTTLE, null, SUP-001, null, Spain, Mediterranean Suppliers Ltd, null, https://www.ldc.com/uy/wp-content/uploads/sites/16/Canola-Oil-sc..., Premium Olive Oil, null, null, null, null, Extra virgin olive oil from Mediterranean region, null, PROD-001, SKU-001, null).
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:155)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:194)
	... 140 common frames omitted
2025-06-14 20:22:11 [http-nio-8087-exec-2] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Failure in @ExceptionHandler ma.foodplus.ordering.system.product.exception.ProductExceptionHandler#handleProductCreationException(ProductAlreadyExistsException)
java.lang.IllegalStateException: Could not resolve parameter [0] in public org.springframework.http.ResponseEntity<ma.foodplus.ordering.system.product.exception.ProductExceptionHandler$ErrorResponse> ma.foodplus.ordering.system.product.exception.ProductExceptionHandler.handleProductCreationException(ma.foodplus.ordering.system.product.exception.ProductAlreadyExistsException): No suitable resolver
	at org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:224)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:181)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver.doResolveHandlerMethodException(ExceptionHandlerExceptionResolver.java:471)
	at org.springframework.web.servlet.handler.AbstractHandlerMethodExceptionResolver.doResolveException(AbstractHandlerMethodExceptionResolver.java:73)
	at org.springframework.web.servlet.handler.AbstractHandlerExceptionResolver.resolveException(AbstractHandlerExceptionResolver.java:182)
	at org.springframework.web.servlet.handler.HandlerExceptionResolverComposite.resolveException(HandlerExceptionResolverComposite.java:80)
	at org.springframework.web.servlet.DispatcherServlet.processHandlerException(DispatcherServlet.java:1359)
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1161)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1106)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:114)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-06-14 20:22:11 [http-nio-8087-exec-2] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: ma.foodplus.ordering.system.product.exception.ProductCreationException: Failed to create product: could not execute statement [ERROR: null value in column "requires_approval" of relation "products" violates not-null constraint
  Detail: Failing row contains (null, t, null, null, null, 1000.00, null, t, null, null, null, null, 29.99, null, null, null, null, t, f, f, f, f, 100, 1, 12, 35.99, 10.00, null, null, null, 29.99, 20.00, 25.99, t, t, 1.000, 15.00, 10, 20.00, null, null, null, null, null, null, null, null, 2025-06-14 20:22:11.396873+01, 4, 2025-06-14 20:22:11.396922+01, KG, null, PAR_LOT, 123456789012, 10x5x5, 750ml, BOTTLE, null, SUP-001, null, Spain, Mediterranean Suppliers Ltd, null, https://www.ldc.com/uy/wp-content/uploads/sites/16/Canola-Oil-sc..., Premium Olive Oil, null, null, null, null, Extra virgin olive oil from Mediterranean region, null, PROD-001, SKU-001, null).] [insert into products (additional_photos,availability_schedule,b2b_contract_discount_percentage,b2b_contract_required,b2b_credit_terms,b2b_custom_pricing_enabled,b2b_delivery_lead_time,b2b_minimum_order_value,b2b_payment_methods,b2b_volume_discount_enabled,b2c_display_in_catalog,b2c_featured,b2c_loyalty_points_multiplier,b2c_promo_end_date,b2c_promo_price,b2c_promo_start_date,b2c_rating,b2c_retail_price,b2c_review_count,barcode,bulk_discount_percentage,bulk_discount_threshold,bulk_package_size,bulk_package_unit,certification,country_of_origin,created_at,custom_attributes,customer_segments,deliverable,description,dimensions,inactive,is_bulk_item,is_perishable,is_wholesale_only,maximum_order_quantity,minimum_order_quantity,package_quantity,package_size,photo,price_including_tax,family_code,promo_sku_points,reference,requires_approval,requires_cold_storage,requires_contract,sale_price,sale_unit,seasonality,sku,stock_tracking,supplier_code,supplier_name,target_market,tax_rate,title,unit_price,updated_at,vendable,visible,weight,weight_unit,wholesale_discount_percentage,wholesale_minimum_quantity,wholesale_price,wholesale_tier_1_price,wholesale_tier_1_quantity,wholesale_tier_2_price,wholesale_tier_2_quantity,wholesale_tier_3_price,wholesale_tier_3_quantity) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)]; SQL [insert into products (additional_photos,availability_schedule,b2b_contract_discount_percentage,b2b_contract_required,b2b_credit_terms,b2b_custom_pricing_enabled,b2b_delivery_lead_time,b2b_minimum_order_value,b2b_payment_methods,b2b_volume_discount_enabled,b2c_display_in_catalog,b2c_featured,b2c_loyalty_points_multiplier,b2c_promo_end_date,b2c_promo_price,b2c_promo_start_date,b2c_rating,b2c_retail_price,b2c_review_count,barcode,bulk_discount_percentage,bulk_discount_threshold,bulk_package_size,bulk_package_unit,certification,country_of_origin,created_at,custom_attributes,customer_segments,deliverable,description,dimensions,inactive,is_bulk_item,is_perishable,is_wholesale_only,maximum_order_quantity,minimum_order_quantity,package_quantity,package_size,photo,price_including_tax,family_code,promo_sku_points,reference,requires_approval,requires_cold_storage,requires_contract,sale_price,sale_unit,seasonality,sku,stock_tracking,supplier_code,supplier_name,target_market,tax_rate,title,unit_price,updated_at,vendable,visible,weight,weight_unit,wholesale_discount_percentage,wholesale_minimum_quantity,wholesale_price,wholesale_tier_1_price,wholesale_tier_1_quantity,wholesale_tier_2_price,wholesale_tier_2_quantity,wholesale_tier_3_price,wholesale_tier_3_quantity) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)]; constraint [requires_approval" of relation "products]] with root cause
ma.foodplus.ordering.system.product.exception.ProductCreationException: Failed to create product: could not execute statement [ERROR: null value in column "requires_approval" of relation "products" violates not-null constraint
  Detail: Failing row contains (null, t, null, null, null, 1000.00, null, t, null, null, null, null, 29.99, null, null, null, null, t, f, f, f, f, 100, 1, 12, 35.99, 10.00, null, null, null, 29.99, 20.00, 25.99, t, t, 1.000, 15.00, 10, 20.00, null, null, null, null, null, null, null, null, 2025-06-14 20:22:11.396873+01, 4, 2025-06-14 20:22:11.396922+01, KG, null, PAR_LOT, 123456789012, 10x5x5, 750ml, BOTTLE, null, SUP-001, null, Spain, Mediterranean Suppliers Ltd, null, https://www.ldc.com/uy/wp-content/uploads/sites/16/Canola-Oil-sc..., Premium Olive Oil, null, null, null, null, Extra virgin olive oil from Mediterranean region, null, PROD-001, SKU-001, null).] [insert into products (additional_photos,availability_schedule,b2b_contract_discount_percentage,b2b_contract_required,b2b_credit_terms,b2b_custom_pricing_enabled,b2b_delivery_lead_time,b2b_minimum_order_value,b2b_payment_methods,b2b_volume_discount_enabled,b2c_display_in_catalog,b2c_featured,b2c_loyalty_points_multiplier,b2c_promo_end_date,b2c_promo_price,b2c_promo_start_date,b2c_rating,b2c_retail_price,b2c_review_count,barcode,bulk_discount_percentage,bulk_discount_threshold,bulk_package_size,bulk_package_unit,certification,country_of_origin,created_at,custom_attributes,customer_segments,deliverable,description,dimensions,inactive,is_bulk_item,is_perishable,is_wholesale_only,maximum_order_quantity,minimum_order_quantity,package_quantity,package_size,photo,price_including_tax,family_code,promo_sku_points,reference,requires_approval,requires_cold_storage,requires_contract,sale_price,sale_unit,seasonality,sku,stock_tracking,supplier_code,supplier_name,target_market,tax_rate,title,unit_price,updated_at,vendable,visible,weight,weight_unit,wholesale_discount_percentage,wholesale_minimum_quantity,wholesale_price,wholesale_tier_1_price,wholesale_tier_1_quantity,wholesale_tier_2_price,wholesale_tier_2_quantity,wholesale_tier_3_price,wholesale_tier_3_quantity) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)]; SQL [insert into products (additional_photos,availability_schedule,b2b_contract_discount_percentage,b2b_contract_required,b2b_credit_terms,b2b_custom_pricing_enabled,b2b_delivery_lead_time,b2b_minimum_order_value,b2b_payment_methods,b2b_volume_discount_enabled,b2c_display_in_catalog,b2c_featured,b2c_loyalty_points_multiplier,b2c_promo_end_date,b2c_promo_price,b2c_promo_start_date,b2c_rating,b2c_retail_price,b2c_review_count,barcode,bulk_discount_percentage,bulk_discount_threshold,bulk_package_size,bulk_package_unit,certification,country_of_origin,created_at,custom_attributes,customer_segments,deliverable,description,dimensions,inactive,is_bulk_item,is_perishable,is_wholesale_only,maximum_order_quantity,minimum_order_quantity,package_quantity,package_size,photo,price_including_tax,family_code,promo_sku_points,reference,requires_approval,requires_cold_storage,requires_contract,sale_price,sale_unit,seasonality,sku,stock_tracking,supplier_code,supplier_name,target_market,tax_rate,title,unit_price,updated_at,vendable,visible,weight,weight_unit,wholesale_discount_percentage,wholesale_minimum_quantity,wholesale_price,wholesale_tier_1_price,wholesale_tier_1_quantity,wholesale_tier_2_price,wholesale_tier_2_quantity,wholesale_tier_3_price,wholesale_tier_3_quantity) values (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)]; constraint [requires_approval" of relation "products]
	at ma.foodplus.ordering.system.product.service.ProductService.createProduct(ProductService.java:52)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.cache.interceptor.CacheInterceptor.lambda$invoke$0(CacheInterceptor.java:55)
	at org.springframework.cache.interceptor.CacheAspectSupport.invokeOperation(CacheAspectSupport.java:431)
	at org.springframework.cache.interceptor.CacheAspectSupport.evaluate(CacheAspectSupport.java:601)
	at org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:448)
	at org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:410)
	at org.springframework.cache.interceptor.CacheInterceptor.invoke(CacheInterceptor.java:65)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at ma.foodplus.ordering.system.product.service.ProductService$$SpringCGLIB$$0.createProduct(<generated>)
	at ma.foodplus.ordering.system.product.controller.ProductController.createProduct(ProductController.java:65)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.cache.interceptor.CacheInterceptor.lambda$invoke$0(CacheInterceptor.java:55)
	at org.springframework.cache.interceptor.CacheAspectSupport.invokeOperation(CacheAspectSupport.java:431)
	at org.springframework.cache.interceptor.CacheAspectSupport.evaluate(CacheAspectSupport.java:601)
	at org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:448)
	at org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:410)
	at org.springframework.cache.interceptor.CacheInterceptor.invoke(CacheInterceptor.java:65)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at ma.foodplus.ordering.system.product.controller.ProductController$$SpringCGLIB$$0.createProduct(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:114)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-06-14 20:22:22 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-06-14 20:22:22 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-06-14 20:22:22 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-06-14 20:22:22 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-06-14 20:22:22 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-06-14 20:24:50 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - Starting FoodPlusOrderingApplication using Java 21.0.7 with PID 494896 (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes started by louki in /home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system)
2025-06-14 20:24:50 [main] DEBUG m.f.o.s.FoodPlusOrderingApplication - Running with Spring Boot v3.5.0, Spring v6.2.7
2025-06-14 20:24:50 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - The following 1 profile is active: "dev"
2025-06-14 20:24:51 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-14 20:24:51 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-14 20:24:51 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 102 ms. Found 12 JPA repository interfaces.
2025-06-14 20:24:51 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-14 20:24:51 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-06-14 20:24:51 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.common.repository.CategoryTarifRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 20:24:51 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.CustomerGroupRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 20:24:51 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.CustomerRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 20:24:51 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.ProductCustomerRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 20:24:51 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.DepotRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 20:24:51 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.ProductStockRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 20:24:51 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.SiteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 20:24:51 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.order.repository.OrderRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 20:24:51 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.product.repository.CategoryRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 20:24:51 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.product.repository.ProductAuditRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 20:24:51 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.product.repository.ProductRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 20:24:51 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.promos.repository.PromotionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 20:24:51 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 18 ms. Found 0 Redis repository interfaces.
2025-06-14 20:24:52 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8087 (http)
2025-06-14 20:24:52 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-14 20:24:52 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.41]
2025-06-14 20:24:52 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-14 20:24:52 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1931 ms
2025-06-14 20:24:52 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-06-14 20:24:52 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@745cf754
2025-06-14 20:24:52 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-06-14 20:24:52 [main] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://10.113.181.84:5432/foodplus_ordering (PostgreSQL 17.5)
2025-06-14 20:24:53 [main] INFO  o.f.core.internal.command.DbValidate - Successfully validated 6 migrations (execution time 00:00.023s)
2025-06-14 20:24:53 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "public": 1.7.2
2025-06-14 20:24:53 [main] WARN  o.f.core.internal.command.DbMigrate - outOfOrder mode is active. Migration of schema "public" may not be reproducible.
2025-06-14 20:24:53 [main] INFO  o.f.core.internal.command.DbMigrate - Schema "public" is up to date. No migration necessary.
2025-06-14 20:24:53 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-06-14 20:24:53 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.15.Final
2025-06-14 20:24:53 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-06-14 20:24:53 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-06-14 20:24:53 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 17.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-06-14 20:24:53 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-06-14 20:24:54 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-06-14 20:24:54 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-06-14 20:24:54 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-06-14 20:24:57 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-06-14 20:24:57 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 4 endpoints beneath base path '/actuator'
2025-06-14 20:24:57 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8087 (http) with context path '/'
2025-06-14 20:24:57 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - Started FoodPlusOrderingApplication in 7.884 seconds (process running for 8.332)
2025-06-14 20:24:57 [main] INFO  m.f.o.s.p.s.CacheWarmingService - Starting cache warm-up...
2025-06-14 20:24:57 [main] INFO  m.f.o.s.p.service.ProductService - Getting all products
2025-06-14 20:24:57 [main] INFO  m.f.o.s.p.s.CacheWarmingService - Warmed up all products cache
2025-06-14 20:24:57 [main] INFO  m.f.o.s.p.s.CacheWarmingService - Warmed up deliverable products cache
2025-06-14 20:24:57 [main] INFO  m.f.o.s.p.s.CacheWarmingService - Warmed up active products cache
2025-06-14 20:24:57 [main] INFO  m.f.o.s.p.s.CacheWarmingService - Cache warm-up completed
2025-06-14 20:25:15 [http-nio-8087-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-06-14 20:25:15 [http-nio-8087-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-06-14 20:25:15 [http-nio-8087-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-06-14 20:27:14 [http-nio-8087-exec-7] INFO  m.f.o.s.p.service.ProductService - Getting all products
2025-06-14 20:28:26 [http-nio-8087-exec-5] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.ClassCastException: class java.util.LinkedHashMap cannot be cast to class ma.foodplus.ordering.system.product.dto.response.ProductResponse (java.util.LinkedHashMap is in module java.base of loader 'bootstrap'; ma.foodplus.ordering.system.product.dto.response.ProductResponse is in unnamed module of loader 'app')] with root cause
java.lang.ClassCastException: class java.util.LinkedHashMap cannot be cast to class ma.foodplus.ordering.system.product.dto.response.ProductResponse (java.util.LinkedHashMap is in module java.base of loader 'bootstrap'; ma.foodplus.ordering.system.product.dto.response.ProductResponse is in unnamed module of loader 'app')
	at ma.foodplus.ordering.system.product.service.ProductService$$SpringCGLIB$$0.getProduct(<generated>)
	at ma.foodplus.ordering.system.product.controller.ProductController.validateB2BSale(ProductController.java:138)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:724)
	at ma.foodplus.ordering.system.product.controller.ProductController$$SpringCGLIB$$0.validateB2BSale(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:114)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-06-14 20:28:29 [http-nio-8087-exec-7] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.ClassCastException: class java.util.LinkedHashMap cannot be cast to class ma.foodplus.ordering.system.product.dto.response.ProductResponse (java.util.LinkedHashMap is in module java.base of loader 'bootstrap'; ma.foodplus.ordering.system.product.dto.response.ProductResponse is in unnamed module of loader 'app')] with root cause
java.lang.ClassCastException: class java.util.LinkedHashMap cannot be cast to class ma.foodplus.ordering.system.product.dto.response.ProductResponse (java.util.LinkedHashMap is in module java.base of loader 'bootstrap'; ma.foodplus.ordering.system.product.dto.response.ProductResponse is in unnamed module of loader 'app')
	at ma.foodplus.ordering.system.product.service.ProductService$$SpringCGLIB$$0.getProduct(<generated>)
	at ma.foodplus.ordering.system.product.controller.ProductController.validateB2BSale(ProductController.java:138)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:724)
	at ma.foodplus.ordering.system.product.controller.ProductController$$SpringCGLIB$$0.validateB2BSale(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:114)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-06-14 20:28:38 [http-nio-8087-exec-10] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.ClassCastException: class java.util.LinkedHashMap cannot be cast to class ma.foodplus.ordering.system.product.dto.response.ProductResponse (java.util.LinkedHashMap is in module java.base of loader 'bootstrap'; ma.foodplus.ordering.system.product.dto.response.ProductResponse is in unnamed module of loader 'app')] with root cause
java.lang.ClassCastException: class java.util.LinkedHashMap cannot be cast to class ma.foodplus.ordering.system.product.dto.response.ProductResponse (java.util.LinkedHashMap is in module java.base of loader 'bootstrap'; ma.foodplus.ordering.system.product.dto.response.ProductResponse is in unnamed module of loader 'app')
	at ma.foodplus.ordering.system.product.service.ProductService$$SpringCGLIB$$0.getProduct(<generated>)
	at ma.foodplus.ordering.system.product.controller.ProductController.validateB2CSale(ProductController.java:145)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:724)
	at ma.foodplus.ordering.system.product.controller.ProductController$$SpringCGLIB$$0.validateB2CSale(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:114)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-06-14 20:31:03 [http-nio-8087-exec-3] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.ClassCastException: class java.util.LinkedHashMap cannot be cast to class ma.foodplus.ordering.system.product.dto.response.ProductResponse (java.util.LinkedHashMap is in module java.base of loader 'bootstrap'; ma.foodplus.ordering.system.product.dto.response.ProductResponse is in unnamed module of loader 'app')] with root cause
java.lang.ClassCastException: class java.util.LinkedHashMap cannot be cast to class ma.foodplus.ordering.system.product.dto.response.ProductResponse (java.util.LinkedHashMap is in module java.base of loader 'bootstrap'; ma.foodplus.ordering.system.product.dto.response.ProductResponse is in unnamed module of loader 'app')
	at ma.foodplus.ordering.system.product.service.ProductService$$SpringCGLIB$$0.getProduct(<generated>)
	at ma.foodplus.ordering.system.product.controller.ProductController.validateB2BSale(ProductController.java:138)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:724)
	at ma.foodplus.ordering.system.product.controller.ProductController$$SpringCGLIB$$0.validateB2BSale(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:114)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-06-14 20:31:26 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-06-14 20:31:26 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-06-14 20:31:26 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-06-14 20:31:26 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-06-14 20:31:26 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-06-14 20:31:57 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - Starting FoodPlusOrderingApplication using Java 21.0.7 with PID 500179 (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes started by louki in /home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system)
2025-06-14 20:31:57 [main] DEBUG m.f.o.s.FoodPlusOrderingApplication - Running with Spring Boot v3.5.0, Spring v6.2.7
2025-06-14 20:31:57 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - The following 1 profile is active: "dev"
2025-06-14 20:31:58 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-14 20:31:58 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-14 20:31:58 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 113 ms. Found 12 JPA repository interfaces.
2025-06-14 20:31:58 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-14 20:31:58 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-06-14 20:31:58 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.common.repository.CategoryTarifRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 20:31:58 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.CustomerGroupRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 20:31:58 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.CustomerRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 20:31:58 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.ProductCustomerRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 20:31:58 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.DepotRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 20:31:58 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.ProductStockRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 20:31:58 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.SiteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 20:31:58 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.order.repository.OrderRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 20:31:58 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.product.repository.CategoryRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 20:31:58 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.product.repository.ProductAuditRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 20:31:58 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.product.repository.ProductRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 20:31:58 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.promos.repository.PromotionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 20:31:58 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 19 ms. Found 0 Redis repository interfaces.
2025-06-14 20:31:59 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8087 (http)
2025-06-14 20:31:59 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-14 20:31:59 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.41]
2025-06-14 20:31:59 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-14 20:31:59 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1978 ms
2025-06-14 20:31:59 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-06-14 20:32:00 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@47f0e078
2025-06-14 20:32:00 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-06-14 20:32:00 [main] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://10.113.181.84:5432/foodplus_ordering (PostgreSQL 17.5)
2025-06-14 20:32:00 [main] INFO  o.f.core.internal.command.DbValidate - Successfully validated 6 migrations (execution time 00:00.027s)
2025-06-14 20:32:00 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "public": 1.7.2
2025-06-14 20:32:00 [main] WARN  o.f.core.internal.command.DbMigrate - outOfOrder mode is active. Migration of schema "public" may not be reproducible.
2025-06-14 20:32:00 [main] INFO  o.f.core.internal.command.DbMigrate - Schema "public" is up to date. No migration necessary.
2025-06-14 20:32:00 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-06-14 20:32:00 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.15.Final
2025-06-14 20:32:00 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-06-14 20:32:00 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-06-14 20:32:00 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 17.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-06-14 20:32:00 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-06-14 20:32:01 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-06-14 20:32:01 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-06-14 20:32:02 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-06-14 20:32:04 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-06-14 20:32:04 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 4 endpoints beneath base path '/actuator'
2025-06-14 20:32:04 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8087 (http) with context path '/'
2025-06-14 20:32:04 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - Started FoodPlusOrderingApplication in 7.968 seconds (process running for 8.274)
2025-06-14 20:32:04 [main] INFO  m.f.o.s.p.s.CacheWarmingService - Starting cache warm-up...
2025-06-14 20:32:04 [main] INFO  m.f.o.s.p.service.ProductService - Getting all products
2025-06-14 20:32:05 [main] INFO  m.f.o.s.p.s.CacheWarmingService - Warmed up all products cache
2025-06-14 20:32:05 [main] INFO  m.f.o.s.p.s.CacheWarmingService - Warmed up deliverable products cache
2025-06-14 20:32:05 [main] INFO  m.f.o.s.p.s.CacheWarmingService - Warmed up active products cache
2025-06-14 20:32:05 [main] INFO  m.f.o.s.p.s.CacheWarmingService - Cache warm-up completed
2025-06-14 20:32:45 [http-nio-8087-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-06-14 20:32:45 [http-nio-8087-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-06-14 20:32:45 [http-nio-8087-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-06-14 20:35:21 [http-nio-8087-exec-5] INFO  org.hibernate.orm.jdbc.batch - HHH100503: On release of batch it still contained JDBC statements
2025-06-14 20:35:21 [http-nio-8087-exec-5] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23502
2025-06-14 20:35:21 [http-nio-8087-exec-5] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - Batch entry 0 update products set additional_photos=(NULL),availability_schedule=(NULL),b2b_contract_discount_percentage=(NULL),b2b_contract_required=(NULL),b2b_credit_terms=(NULL),b2b_custom_pricing_enabled=(NULL),b2b_delivery_lead_time=(NULL),b2b_minimum_order_value=(NULL),b2b_payment_methods=(NULL),b2b_volume_discount_enabled=(NULL),b2c_display_in_catalog=(NULL),b2c_featured=(NULL),b2c_loyalty_points_multiplier=(NULL),b2c_promo_end_date=(NULL),b2c_promo_price=(NULL),b2c_promo_start_date=(NULL),b2c_rating=(NULL),b2c_retail_price=(NULL),b2c_review_count=(NULL),barcode=(NULL),bulk_discount_percentage=(NULL),bulk_discount_threshold=(NULL),bulk_package_size=(NULL),bulk_package_unit=(NULL),certification=(NULL),country_of_origin=(NULL),custom_attributes=(NULL),customer_segments=(NULL),deliverable=('TRUE'::boolean),description=('Updated description for premium olive oil'),dimensions=(NULL),inactive=('FALSE'::boolean),is_bulk_item=('FALSE'::boolean),is_perishable=('FALSE'::boolean),is_wholesale_only=('FALSE'::boolean),maximum_order_quantity=(NULL),minimum_order_quantity=(NULL),package_quantity=(NULL),package_size=(NULL),photo=(NULL),price_including_tax=('41.99'::numeric),family_code=('FAM001'),promo_sku_points=(NULL),reference=(NULL),requires_approval=('FALSE'::boolean),requires_cold_storage=('FALSE'::boolean),requires_contract=('FALSE'::boolean),sale_price=('34.99'::numeric),sale_unit=(NULL),seasonality=(NULL),sku=(NULL),stock_tracking=(NULL),supplier_code=(NULL),supplier_name=(NULL),target_market=(NULL),tax_rate=(NULL),title=('Updated Premium Olive Oil'),unit_price=(NULL),updated_at=('2025-06-14 19:35:21.9475+00'),vendable=('TRUE'::boolean),visible=('TRUE'::boolean),weight=(NULL),weight_unit=(NULL),wholesale_discount_percentage=(NULL),wholesale_minimum_quantity=(NULL),wholesale_price=(NULL),wholesale_tier_1_price=(NULL),wholesale_tier_1_quantity=(NULL),wholesale_tier_2_price=(NULL),wholesale_tier_2_quantity=(NULL),wholesale_tier_3_price=(NULL),wholesale_tier_3_quantity=(NULL) where id=('1'::int8) was aborted: ERROR: null value in column "promo_sku_points" of relation "products" violates not-null constraint
  Detail: Failing row contains (null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, t, f, f, f, f, null, null, null, 41.99, null, f, f, f, 34.99, null, null, t, t, null, null, null, null, null, null, null, null, null, null, null, null, 2025-06-14 14:58:43.032243+01, 1, 2025-06-14 20:35:21.9475+01, null, null, null, null, null, null, null, null, null, null, null, null, null, null, Updated Premium Olive Oil, null, null, null, null, Updated description for premium olive oil, FAM001, null, null, null).  Call getNextException to see other errors in the batch.
2025-06-14 20:35:21 [http-nio-8087-exec-5] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: null value in column "promo_sku_points" of relation "products" violates not-null constraint
  Detail: Failing row contains (null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, t, f, f, f, f, null, null, null, 41.99, null, f, f, f, 34.99, null, null, t, t, null, null, null, null, null, null, null, null, null, null, null, null, 2025-06-14 14:58:43.032243+01, 1, 2025-06-14 20:35:21.9475+01, null, null, null, null, null, null, null, null, null, null, null, null, null, null, Updated Premium Olive Oil, null, null, null, null, Updated description for premium olive oil, FAM001, null, null, null).
2025-06-14 20:35:21 [http-nio-8087-exec-5] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.dao.DataIntegrityViolationException: could not execute batch [Batch entry 0 update products set additional_photos=(NULL),availability_schedule=(NULL),b2b_contract_discount_percentage=(NULL),b2b_contract_required=(NULL),b2b_credit_terms=(NULL),b2b_custom_pricing_enabled=(NULL),b2b_delivery_lead_time=(NULL),b2b_minimum_order_value=(NULL),b2b_payment_methods=(NULL),b2b_volume_discount_enabled=(NULL),b2c_display_in_catalog=(NULL),b2c_featured=(NULL),b2c_loyalty_points_multiplier=(NULL),b2c_promo_end_date=(NULL),b2c_promo_price=(NULL),b2c_promo_start_date=(NULL),b2c_rating=(NULL),b2c_retail_price=(NULL),b2c_review_count=(NULL),barcode=(NULL),bulk_discount_percentage=(NULL),bulk_discount_threshold=(NULL),bulk_package_size=(NULL),bulk_package_unit=(NULL),certification=(NULL),country_of_origin=(NULL),custom_attributes=(NULL),customer_segments=(NULL),deliverable=('TRUE'::boolean),description=('Updated description for premium olive oil'),dimensions=(NULL),inactive=('FALSE'::boolean),is_bulk_item=('FALSE'::boolean),is_perishable=('FALSE'::boolean),is_wholesale_only=('FALSE'::boolean),maximum_order_quantity=(NULL),minimum_order_quantity=(NULL),package_quantity=(NULL),package_size=(NULL),photo=(NULL),price_including_tax=('41.99'::numeric),family_code=('FAM001'),promo_sku_points=(NULL),reference=(NULL),requires_approval=('FALSE'::boolean),requires_cold_storage=('FALSE'::boolean),requires_contract=('FALSE'::boolean),sale_price=('34.99'::numeric),sale_unit=(NULL),seasonality=(NULL),sku=(NULL),stock_tracking=(NULL),supplier_code=(NULL),supplier_name=(NULL),target_market=(NULL),tax_rate=(NULL),title=('Updated Premium Olive Oil'),unit_price=(NULL),updated_at=('2025-06-14 19:35:21.9475+00'),vendable=('TRUE'::boolean),visible=('TRUE'::boolean),weight=(NULL),weight_unit=(NULL),wholesale_discount_percentage=(NULL),wholesale_minimum_quantity=(NULL),wholesale_price=(NULL),wholesale_tier_1_price=(NULL),wholesale_tier_1_quantity=(NULL),wholesale_tier_2_price=(NULL),wholesale_tier_2_quantity=(NULL),wholesale_tier_3_price=(NULL),wholesale_tier_3_quantity=(NULL) where id=('1'::int8) was aborted: ERROR: null value in column "promo_sku_points" of relation "products" violates not-null constraint
  Detail: Failing row contains (null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, t, f, f, f, f, null, null, null, 41.99, null, f, f, f, 34.99, null, null, t, t, null, null, null, null, null, null, null, null, null, null, null, null, 2025-06-14 14:58:43.032243+01, 1, 2025-06-14 20:35:21.9475+01, null, null, null, null, null, null, null, null, null, null, null, null, null, null, Updated Premium Olive Oil, null, null, null, null, Updated description for premium olive oil, FAM001, null, null, null).  Call getNextException to see other errors in the batch.] [update products set additional_photos=?,availability_schedule=?,b2b_contract_discount_percentage=?,b2b_contract_required=?,b2b_credit_terms=?,b2b_custom_pricing_enabled=?,b2b_delivery_lead_time=?,b2b_minimum_order_value=?,b2b_payment_methods=?,b2b_volume_discount_enabled=?,b2c_display_in_catalog=?,b2c_featured=?,b2c_loyalty_points_multiplier=?,b2c_promo_end_date=?,b2c_promo_price=?,b2c_promo_start_date=?,b2c_rating=?,b2c_retail_price=?,b2c_review_count=?,barcode=?,bulk_discount_percentage=?,bulk_discount_threshold=?,bulk_package_size=?,bulk_package_unit=?,certification=?,country_of_origin=?,custom_attributes=?,customer_segments=?,deliverable=?,description=?,dimensions=?,inactive=?,is_bulk_item=?,is_perishable=?,is_wholesale_only=?,maximum_order_quantity=?,minimum_order_quantity=?,package_quantity=?,package_size=?,photo=?,price_including_tax=?,family_code=?,promo_sku_points=?,reference=?,requires_approval=?,requires_cold_storage=?,requires_contract=?,sale_price=?,sale_unit=?,seasonality=?,sku=?,stock_tracking=?,supplier_code=?,supplier_name=?,target_market=?,tax_rate=?,title=?,unit_price=?,updated_at=?,vendable=?,visible=?,weight=?,weight_unit=?,wholesale_discount_percentage=?,wholesale_minimum_quantity=?,wholesale_price=?,wholesale_tier_1_price=?,wholesale_tier_1_quantity=?,wholesale_tier_2_price=?,wholesale_tier_2_quantity=?,wholesale_tier_3_price=?,wholesale_tier_3_quantity=? where id=?]; SQL [update products set additional_photos=?,availability_schedule=?,b2b_contract_discount_percentage=?,b2b_contract_required=?,b2b_credit_terms=?,b2b_custom_pricing_enabled=?,b2b_delivery_lead_time=?,b2b_minimum_order_value=?,b2b_payment_methods=?,b2b_volume_discount_enabled=?,b2c_display_in_catalog=?,b2c_featured=?,b2c_loyalty_points_multiplier=?,b2c_promo_end_date=?,b2c_promo_price=?,b2c_promo_start_date=?,b2c_rating=?,b2c_retail_price=?,b2c_review_count=?,barcode=?,bulk_discount_percentage=?,bulk_discount_threshold=?,bulk_package_size=?,bulk_package_unit=?,certification=?,country_of_origin=?,custom_attributes=?,customer_segments=?,deliverable=?,description=?,dimensions=?,inactive=?,is_bulk_item=?,is_perishable=?,is_wholesale_only=?,maximum_order_quantity=?,minimum_order_quantity=?,package_quantity=?,package_size=?,photo=?,price_including_tax=?,family_code=?,promo_sku_points=?,reference=?,requires_approval=?,requires_cold_storage=?,requires_contract=?,sale_price=?,sale_unit=?,seasonality=?,sku=?,stock_tracking=?,supplier_code=?,supplier_name=?,target_market=?,tax_rate=?,title=?,unit_price=?,updated_at=?,vendable=?,visible=?,weight=?,weight_unit=?,wholesale_discount_percentage=?,wholesale_minimum_quantity=?,wholesale_price=?,wholesale_tier_1_price=?,wholesale_tier_1_quantity=?,wholesale_tier_2_price=?,wholesale_tier_2_quantity=?,wholesale_tier_3_price=?,wholesale_tier_3_quantity=? where id=?]; constraint [promo_sku_points" of relation "products]] with root cause
org.postgresql.util.PSQLException: ERROR: null value in column "promo_sku_points" of relation "products" violates not-null constraint
  Detail: Failing row contains (null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, t, f, f, f, f, null, null, null, 41.99, null, f, f, f, 34.99, null, null, t, t, null, null, null, null, null, null, null, null, null, null, null, null, 2025-06-14 14:58:43.032243+01, 1, 2025-06-14 20:35:21.9475+01, null, null, null, null, null, null, null, null, null, null, null, null, null, null, Updated Premium Olive Oil, null, null, null, null, Updated description for premium olive oil, FAM001, null, null, null).
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:580)
	at org.postgresql.jdbc.PgStatement.internalExecuteBatch(PgStatement.java:889)
	at org.postgresql.jdbc.PgStatement.executeBatch(PgStatement.java:913)
	at org.postgresql.jdbc.PgPreparedStatement.executeBatch(PgPreparedStatement.java:1739)
	at com.zaxxer.hikari.pool.ProxyStatement.executeBatch(ProxyStatement.java:128)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeBatch(HikariProxyPreparedStatement.java)
	at org.hibernate.engine.jdbc.batch.internal.BatchImpl.lambda$performExecution$2(BatchImpl.java:279)
	at org.hibernate.engine.jdbc.mutation.internal.PreparedStatementGroupSingleTable.forEachStatement(PreparedStatementGroupSingleTable.java:67)
	at org.hibernate.engine.jdbc.batch.internal.BatchImpl.performExecution(BatchImpl.java:264)
	at org.hibernate.engine.jdbc.batch.internal.BatchImpl.execute(BatchImpl.java:242)
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.executeBatch(JdbcCoordinatorImpl.java:188)
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:674)
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:511)
	at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:414)
	at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:41)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)
	at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1429)
	at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:491)
	at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:2354)
	at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:1978)
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:439)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:169)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:267)
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101)
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:562)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:795)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:758)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:698)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:416)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at ma.foodplus.ordering.system.product.service.ProductService$$SpringCGLIB$$0.updateProduct(<generated>)
	at ma.foodplus.ordering.system.product.controller.ProductController.updateProduct(ProductController.java:78)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.cache.interceptor.CacheInterceptor.lambda$invoke$0(CacheInterceptor.java:55)
	at org.springframework.cache.interceptor.CacheAspectSupport.invokeOperation(CacheAspectSupport.java:431)
	at org.springframework.cache.interceptor.CacheAspectSupport.evaluate(CacheAspectSupport.java:601)
	at org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:448)
	at org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:410)
	at org.springframework.cache.interceptor.CacheInterceptor.invoke(CacheInterceptor.java:65)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at ma.foodplus.ordering.system.product.controller.ProductController$$SpringCGLIB$$0.updateProduct(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPut(FrameworkServlet.java:925)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:593)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:114)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-06-14 20:36:00 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-06-14 20:36:00 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-06-14 20:36:00 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-06-14 20:36:00 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-06-14 20:36:00 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-06-14 20:37:00 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - Starting FoodPlusOrderingApplication using Java 21.0.7 with PID 504602 (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes started by louki in /home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system)
2025-06-14 20:37:00 [main] DEBUG m.f.o.s.FoodPlusOrderingApplication - Running with Spring Boot v3.5.0, Spring v6.2.7
2025-06-14 20:37:00 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - The following 1 profile is active: "dev"
2025-06-14 20:37:01 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-14 20:37:01 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-14 20:37:01 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 158 ms. Found 12 JPA repository interfaces.
2025-06-14 20:37:02 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-14 20:37:02 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-06-14 20:37:02 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.common.repository.CategoryTarifRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 20:37:02 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.CustomerGroupRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 20:37:02 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.CustomerRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 20:37:02 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.ProductCustomerRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 20:37:02 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.DepotRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 20:37:02 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.ProductStockRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 20:37:02 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.SiteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 20:37:02 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.order.repository.OrderRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 20:37:02 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.product.repository.CategoryRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 20:37:02 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.product.repository.ProductAuditRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 20:37:02 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.product.repository.ProductRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 20:37:02 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.promos.repository.PromotionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 20:37:02 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 27 ms. Found 0 Redis repository interfaces.
2025-06-14 20:37:02 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8087 (http)
2025-06-14 20:37:02 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-14 20:37:02 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.41]
2025-06-14 20:37:02 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-14 20:37:02 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2272 ms
2025-06-14 20:37:03 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-06-14 20:37:03 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@55b74e6b
2025-06-14 20:37:03 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-06-14 20:37:03 [main] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://10.113.181.84:5432/foodplus_ordering (PostgreSQL 17.5)
2025-06-14 20:37:03 [main] INFO  o.f.core.internal.command.DbValidate - Successfully validated 6 migrations (execution time 00:00.024s)
2025-06-14 20:37:03 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "public": 1.7.2
2025-06-14 20:37:03 [main] WARN  o.f.core.internal.command.DbMigrate - outOfOrder mode is active. Migration of schema "public" may not be reproducible.
2025-06-14 20:37:03 [main] INFO  o.f.core.internal.command.DbMigrate - Schema "public" is up to date. No migration necessary.
2025-06-14 20:37:03 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-06-14 20:37:03 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.15.Final
2025-06-14 20:37:03 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-06-14 20:37:03 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-06-14 20:37:03 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 17.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-06-14 20:37:04 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-06-14 20:37:05 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-06-14 20:37:05 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-06-14 20:37:05 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-06-14 20:37:07 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-06-14 20:37:08 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 4 endpoints beneath base path '/actuator'
2025-06-14 20:37:08 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8087 (http) with context path '/'
2025-06-14 20:37:08 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - Started FoodPlusOrderingApplication in 8.536 seconds (process running for 8.998)
2025-06-14 20:37:08 [main] INFO  m.f.o.s.p.s.CacheWarmingService - Starting cache warm-up...
2025-06-14 20:37:08 [main] INFO  m.f.o.s.p.service.ProductService - Getting all products
2025-06-14 20:37:08 [main] INFO  m.f.o.s.p.s.CacheWarmingService - Warmed up all products cache
2025-06-14 20:37:08 [main] INFO  m.f.o.s.p.s.CacheWarmingService - Warmed up deliverable products cache
2025-06-14 20:37:08 [main] INFO  m.f.o.s.p.s.CacheWarmingService - Warmed up active products cache
2025-06-14 20:37:08 [main] INFO  m.f.o.s.p.s.CacheWarmingService - Cache warm-up completed
2025-06-14 20:37:22 [http-nio-8087-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-06-14 20:37:22 [http-nio-8087-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-06-14 20:37:22 [http-nio-8087-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-06-14 20:37:22 [http-nio-8087-exec-2] INFO  org.hibernate.orm.jdbc.batch - HHH100503: On release of batch it still contained JDBC statements
2025-06-14 20:37:22 [http-nio-8087-exec-2] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23502
2025-06-14 20:37:22 [http-nio-8087-exec-2] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - Batch entry 0 update products set additional_photos=(NULL),availability_schedule=(NULL),b2b_contract_discount_percentage=(NULL),b2b_contract_required=(NULL),b2b_credit_terms=(NULL),b2b_custom_pricing_enabled=(NULL),b2b_delivery_lead_time=(NULL),b2b_minimum_order_value=(NULL),b2b_payment_methods=(NULL),b2b_volume_discount_enabled=(NULL),b2c_display_in_catalog=(NULL),b2c_featured=(NULL),b2c_loyalty_points_multiplier=(NULL),b2c_promo_end_date=(NULL),b2c_promo_price=(NULL),b2c_promo_start_date=(NULL),b2c_rating=(NULL),b2c_retail_price=(NULL),b2c_review_count=(NULL),barcode=(NULL),bulk_discount_percentage=(NULL),bulk_discount_threshold=(NULL),bulk_package_size=(NULL),bulk_package_unit=(NULL),certification=(NULL),country_of_origin=(NULL),custom_attributes=(NULL),customer_segments=(NULL),deliverable=('TRUE'::boolean),description=('Updated description for premium olive oil'),dimensions=(NULL),inactive=('FALSE'::boolean),is_bulk_item=('FALSE'::boolean),is_perishable=('FALSE'::boolean),is_wholesale_only=('FALSE'::boolean),maximum_order_quantity=(NULL),minimum_order_quantity=(NULL),package_quantity=(NULL),package_size=(NULL),photo=(NULL),price_including_tax=('41.99'::numeric),family_code=('FAM001'),promo_sku_points=('0'::numeric),reference=(NULL),requires_approval=('FALSE'::boolean),requires_cold_storage=('FALSE'::boolean),requires_contract=('FALSE'::boolean),sale_price=('34.99'::numeric),sale_unit=(NULL),seasonality=(NULL),sku=(NULL),stock_tracking=(NULL),supplier_code=(NULL),supplier_name=(NULL),target_market=(NULL),tax_rate=(NULL),title=('Updated Premium Olive Oil'),unit_price=(NULL),updated_at=('2025-06-14 19:37:22.484564+00'),vendable=('TRUE'::boolean),visible=('TRUE'::boolean),weight=(NULL),weight_unit=(NULL),wholesale_discount_percentage=(NULL),wholesale_minimum_quantity=(NULL),wholesale_price=(NULL),wholesale_tier_1_price=(NULL),wholesale_tier_1_quantity=(NULL),wholesale_tier_2_price=(NULL),wholesale_tier_2_quantity=(NULL),wholesale_tier_3_price=(NULL),wholesale_tier_3_quantity=(NULL) where id=('1'::int8) was aborted: ERROR: null value in column "unit_price" of relation "products" violates not-null constraint
  Detail: Failing row contains (null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, t, f, f, f, f, null, null, null, 41.99, 0.00, f, f, f, 34.99, null, null, t, t, null, null, null, null, null, null, null, null, null, null, null, null, 2025-06-14 14:58:43.032243+01, 1, 2025-06-14 20:37:22.484564+01, null, null, null, null, null, null, null, null, null, null, null, null, null, null, Updated Premium Olive Oil, null, null, null, null, Updated description for premium olive oil, FAM001, null, null, null).  Call getNextException to see other errors in the batch.
2025-06-14 20:37:22 [http-nio-8087-exec-2] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: null value in column "unit_price" of relation "products" violates not-null constraint
  Detail: Failing row contains (null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, t, f, f, f, f, null, null, null, 41.99, 0.00, f, f, f, 34.99, null, null, t, t, null, null, null, null, null, null, null, null, null, null, null, null, 2025-06-14 14:58:43.032243+01, 1, 2025-06-14 20:37:22.484564+01, null, null, null, null, null, null, null, null, null, null, null, null, null, null, Updated Premium Olive Oil, null, null, null, null, Updated description for premium olive oil, FAM001, null, null, null).
2025-06-14 20:37:22 [http-nio-8087-exec-2] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.dao.DataIntegrityViolationException: could not execute batch [Batch entry 0 update products set additional_photos=(NULL),availability_schedule=(NULL),b2b_contract_discount_percentage=(NULL),b2b_contract_required=(NULL),b2b_credit_terms=(NULL),b2b_custom_pricing_enabled=(NULL),b2b_delivery_lead_time=(NULL),b2b_minimum_order_value=(NULL),b2b_payment_methods=(NULL),b2b_volume_discount_enabled=(NULL),b2c_display_in_catalog=(NULL),b2c_featured=(NULL),b2c_loyalty_points_multiplier=(NULL),b2c_promo_end_date=(NULL),b2c_promo_price=(NULL),b2c_promo_start_date=(NULL),b2c_rating=(NULL),b2c_retail_price=(NULL),b2c_review_count=(NULL),barcode=(NULL),bulk_discount_percentage=(NULL),bulk_discount_threshold=(NULL),bulk_package_size=(NULL),bulk_package_unit=(NULL),certification=(NULL),country_of_origin=(NULL),custom_attributes=(NULL),customer_segments=(NULL),deliverable=('TRUE'::boolean),description=('Updated description for premium olive oil'),dimensions=(NULL),inactive=('FALSE'::boolean),is_bulk_item=('FALSE'::boolean),is_perishable=('FALSE'::boolean),is_wholesale_only=('FALSE'::boolean),maximum_order_quantity=(NULL),minimum_order_quantity=(NULL),package_quantity=(NULL),package_size=(NULL),photo=(NULL),price_including_tax=('41.99'::numeric),family_code=('FAM001'),promo_sku_points=('0'::numeric),reference=(NULL),requires_approval=('FALSE'::boolean),requires_cold_storage=('FALSE'::boolean),requires_contract=('FALSE'::boolean),sale_price=('34.99'::numeric),sale_unit=(NULL),seasonality=(NULL),sku=(NULL),stock_tracking=(NULL),supplier_code=(NULL),supplier_name=(NULL),target_market=(NULL),tax_rate=(NULL),title=('Updated Premium Olive Oil'),unit_price=(NULL),updated_at=('2025-06-14 19:37:22.484564+00'),vendable=('TRUE'::boolean),visible=('TRUE'::boolean),weight=(NULL),weight_unit=(NULL),wholesale_discount_percentage=(NULL),wholesale_minimum_quantity=(NULL),wholesale_price=(NULL),wholesale_tier_1_price=(NULL),wholesale_tier_1_quantity=(NULL),wholesale_tier_2_price=(NULL),wholesale_tier_2_quantity=(NULL),wholesale_tier_3_price=(NULL),wholesale_tier_3_quantity=(NULL) where id=('1'::int8) was aborted: ERROR: null value in column "unit_price" of relation "products" violates not-null constraint
  Detail: Failing row contains (null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, t, f, f, f, f, null, null, null, 41.99, 0.00, f, f, f, 34.99, null, null, t, t, null, null, null, null, null, null, null, null, null, null, null, null, 2025-06-14 14:58:43.032243+01, 1, 2025-06-14 20:37:22.484564+01, null, null, null, null, null, null, null, null, null, null, null, null, null, null, Updated Premium Olive Oil, null, null, null, null, Updated description for premium olive oil, FAM001, null, null, null).  Call getNextException to see other errors in the batch.] [update products set additional_photos=?,availability_schedule=?,b2b_contract_discount_percentage=?,b2b_contract_required=?,b2b_credit_terms=?,b2b_custom_pricing_enabled=?,b2b_delivery_lead_time=?,b2b_minimum_order_value=?,b2b_payment_methods=?,b2b_volume_discount_enabled=?,b2c_display_in_catalog=?,b2c_featured=?,b2c_loyalty_points_multiplier=?,b2c_promo_end_date=?,b2c_promo_price=?,b2c_promo_start_date=?,b2c_rating=?,b2c_retail_price=?,b2c_review_count=?,barcode=?,bulk_discount_percentage=?,bulk_discount_threshold=?,bulk_package_size=?,bulk_package_unit=?,certification=?,country_of_origin=?,custom_attributes=?,customer_segments=?,deliverable=?,description=?,dimensions=?,inactive=?,is_bulk_item=?,is_perishable=?,is_wholesale_only=?,maximum_order_quantity=?,minimum_order_quantity=?,package_quantity=?,package_size=?,photo=?,price_including_tax=?,family_code=?,promo_sku_points=?,reference=?,requires_approval=?,requires_cold_storage=?,requires_contract=?,sale_price=?,sale_unit=?,seasonality=?,sku=?,stock_tracking=?,supplier_code=?,supplier_name=?,target_market=?,tax_rate=?,title=?,unit_price=?,updated_at=?,vendable=?,visible=?,weight=?,weight_unit=?,wholesale_discount_percentage=?,wholesale_minimum_quantity=?,wholesale_price=?,wholesale_tier_1_price=?,wholesale_tier_1_quantity=?,wholesale_tier_2_price=?,wholesale_tier_2_quantity=?,wholesale_tier_3_price=?,wholesale_tier_3_quantity=? where id=?]; SQL [update products set additional_photos=?,availability_schedule=?,b2b_contract_discount_percentage=?,b2b_contract_required=?,b2b_credit_terms=?,b2b_custom_pricing_enabled=?,b2b_delivery_lead_time=?,b2b_minimum_order_value=?,b2b_payment_methods=?,b2b_volume_discount_enabled=?,b2c_display_in_catalog=?,b2c_featured=?,b2c_loyalty_points_multiplier=?,b2c_promo_end_date=?,b2c_promo_price=?,b2c_promo_start_date=?,b2c_rating=?,b2c_retail_price=?,b2c_review_count=?,barcode=?,bulk_discount_percentage=?,bulk_discount_threshold=?,bulk_package_size=?,bulk_package_unit=?,certification=?,country_of_origin=?,custom_attributes=?,customer_segments=?,deliverable=?,description=?,dimensions=?,inactive=?,is_bulk_item=?,is_perishable=?,is_wholesale_only=?,maximum_order_quantity=?,minimum_order_quantity=?,package_quantity=?,package_size=?,photo=?,price_including_tax=?,family_code=?,promo_sku_points=?,reference=?,requires_approval=?,requires_cold_storage=?,requires_contract=?,sale_price=?,sale_unit=?,seasonality=?,sku=?,stock_tracking=?,supplier_code=?,supplier_name=?,target_market=?,tax_rate=?,title=?,unit_price=?,updated_at=?,vendable=?,visible=?,weight=?,weight_unit=?,wholesale_discount_percentage=?,wholesale_minimum_quantity=?,wholesale_price=?,wholesale_tier_1_price=?,wholesale_tier_1_quantity=?,wholesale_tier_2_price=?,wholesale_tier_2_quantity=?,wholesale_tier_3_price=?,wholesale_tier_3_quantity=? where id=?]; constraint [unit_price" of relation "products]] with root cause
org.postgresql.util.PSQLException: ERROR: null value in column "unit_price" of relation "products" violates not-null constraint
  Detail: Failing row contains (null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, t, f, f, f, f, null, null, null, 41.99, 0.00, f, f, f, 34.99, null, null, t, t, null, null, null, null, null, null, null, null, null, null, null, null, 2025-06-14 14:58:43.032243+01, 1, 2025-06-14 20:37:22.484564+01, null, null, null, null, null, null, null, null, null, null, null, null, null, null, Updated Premium Olive Oil, null, null, null, null, Updated description for premium olive oil, FAM001, null, null, null).
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:580)
	at org.postgresql.jdbc.PgStatement.internalExecuteBatch(PgStatement.java:889)
	at org.postgresql.jdbc.PgStatement.executeBatch(PgStatement.java:913)
	at org.postgresql.jdbc.PgPreparedStatement.executeBatch(PgPreparedStatement.java:1739)
	at com.zaxxer.hikari.pool.ProxyStatement.executeBatch(ProxyStatement.java:128)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeBatch(HikariProxyPreparedStatement.java)
	at org.hibernate.engine.jdbc.batch.internal.BatchImpl.lambda$performExecution$2(BatchImpl.java:279)
	at org.hibernate.engine.jdbc.mutation.internal.PreparedStatementGroupSingleTable.forEachStatement(PreparedStatementGroupSingleTable.java:67)
	at org.hibernate.engine.jdbc.batch.internal.BatchImpl.performExecution(BatchImpl.java:264)
	at org.hibernate.engine.jdbc.batch.internal.BatchImpl.execute(BatchImpl.java:242)
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.executeBatch(JdbcCoordinatorImpl.java:188)
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:674)
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:511)
	at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:414)
	at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:41)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)
	at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1429)
	at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:491)
	at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:2354)
	at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:1978)
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:439)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:169)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:267)
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101)
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:562)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:795)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:758)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:698)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:416)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at ma.foodplus.ordering.system.product.service.ProductService$$SpringCGLIB$$0.updateProduct(<generated>)
	at ma.foodplus.ordering.system.product.controller.ProductController.updateProduct(ProductController.java:78)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.cache.interceptor.CacheInterceptor.lambda$invoke$0(CacheInterceptor.java:55)
	at org.springframework.cache.interceptor.CacheAspectSupport.invokeOperation(CacheAspectSupport.java:431)
	at org.springframework.cache.interceptor.CacheAspectSupport.evaluate(CacheAspectSupport.java:601)
	at org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:448)
	at org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:410)
	at org.springframework.cache.interceptor.CacheInterceptor.invoke(CacheInterceptor.java:65)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at ma.foodplus.ordering.system.product.controller.ProductController$$SpringCGLIB$$0.updateProduct(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPut(FrameworkServlet.java:925)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:593)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:114)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-06-14 20:37:59 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-06-14 20:37:59 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-06-14 20:37:59 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-06-14 20:37:59 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-06-14 20:37:59 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-06-14 20:38:03 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - Starting FoodPlusOrderingApplication using Java 21.0.7 with PID 505481 (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes started by louki in /home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system)
2025-06-14 20:38:03 [main] DEBUG m.f.o.s.FoodPlusOrderingApplication - Running with Spring Boot v3.5.0, Spring v6.2.7
2025-06-14 20:38:03 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - The following 1 profile is active: "dev"
2025-06-14 20:38:04 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-14 20:38:04 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-14 20:38:04 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 124 ms. Found 12 JPA repository interfaces.
2025-06-14 20:38:04 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-14 20:38:04 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-06-14 20:38:04 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.common.repository.CategoryTarifRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 20:38:04 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.CustomerGroupRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 20:38:04 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.CustomerRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 20:38:04 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.ProductCustomerRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 20:38:04 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.DepotRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 20:38:04 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.ProductStockRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 20:38:04 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.SiteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 20:38:04 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.order.repository.OrderRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 20:38:04 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.product.repository.CategoryRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 20:38:04 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.product.repository.ProductAuditRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 20:38:04 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.product.repository.ProductRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 20:38:04 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.promos.repository.PromotionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 20:38:04 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 28 ms. Found 0 Redis repository interfaces.
2025-06-14 20:38:05 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8087 (http)
2025-06-14 20:38:05 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-14 20:38:05 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.41]
2025-06-14 20:38:05 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-14 20:38:05 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2314 ms
2025-06-14 20:38:06 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-06-14 20:38:06 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@5c703860
2025-06-14 20:38:06 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-06-14 20:38:06 [main] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://10.113.181.84:5432/foodplus_ordering (PostgreSQL 17.5)
2025-06-14 20:38:06 [main] INFO  o.f.core.internal.command.DbValidate - Successfully validated 6 migrations (execution time 00:00.029s)
2025-06-14 20:38:06 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "public": 1.7.2
2025-06-14 20:38:06 [main] WARN  o.f.core.internal.command.DbMigrate - outOfOrder mode is active. Migration of schema "public" may not be reproducible.
2025-06-14 20:38:06 [main] INFO  o.f.core.internal.command.DbMigrate - Schema "public" is up to date. No migration necessary.
2025-06-14 20:38:06 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-06-14 20:38:06 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.15.Final
2025-06-14 20:38:06 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-06-14 20:38:06 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-06-14 20:38:06 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 17.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-06-14 20:38:07 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-06-14 20:38:08 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-06-14 20:38:08 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-06-14 20:38:08 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-06-14 20:38:10 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-06-14 20:38:11 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 4 endpoints beneath base path '/actuator'
2025-06-14 20:38:11 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8087 (http) with context path '/'
2025-06-14 20:38:11 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - Started FoodPlusOrderingApplication in 8.978 seconds (process running for 9.25)
2025-06-14 20:38:11 [main] INFO  m.f.o.s.p.s.CacheWarmingService - Starting cache warm-up...
2025-06-14 20:38:11 [main] INFO  m.f.o.s.p.service.ProductService - Getting all products
2025-06-14 20:38:11 [main] INFO  m.f.o.s.p.s.CacheWarmingService - Warmed up all products cache
2025-06-14 20:38:11 [main] INFO  m.f.o.s.p.s.CacheWarmingService - Warmed up deliverable products cache
2025-06-14 20:38:11 [main] INFO  m.f.o.s.p.s.CacheWarmingService - Warmed up active products cache
2025-06-14 20:38:11 [main] INFO  m.f.o.s.p.s.CacheWarmingService - Cache warm-up completed
2025-06-14 20:38:18 [http-nio-8087-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-06-14 20:38:18 [http-nio-8087-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-06-14 20:38:18 [http-nio-8087-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-06-14 20:38:18 [http-nio-8087-exec-2] INFO  org.hibernate.orm.jdbc.batch - HHH100503: On release of batch it still contained JDBC statements
2025-06-14 20:38:18 [http-nio-8087-exec-2] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23502
2025-06-14 20:38:18 [http-nio-8087-exec-2] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - Batch entry 0 update products set additional_photos=(NULL),availability_schedule=(NULL),b2b_contract_discount_percentage=(NULL),b2b_contract_required=(NULL),b2b_credit_terms=(NULL),b2b_custom_pricing_enabled=(NULL),b2b_delivery_lead_time=(NULL),b2b_minimum_order_value=(NULL),b2b_payment_methods=(NULL),b2b_volume_discount_enabled=(NULL),b2c_display_in_catalog=(NULL),b2c_featured=(NULL),b2c_loyalty_points_multiplier=(NULL),b2c_promo_end_date=(NULL),b2c_promo_price=(NULL),b2c_promo_start_date=(NULL),b2c_rating=(NULL),b2c_retail_price=(NULL),b2c_review_count=(NULL),barcode=(NULL),bulk_discount_percentage=(NULL),bulk_discount_threshold=(NULL),bulk_package_size=(NULL),bulk_package_unit=(NULL),certification=(NULL),country_of_origin=(NULL),custom_attributes=(NULL),customer_segments=(NULL),deliverable=('TRUE'::boolean),description=('Updated description for premium olive oil'),dimensions=(NULL),inactive=('FALSE'::boolean),is_bulk_item=('FALSE'::boolean),is_perishable=('FALSE'::boolean),is_wholesale_only=('FALSE'::boolean),maximum_order_quantity=(NULL),minimum_order_quantity=(NULL),package_quantity=(NULL),package_size=(NULL),photo=(NULL),price_including_tax=('41.99'::numeric),family_code=('FAM001'),promo_sku_points=('0'::numeric),reference=(NULL),requires_approval=('FALSE'::boolean),requires_cold_storage=('FALSE'::boolean),requires_contract=('FALSE'::boolean),sale_price=('34.99'::numeric),sale_unit=(NULL),seasonality=(NULL),sku=(NULL),stock_tracking=(NULL),supplier_code=(NULL),supplier_name=(NULL),target_market=(NULL),tax_rate=(NULL),title=('Updated Premium Olive Oil'),unit_price=('0.0'::numeric),updated_at=('2025-06-14 19:38:18.271829+00'),vendable=('TRUE'::boolean),visible=('TRUE'::boolean),weight=(NULL),weight_unit=(NULL),wholesale_discount_percentage=(NULL),wholesale_minimum_quantity=(NULL),wholesale_price=(NULL),wholesale_tier_1_price=(NULL),wholesale_tier_1_quantity=(NULL),wholesale_tier_2_price=(NULL),wholesale_tier_2_quantity=(NULL),wholesale_tier_3_price=(NULL),wholesale_tier_3_quantity=(NULL) where id=('1'::int8) was aborted: ERROR: null value in column "stock_tracking" of relation "products" violates not-null constraint
  Detail: Failing row contains (null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, t, f, f, f, f, null, null, null, 41.99, 0.00, f, f, f, 34.99, null, 0.00, t, t, null, null, null, null, null, null, null, null, null, null, null, null, 2025-06-14 14:58:43.032243+01, 1, 2025-06-14 20:38:18.271829+01, null, null, null, null, null, null, null, null, null, null, null, null, null, null, Updated Premium Olive Oil, null, null, null, null, Updated description for premium olive oil, FAM001, null, null, null).  Call getNextException to see other errors in the batch.
2025-06-14 20:38:18 [http-nio-8087-exec-2] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: null value in column "stock_tracking" of relation "products" violates not-null constraint
  Detail: Failing row contains (null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, t, f, f, f, f, null, null, null, 41.99, 0.00, f, f, f, 34.99, null, 0.00, t, t, null, null, null, null, null, null, null, null, null, null, null, null, 2025-06-14 14:58:43.032243+01, 1, 2025-06-14 20:38:18.271829+01, null, null, null, null, null, null, null, null, null, null, null, null, null, null, Updated Premium Olive Oil, null, null, null, null, Updated description for premium olive oil, FAM001, null, null, null).
2025-06-14 20:38:18 [http-nio-8087-exec-2] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.dao.DataIntegrityViolationException: could not execute batch [Batch entry 0 update products set additional_photos=(NULL),availability_schedule=(NULL),b2b_contract_discount_percentage=(NULL),b2b_contract_required=(NULL),b2b_credit_terms=(NULL),b2b_custom_pricing_enabled=(NULL),b2b_delivery_lead_time=(NULL),b2b_minimum_order_value=(NULL),b2b_payment_methods=(NULL),b2b_volume_discount_enabled=(NULL),b2c_display_in_catalog=(NULL),b2c_featured=(NULL),b2c_loyalty_points_multiplier=(NULL),b2c_promo_end_date=(NULL),b2c_promo_price=(NULL),b2c_promo_start_date=(NULL),b2c_rating=(NULL),b2c_retail_price=(NULL),b2c_review_count=(NULL),barcode=(NULL),bulk_discount_percentage=(NULL),bulk_discount_threshold=(NULL),bulk_package_size=(NULL),bulk_package_unit=(NULL),certification=(NULL),country_of_origin=(NULL),custom_attributes=(NULL),customer_segments=(NULL),deliverable=('TRUE'::boolean),description=('Updated description for premium olive oil'),dimensions=(NULL),inactive=('FALSE'::boolean),is_bulk_item=('FALSE'::boolean),is_perishable=('FALSE'::boolean),is_wholesale_only=('FALSE'::boolean),maximum_order_quantity=(NULL),minimum_order_quantity=(NULL),package_quantity=(NULL),package_size=(NULL),photo=(NULL),price_including_tax=('41.99'::numeric),family_code=('FAM001'),promo_sku_points=('0'::numeric),reference=(NULL),requires_approval=('FALSE'::boolean),requires_cold_storage=('FALSE'::boolean),requires_contract=('FALSE'::boolean),sale_price=('34.99'::numeric),sale_unit=(NULL),seasonality=(NULL),sku=(NULL),stock_tracking=(NULL),supplier_code=(NULL),supplier_name=(NULL),target_market=(NULL),tax_rate=(NULL),title=('Updated Premium Olive Oil'),unit_price=('0.0'::numeric),updated_at=('2025-06-14 19:38:18.271829+00'),vendable=('TRUE'::boolean),visible=('TRUE'::boolean),weight=(NULL),weight_unit=(NULL),wholesale_discount_percentage=(NULL),wholesale_minimum_quantity=(NULL),wholesale_price=(NULL),wholesale_tier_1_price=(NULL),wholesale_tier_1_quantity=(NULL),wholesale_tier_2_price=(NULL),wholesale_tier_2_quantity=(NULL),wholesale_tier_3_price=(NULL),wholesale_tier_3_quantity=(NULL) where id=('1'::int8) was aborted: ERROR: null value in column "stock_tracking" of relation "products" violates not-null constraint
  Detail: Failing row contains (null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, t, f, f, f, f, null, null, null, 41.99, 0.00, f, f, f, 34.99, null, 0.00, t, t, null, null, null, null, null, null, null, null, null, null, null, null, 2025-06-14 14:58:43.032243+01, 1, 2025-06-14 20:38:18.271829+01, null, null, null, null, null, null, null, null, null, null, null, null, null, null, Updated Premium Olive Oil, null, null, null, null, Updated description for premium olive oil, FAM001, null, null, null).  Call getNextException to see other errors in the batch.] [update products set additional_photos=?,availability_schedule=?,b2b_contract_discount_percentage=?,b2b_contract_required=?,b2b_credit_terms=?,b2b_custom_pricing_enabled=?,b2b_delivery_lead_time=?,b2b_minimum_order_value=?,b2b_payment_methods=?,b2b_volume_discount_enabled=?,b2c_display_in_catalog=?,b2c_featured=?,b2c_loyalty_points_multiplier=?,b2c_promo_end_date=?,b2c_promo_price=?,b2c_promo_start_date=?,b2c_rating=?,b2c_retail_price=?,b2c_review_count=?,barcode=?,bulk_discount_percentage=?,bulk_discount_threshold=?,bulk_package_size=?,bulk_package_unit=?,certification=?,country_of_origin=?,custom_attributes=?,customer_segments=?,deliverable=?,description=?,dimensions=?,inactive=?,is_bulk_item=?,is_perishable=?,is_wholesale_only=?,maximum_order_quantity=?,minimum_order_quantity=?,package_quantity=?,package_size=?,photo=?,price_including_tax=?,family_code=?,promo_sku_points=?,reference=?,requires_approval=?,requires_cold_storage=?,requires_contract=?,sale_price=?,sale_unit=?,seasonality=?,sku=?,stock_tracking=?,supplier_code=?,supplier_name=?,target_market=?,tax_rate=?,title=?,unit_price=?,updated_at=?,vendable=?,visible=?,weight=?,weight_unit=?,wholesale_discount_percentage=?,wholesale_minimum_quantity=?,wholesale_price=?,wholesale_tier_1_price=?,wholesale_tier_1_quantity=?,wholesale_tier_2_price=?,wholesale_tier_2_quantity=?,wholesale_tier_3_price=?,wholesale_tier_3_quantity=? where id=?]; SQL [update products set additional_photos=?,availability_schedule=?,b2b_contract_discount_percentage=?,b2b_contract_required=?,b2b_credit_terms=?,b2b_custom_pricing_enabled=?,b2b_delivery_lead_time=?,b2b_minimum_order_value=?,b2b_payment_methods=?,b2b_volume_discount_enabled=?,b2c_display_in_catalog=?,b2c_featured=?,b2c_loyalty_points_multiplier=?,b2c_promo_end_date=?,b2c_promo_price=?,b2c_promo_start_date=?,b2c_rating=?,b2c_retail_price=?,b2c_review_count=?,barcode=?,bulk_discount_percentage=?,bulk_discount_threshold=?,bulk_package_size=?,bulk_package_unit=?,certification=?,country_of_origin=?,custom_attributes=?,customer_segments=?,deliverable=?,description=?,dimensions=?,inactive=?,is_bulk_item=?,is_perishable=?,is_wholesale_only=?,maximum_order_quantity=?,minimum_order_quantity=?,package_quantity=?,package_size=?,photo=?,price_including_tax=?,family_code=?,promo_sku_points=?,reference=?,requires_approval=?,requires_cold_storage=?,requires_contract=?,sale_price=?,sale_unit=?,seasonality=?,sku=?,stock_tracking=?,supplier_code=?,supplier_name=?,target_market=?,tax_rate=?,title=?,unit_price=?,updated_at=?,vendable=?,visible=?,weight=?,weight_unit=?,wholesale_discount_percentage=?,wholesale_minimum_quantity=?,wholesale_price=?,wholesale_tier_1_price=?,wholesale_tier_1_quantity=?,wholesale_tier_2_price=?,wholesale_tier_2_quantity=?,wholesale_tier_3_price=?,wholesale_tier_3_quantity=? where id=?]; constraint [stock_tracking" of relation "products]] with root cause
org.postgresql.util.PSQLException: ERROR: null value in column "stock_tracking" of relation "products" violates not-null constraint
  Detail: Failing row contains (null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, t, f, f, f, f, null, null, null, 41.99, 0.00, f, f, f, 34.99, null, 0.00, t, t, null, null, null, null, null, null, null, null, null, null, null, null, 2025-06-14 14:58:43.032243+01, 1, 2025-06-14 20:38:18.271829+01, null, null, null, null, null, null, null, null, null, null, null, null, null, null, Updated Premium Olive Oil, null, null, null, null, Updated description for premium olive oil, FAM001, null, null, null).
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:580)
	at org.postgresql.jdbc.PgStatement.internalExecuteBatch(PgStatement.java:889)
	at org.postgresql.jdbc.PgStatement.executeBatch(PgStatement.java:913)
	at org.postgresql.jdbc.PgPreparedStatement.executeBatch(PgPreparedStatement.java:1739)
	at com.zaxxer.hikari.pool.ProxyStatement.executeBatch(ProxyStatement.java:128)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeBatch(HikariProxyPreparedStatement.java)
	at org.hibernate.engine.jdbc.batch.internal.BatchImpl.lambda$performExecution$2(BatchImpl.java:279)
	at org.hibernate.engine.jdbc.mutation.internal.PreparedStatementGroupSingleTable.forEachStatement(PreparedStatementGroupSingleTable.java:67)
	at org.hibernate.engine.jdbc.batch.internal.BatchImpl.performExecution(BatchImpl.java:264)
	at org.hibernate.engine.jdbc.batch.internal.BatchImpl.execute(BatchImpl.java:242)
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.executeBatch(JdbcCoordinatorImpl.java:188)
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:674)
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:511)
	at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:414)
	at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:41)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)
	at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1429)
	at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:491)
	at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:2354)
	at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:1978)
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:439)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:169)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:267)
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101)
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:562)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:795)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:758)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:698)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:416)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at ma.foodplus.ordering.system.product.service.ProductService$$SpringCGLIB$$0.updateProduct(<generated>)
	at ma.foodplus.ordering.system.product.controller.ProductController.updateProduct(ProductController.java:78)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.cache.interceptor.CacheInterceptor.lambda$invoke$0(CacheInterceptor.java:55)
	at org.springframework.cache.interceptor.CacheAspectSupport.invokeOperation(CacheAspectSupport.java:431)
	at org.springframework.cache.interceptor.CacheAspectSupport.evaluate(CacheAspectSupport.java:601)
	at org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:448)
	at org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:410)
	at org.springframework.cache.interceptor.CacheInterceptor.invoke(CacheInterceptor.java:65)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at ma.foodplus.ordering.system.product.controller.ProductController$$SpringCGLIB$$0.updateProduct(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPut(FrameworkServlet.java:925)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:593)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:114)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-06-14 20:38:32 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-06-14 20:38:32 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-06-14 20:38:32 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-06-14 20:38:32 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-06-14 20:38:32 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-06-14 20:39:30 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - Starting FoodPlusOrderingApplication using Java 21.0.7 with PID 507021 (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes started by louki in /home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system)
2025-06-14 20:39:30 [main] DEBUG m.f.o.s.FoodPlusOrderingApplication - Running with Spring Boot v3.5.0, Spring v6.2.7
2025-06-14 20:39:30 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - The following 1 profile is active: "dev"
2025-06-14 20:39:31 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-14 20:39:31 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-14 20:39:31 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 105 ms. Found 12 JPA repository interfaces.
2025-06-14 20:39:31 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-14 20:39:31 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-06-14 20:39:31 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.common.repository.CategoryTarifRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 20:39:31 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.CustomerGroupRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 20:39:31 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.CustomerRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 20:39:31 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.ProductCustomerRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 20:39:31 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.DepotRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 20:39:31 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.ProductStockRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 20:39:31 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.SiteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 20:39:31 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.order.repository.OrderRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 20:39:31 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.product.repository.CategoryRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 20:39:31 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.product.repository.ProductAuditRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 20:39:31 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.product.repository.ProductRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 20:39:31 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.promos.repository.PromotionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 20:39:31 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 17 ms. Found 0 Redis repository interfaces.
2025-06-14 20:39:32 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8087 (http)
2025-06-14 20:39:32 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-14 20:39:32 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.41]
2025-06-14 20:39:32 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-14 20:39:32 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2066 ms
2025-06-14 20:39:32 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-06-14 20:39:33 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@47f0e078
2025-06-14 20:39:33 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-06-14 20:39:33 [main] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://10.113.181.84:5432/foodplus_ordering (PostgreSQL 17.5)
2025-06-14 20:39:33 [main] INFO  o.f.core.internal.command.DbValidate - Successfully validated 6 migrations (execution time 00:00.024s)
2025-06-14 20:39:33 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "public": 1.7.2
2025-06-14 20:39:33 [main] WARN  o.f.core.internal.command.DbMigrate - outOfOrder mode is active. Migration of schema "public" may not be reproducible.
2025-06-14 20:39:33 [main] INFO  o.f.core.internal.command.DbMigrate - Schema "public" is up to date. No migration necessary.
2025-06-14 20:39:33 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-06-14 20:39:33 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.15.Final
2025-06-14 20:39:33 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-06-14 20:39:33 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-06-14 20:39:33 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 17.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-06-14 20:39:33 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-06-14 20:39:34 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-06-14 20:39:34 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-06-14 20:39:35 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-06-14 20:39:37 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-06-14 20:39:38 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 4 endpoints beneath base path '/actuator'
2025-06-14 20:39:38 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8087 (http) with context path '/'
2025-06-14 20:39:38 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - Started FoodPlusOrderingApplication in 8.497 seconds (process running for 8.855)
2025-06-14 20:39:38 [main] INFO  m.f.o.s.p.s.CacheWarmingService - Starting cache warm-up...
2025-06-14 20:39:38 [main] INFO  m.f.o.s.p.service.ProductService - Getting all products
2025-06-14 20:39:38 [main] INFO  m.f.o.s.p.s.CacheWarmingService - Warmed up all products cache
2025-06-14 20:39:38 [main] INFO  m.f.o.s.p.s.CacheWarmingService - Warmed up deliverable products cache
2025-06-14 20:39:38 [main] INFO  m.f.o.s.p.s.CacheWarmingService - Warmed up active products cache
2025-06-14 20:39:38 [main] INFO  m.f.o.s.p.s.CacheWarmingService - Cache warm-up completed
2025-06-14 20:39:46 [http-nio-8087-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-06-14 20:39:46 [http-nio-8087-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-06-14 20:39:46 [http-nio-8087-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-06-14 20:39:46 [http-nio-8087-exec-2] INFO  org.hibernate.orm.jdbc.batch - HHH100503: On release of batch it still contained JDBC statements
2025-06-14 20:39:46 [http-nio-8087-exec-2] WARN  o.h.e.jdbc.spi.SqlExceptionHelper - SQL Error: 0, SQLState: 23502
2025-06-14 20:39:46 [http-nio-8087-exec-2] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - Batch entry 0 update products set additional_photos=(NULL),availability_schedule=(NULL),b2b_contract_discount_percentage=(NULL),b2b_contract_required=(NULL),b2b_credit_terms=(NULL),b2b_custom_pricing_enabled=(NULL),b2b_delivery_lead_time=(NULL),b2b_minimum_order_value=(NULL),b2b_payment_methods=(NULL),b2b_volume_discount_enabled=(NULL),b2c_display_in_catalog=(NULL),b2c_featured=(NULL),b2c_loyalty_points_multiplier=(NULL),b2c_promo_end_date=(NULL),b2c_promo_price=(NULL),b2c_promo_start_date=(NULL),b2c_rating=(NULL),b2c_retail_price=(NULL),b2c_review_count=(NULL),barcode=(NULL),bulk_discount_percentage=(NULL),bulk_discount_threshold=(NULL),bulk_package_size=(NULL),bulk_package_unit=(NULL),certification=(NULL),country_of_origin=(NULL),custom_attributes=(NULL),customer_segments=(NULL),deliverable=('TRUE'::boolean),description=('Updated description for premium olive oil'),dimensions=(NULL),inactive=('FALSE'::boolean),is_bulk_item=('FALSE'::boolean),is_perishable=('FALSE'::boolean),is_wholesale_only=('FALSE'::boolean),maximum_order_quantity=(NULL),minimum_order_quantity=(NULL),package_quantity=(NULL),package_size=(NULL),photo=(NULL),price_including_tax=('41.99'::numeric),family_code=('FAM001'),promo_sku_points=('0'::numeric),reference=(NULL),requires_approval=('FALSE'::boolean),requires_cold_storage=('FALSE'::boolean),requires_contract=('FALSE'::boolean),sale_price=('34.99'::numeric),sale_unit=(NULL),seasonality=(NULL),sku=(NULL),stock_tracking=('Aucun'),supplier_code=(NULL),supplier_name=(NULL),target_market=(NULL),tax_rate=(NULL),title=('Updated Premium Olive Oil'),unit_price=('0.0'::numeric),updated_at=('2025-06-14 19:39:46.51222+00'),vendable=('TRUE'::boolean),visible=('TRUE'::boolean),weight=(NULL),weight_unit=(NULL),wholesale_discount_percentage=(NULL),wholesale_minimum_quantity=(NULL),wholesale_price=(NULL),wholesale_tier_1_price=(NULL),wholesale_tier_1_quantity=(NULL),wholesale_tier_2_price=(NULL),wholesale_tier_2_quantity=(NULL),wholesale_tier_3_price=(NULL),wholesale_tier_3_quantity=(NULL) where id=('1'::int8) was aborted: ERROR: null value in column "reference" of relation "products" violates not-null constraint
  Detail: Failing row contains (null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, t, f, f, f, f, null, null, null, 41.99, 0.00, f, f, f, 34.99, null, 0.00, t, t, null, null, null, null, null, null, null, null, null, null, null, null, 2025-06-14 14:58:43.032243+01, 1, 2025-06-14 20:39:46.51222+01, null, null, Aucun, null, null, null, null, null, null, null, null, null, null, null, Updated Premium Olive Oil, null, null, null, null, Updated description for premium olive oil, FAM001, null, null, null).  Call getNextException to see other errors in the batch.
2025-06-14 20:39:46 [http-nio-8087-exec-2] ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: null value in column "reference" of relation "products" violates not-null constraint
  Detail: Failing row contains (null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, t, f, f, f, f, null, null, null, 41.99, 0.00, f, f, f, 34.99, null, 0.00, t, t, null, null, null, null, null, null, null, null, null, null, null, null, 2025-06-14 14:58:43.032243+01, 1, 2025-06-14 20:39:46.51222+01, null, null, Aucun, null, null, null, null, null, null, null, null, null, null, null, Updated Premium Olive Oil, null, null, null, null, Updated description for premium olive oil, FAM001, null, null, null).
2025-06-14 20:39:46 [http-nio-8087-exec-2] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.dao.DataIntegrityViolationException: could not execute batch [Batch entry 0 update products set additional_photos=(NULL),availability_schedule=(NULL),b2b_contract_discount_percentage=(NULL),b2b_contract_required=(NULL),b2b_credit_terms=(NULL),b2b_custom_pricing_enabled=(NULL),b2b_delivery_lead_time=(NULL),b2b_minimum_order_value=(NULL),b2b_payment_methods=(NULL),b2b_volume_discount_enabled=(NULL),b2c_display_in_catalog=(NULL),b2c_featured=(NULL),b2c_loyalty_points_multiplier=(NULL),b2c_promo_end_date=(NULL),b2c_promo_price=(NULL),b2c_promo_start_date=(NULL),b2c_rating=(NULL),b2c_retail_price=(NULL),b2c_review_count=(NULL),barcode=(NULL),bulk_discount_percentage=(NULL),bulk_discount_threshold=(NULL),bulk_package_size=(NULL),bulk_package_unit=(NULL),certification=(NULL),country_of_origin=(NULL),custom_attributes=(NULL),customer_segments=(NULL),deliverable=('TRUE'::boolean),description=('Updated description for premium olive oil'),dimensions=(NULL),inactive=('FALSE'::boolean),is_bulk_item=('FALSE'::boolean),is_perishable=('FALSE'::boolean),is_wholesale_only=('FALSE'::boolean),maximum_order_quantity=(NULL),minimum_order_quantity=(NULL),package_quantity=(NULL),package_size=(NULL),photo=(NULL),price_including_tax=('41.99'::numeric),family_code=('FAM001'),promo_sku_points=('0'::numeric),reference=(NULL),requires_approval=('FALSE'::boolean),requires_cold_storage=('FALSE'::boolean),requires_contract=('FALSE'::boolean),sale_price=('34.99'::numeric),sale_unit=(NULL),seasonality=(NULL),sku=(NULL),stock_tracking=('Aucun'),supplier_code=(NULL),supplier_name=(NULL),target_market=(NULL),tax_rate=(NULL),title=('Updated Premium Olive Oil'),unit_price=('0.0'::numeric),updated_at=('2025-06-14 19:39:46.51222+00'),vendable=('TRUE'::boolean),visible=('TRUE'::boolean),weight=(NULL),weight_unit=(NULL),wholesale_discount_percentage=(NULL),wholesale_minimum_quantity=(NULL),wholesale_price=(NULL),wholesale_tier_1_price=(NULL),wholesale_tier_1_quantity=(NULL),wholesale_tier_2_price=(NULL),wholesale_tier_2_quantity=(NULL),wholesale_tier_3_price=(NULL),wholesale_tier_3_quantity=(NULL) where id=('1'::int8) was aborted: ERROR: null value in column "reference" of relation "products" violates not-null constraint
  Detail: Failing row contains (null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, t, f, f, f, f, null, null, null, 41.99, 0.00, f, f, f, 34.99, null, 0.00, t, t, null, null, null, null, null, null, null, null, null, null, null, null, 2025-06-14 14:58:43.032243+01, 1, 2025-06-14 20:39:46.51222+01, null, null, Aucun, null, null, null, null, null, null, null, null, null, null, null, Updated Premium Olive Oil, null, null, null, null, Updated description for premium olive oil, FAM001, null, null, null).  Call getNextException to see other errors in the batch.] [update products set additional_photos=?,availability_schedule=?,b2b_contract_discount_percentage=?,b2b_contract_required=?,b2b_credit_terms=?,b2b_custom_pricing_enabled=?,b2b_delivery_lead_time=?,b2b_minimum_order_value=?,b2b_payment_methods=?,b2b_volume_discount_enabled=?,b2c_display_in_catalog=?,b2c_featured=?,b2c_loyalty_points_multiplier=?,b2c_promo_end_date=?,b2c_promo_price=?,b2c_promo_start_date=?,b2c_rating=?,b2c_retail_price=?,b2c_review_count=?,barcode=?,bulk_discount_percentage=?,bulk_discount_threshold=?,bulk_package_size=?,bulk_package_unit=?,certification=?,country_of_origin=?,custom_attributes=?,customer_segments=?,deliverable=?,description=?,dimensions=?,inactive=?,is_bulk_item=?,is_perishable=?,is_wholesale_only=?,maximum_order_quantity=?,minimum_order_quantity=?,package_quantity=?,package_size=?,photo=?,price_including_tax=?,family_code=?,promo_sku_points=?,reference=?,requires_approval=?,requires_cold_storage=?,requires_contract=?,sale_price=?,sale_unit=?,seasonality=?,sku=?,stock_tracking=?,supplier_code=?,supplier_name=?,target_market=?,tax_rate=?,title=?,unit_price=?,updated_at=?,vendable=?,visible=?,weight=?,weight_unit=?,wholesale_discount_percentage=?,wholesale_minimum_quantity=?,wholesale_price=?,wholesale_tier_1_price=?,wholesale_tier_1_quantity=?,wholesale_tier_2_price=?,wholesale_tier_2_quantity=?,wholesale_tier_3_price=?,wholesale_tier_3_quantity=? where id=?]; SQL [update products set additional_photos=?,availability_schedule=?,b2b_contract_discount_percentage=?,b2b_contract_required=?,b2b_credit_terms=?,b2b_custom_pricing_enabled=?,b2b_delivery_lead_time=?,b2b_minimum_order_value=?,b2b_payment_methods=?,b2b_volume_discount_enabled=?,b2c_display_in_catalog=?,b2c_featured=?,b2c_loyalty_points_multiplier=?,b2c_promo_end_date=?,b2c_promo_price=?,b2c_promo_start_date=?,b2c_rating=?,b2c_retail_price=?,b2c_review_count=?,barcode=?,bulk_discount_percentage=?,bulk_discount_threshold=?,bulk_package_size=?,bulk_package_unit=?,certification=?,country_of_origin=?,custom_attributes=?,customer_segments=?,deliverable=?,description=?,dimensions=?,inactive=?,is_bulk_item=?,is_perishable=?,is_wholesale_only=?,maximum_order_quantity=?,minimum_order_quantity=?,package_quantity=?,package_size=?,photo=?,price_including_tax=?,family_code=?,promo_sku_points=?,reference=?,requires_approval=?,requires_cold_storage=?,requires_contract=?,sale_price=?,sale_unit=?,seasonality=?,sku=?,stock_tracking=?,supplier_code=?,supplier_name=?,target_market=?,tax_rate=?,title=?,unit_price=?,updated_at=?,vendable=?,visible=?,weight=?,weight_unit=?,wholesale_discount_percentage=?,wholesale_minimum_quantity=?,wholesale_price=?,wholesale_tier_1_price=?,wholesale_tier_1_quantity=?,wholesale_tier_2_price=?,wholesale_tier_2_quantity=?,wholesale_tier_3_price=?,wholesale_tier_3_quantity=? where id=?]; constraint [reference" of relation "products]] with root cause
org.postgresql.util.PSQLException: ERROR: null value in column "reference" of relation "products" violates not-null constraint
  Detail: Failing row contains (null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, t, f, f, f, f, null, null, null, 41.99, 0.00, f, f, f, 34.99, null, 0.00, t, t, null, null, null, null, null, null, null, null, null, null, null, null, 2025-06-14 14:58:43.032243+01, 1, 2025-06-14 20:39:46.51222+01, null, null, Aucun, null, null, null, null, null, null, null, null, null, null, null, Updated Premium Olive Oil, null, null, null, null, Updated description for premium olive oil, FAM001, null, null, null).
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:580)
	at org.postgresql.jdbc.PgStatement.internalExecuteBatch(PgStatement.java:889)
	at org.postgresql.jdbc.PgStatement.executeBatch(PgStatement.java:913)
	at org.postgresql.jdbc.PgPreparedStatement.executeBatch(PgPreparedStatement.java:1739)
	at com.zaxxer.hikari.pool.ProxyStatement.executeBatch(ProxyStatement.java:128)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeBatch(HikariProxyPreparedStatement.java)
	at org.hibernate.engine.jdbc.batch.internal.BatchImpl.lambda$performExecution$2(BatchImpl.java:279)
	at org.hibernate.engine.jdbc.mutation.internal.PreparedStatementGroupSingleTable.forEachStatement(PreparedStatementGroupSingleTable.java:67)
	at org.hibernate.engine.jdbc.batch.internal.BatchImpl.performExecution(BatchImpl.java:264)
	at org.hibernate.engine.jdbc.batch.internal.BatchImpl.execute(BatchImpl.java:242)
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.executeBatch(JdbcCoordinatorImpl.java:188)
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:674)
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:511)
	at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:414)
	at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:41)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)
	at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1429)
	at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:491)
	at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:2354)
	at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:1978)
	at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:439)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:169)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:267)
	at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101)
	at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:562)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:795)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:758)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:698)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:416)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at ma.foodplus.ordering.system.product.service.ProductService$$SpringCGLIB$$0.updateProduct(<generated>)
	at ma.foodplus.ordering.system.product.controller.ProductController.updateProduct(ProductController.java:78)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.cache.interceptor.CacheInterceptor.lambda$invoke$0(CacheInterceptor.java:55)
	at org.springframework.cache.interceptor.CacheAspectSupport.invokeOperation(CacheAspectSupport.java:431)
	at org.springframework.cache.interceptor.CacheAspectSupport.evaluate(CacheAspectSupport.java:601)
	at org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:448)
	at org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:410)
	at org.springframework.cache.interceptor.CacheInterceptor.invoke(CacheInterceptor.java:65)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at ma.foodplus.ordering.system.product.controller.ProductController$$SpringCGLIB$$0.updateProduct(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPut(FrameworkServlet.java:925)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:593)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.ServerHttpObservationFilter.doFilterInternal(ServerHttpObservationFilter.java:114)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
2025-06-14 20:40:06 [SpringApplicationShutdownHook] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-06-14 20:40:06 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-06-14 20:40:06 [SpringApplicationShutdownHook] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-06-14 20:40:06 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-06-14 20:40:06 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-06-14 20:40:48 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - Starting FoodPlusOrderingApplication using Java 21.0.7 with PID 508102 (/home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system/nvp/target/classes started by louki in /home/louki/MY_LAP/Organizations/foodplus/foodplus-ordering-system)
2025-06-14 20:40:48 [main] DEBUG m.f.o.s.FoodPlusOrderingApplication - Running with Spring Boot v3.5.0, Spring v6.2.7
2025-06-14 20:40:48 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - The following 1 profile is active: "dev"
2025-06-14 20:40:49 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-14 20:40:49 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-06-14 20:40:49 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 169 ms. Found 12 JPA repository interfaces.
2025-06-14 20:40:50 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
2025-06-14 20:40:50 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2025-06-14 20:40:50 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.common.repository.CategoryTarifRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 20:40:50 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.CustomerGroupRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 20:40:50 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.CustomerRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 20:40:50 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.customer.repository.ProductCustomerRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 20:40:50 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.DepotRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 20:40:50 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.ProductStockRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 20:40:50 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.inventory.repository.SiteRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 20:40:50 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.order.repository.OrderRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 20:40:50 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.product.repository.CategoryRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 20:40:50 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.product.repository.ProductAuditRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 20:40:50 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.product.repository.ProductRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 20:40:50 [main] INFO  o.s.d.r.c.RepositoryConfigurationExtensionSupport - Spring Data Redis - Could not safely identify store assignment for repository candidate interface ma.foodplus.ordering.system.promos.repository.PromotionRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2025-06-14 20:40:50 [main] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 24 ms. Found 0 Redis repository interfaces.
2025-06-14 20:40:51 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8087 (http)
2025-06-14 20:40:51 [main] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-06-14 20:40:51 [main] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.41]
2025-06-14 20:40:51 [main] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-06-14 20:40:51 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2515 ms
2025-06-14 20:40:51 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-06-14 20:40:52 [main] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@47f0e078
2025-06-14 20:40:52 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-06-14 20:40:52 [main] INFO  org.flywaydb.core.FlywayExecutor - Database: jdbc:postgresql://10.113.181.84:5432/foodplus_ordering (PostgreSQL 17.5)
2025-06-14 20:40:52 [main] INFO  o.f.core.internal.command.DbValidate - Successfully validated 6 migrations (execution time 00:00.117s)
2025-06-14 20:40:52 [main] INFO  o.f.core.internal.command.DbMigrate - Current version of schema "public": 1.7.2
2025-06-14 20:40:52 [main] WARN  o.f.core.internal.command.DbMigrate - outOfOrder mode is active. Migration of schema "public" may not be reproducible.
2025-06-14 20:40:52 [main] INFO  o.f.core.internal.command.DbMigrate - Schema "public" is up to date. No migration necessary.
2025-06-14 20:40:52 [main] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-06-14 20:40:52 [main] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.15.Final
2025-06-14 20:40:52 [main] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-06-14 20:40:53 [main] WARN  org.hibernate.orm.deprecation - HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-06-14 20:40:53 [main] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 17.5
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-06-14 20:40:53 [main] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-06-14 20:40:54 [main] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-06-14 20:40:54 [main] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-06-14 20:40:54 [main] INFO  o.s.d.j.r.query.QueryEnhancerFactory - Hibernate is in classpath; If applicable, HQL parser will be used.
2025-06-14 20:40:57 [main] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-06-14 20:40:58 [main] INFO  o.s.b.a.e.web.EndpointLinksResolver - Exposing 4 endpoints beneath base path '/actuator'
2025-06-14 20:40:58 [main] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8087 (http) with context path '/'
2025-06-14 20:40:58 [main] INFO  m.f.o.s.FoodPlusOrderingApplication - Started FoodPlusOrderingApplication in 9.942 seconds (process running for 10.36)
2025-06-14 20:40:58 [main] INFO  m.f.o.s.p.s.CacheWarmingService - Starting cache warm-up...
2025-06-14 20:40:58 [main] INFO  m.f.o.s.p.service.ProductService - Getting all products
2025-06-14 20:40:58 [main] INFO  m.f.o.s.p.s.CacheWarmingService - Warmed up all products cache
2025-06-14 20:40:58 [main] INFO  m.f.o.s.p.s.CacheWarmingService - Warmed up deliverable products cache
2025-06-14 20:40:58 [main] INFO  m.f.o.s.p.s.CacheWarmingService - Warmed up active products cache
2025-06-14 20:40:58 [main] INFO  m.f.o.s.p.s.CacheWarmingService - Cache warm-up completed
2025-06-14 20:41:10 [http-nio-8087-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-06-14 20:41:10 [http-nio-8087-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-06-14 20:41:10 [http-nio-8087-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
